"use strict";var e,t=require("@cometchat/uikit-shared"),n=require("@cometchat/uikit-resources"),o=require("@cometchat/uikit-elements"),r=require("react"),s=require("@cometchat/chat-sdk-javascript"),i=require("react-dom"),a={exports:{}},l={};var c,C={};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"production"===process.env.NODE_ENV?a.exports=function(){if(e)return l;e=1;var t=r,n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var r,l={},c=null,C=null;for(r in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(C=t.ref),t)s.call(t,r)&&!a.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:C,props:l,_owner:i.current}}return l.Fragment=o,l.jsx=c,l.jsxs=c,l}():a.exports=(c||(c=1,"production"!==process.env.NODE_ENV&&function(){var e=r,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),m=Symbol.iterator,A="@@iterator",x=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];!function(e,t,n){var o=x.ReactDebugCurrentFrame.getStackAddendum();""!==o&&(t+="%s",n=n.concat([o]));var r=n.map((function(e){return String(e)}));r.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,r)}("error",e,n)}var y,f=!1,w=!1,D=!1,E=!1,v=!1;function S(e){return e.displayName||"Context"}function I(e){if(null==e)return null;if("number"==typeof e.tag&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case o:return"Fragment";case n:return"Portal";case i:return"Profiler";case s:return"StrictMode";case g:return"Suspense";case d:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return S(e)+".Consumer";case a:return S(e._context)+".Provider";case c:return function(e,t,n){var o=e.displayName;if(o)return o;var r=t.displayName||t.name||"";return""!==r?n+"("+r+")":n}(e,e.render,"ForwardRef");case u:var t=e.displayName||null;return null!==t?t:I(e.type)||"Memo";case p:var r=e,C=r._payload,h=r._init;try{return I(h(C))}catch(e){return null}}return null}y=Symbol.for("react.module.reference");var F,k,T,M,B,L,R,U=Object.assign,P=0;function O(){}O.__reactDisabledLog=!0;var j,G=x.ReactCurrentDispatcher;function V(e,t,n){if(void 0===j)try{throw Error()}catch(e){var o=e.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return"\n"+j+e}var H,Q=!1,N="function"==typeof WeakMap?WeakMap:Map;function K(e,t){if(!e||Q)return"";var n,o=H.get(e);if(void 0!==o)return o;Q=!0;var r,s=Error.prepareStackTrace;Error.prepareStackTrace=void 0,r=G.current,G.current=null,function(){if(0===P){F=console.log,k=console.info,T=console.warn,M=console.error,B=console.group,L=console.groupCollapsed,R=console.groupEnd;var e={configurable:!0,enumerable:!0,value:O,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}P++}();try{if(t){var i=function(){throw Error()};if(Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(i,[])}catch(e){n=e}Reflect.construct(e,[],i)}else{try{i.call()}catch(e){n=e}e.call(i.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),l=n.stack.split("\n"),c=a.length-1,C=l.length-1;c>=1&&C>=0&&a[c]!==l[C];)C--;for(;c>=1&&C>=0;c--,C--)if(a[c]!==l[C]){if(1!==c||1!==C)do{if(c--,--C<0||a[c]!==l[C]){var g="\n"+a[c].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),"function"==typeof e&&H.set(e,g),g}}while(c>=1&&C>=0);break}}}finally{Q=!1,G.current=r,function(){if(0==--P){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:U({},e,{value:F}),info:U({},e,{value:k}),warn:U({},e,{value:T}),error:U({},e,{value:M}),group:U({},e,{value:B}),groupCollapsed:U({},e,{value:L}),groupEnd:U({},e,{value:R})})}P<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=s}var d=e?e.displayName||e.name:"",u=d?V(d):"";return"function"==typeof e&&H.set(e,u),u}function z(e,t,n){if(null==e)return"";if("function"==typeof e)return K(e,!(!(o=e.prototype)||!o.isReactComponent));var o;if("string"==typeof e)return V(e);switch(e){case g:return V("Suspense");case d:return V("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case c:return K(e.render,!1);case u:return z(e.type,t,n);case p:var r=e,s=r._payload,i=r._init;try{return z(i(s),t,n)}catch(e){}}return""}H=new N;var _=Object.prototype.hasOwnProperty,J={},Y=x.ReactDebugCurrentFrame;function W(e){if(e){var t=e._owner,n=z(e.type,e._source,t?t.type:null);Y.setExtraStackFrame(n)}else Y.setExtraStackFrame(null)}var Z=Array.isArray;function X(e){return Z(e)}function q(e){return""+e}function $(e){if(function(e){try{return q(e),!1}catch(e){return!0}}(e))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),q(e)}var ee,te,ne,oe=x.ReactCurrentOwner,re={key:!0,ref:!0,__self:!0,__source:!0};ne={};var se=function(e,n,o,r,s,i,a){var l={$$typeof:t,type:e,key:n,ref:o,props:a,_owner:i,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l};function ie(e,t,n,o,r){var s,i={},a=null,l=null;for(s in void 0!==n&&($(n),a=""+n),function(e){if(_.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&($(t.key),a=""+t.key),function(e){if(_.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(l=t.ref,function(e,t){if("string"==typeof e.ref&&oe.current&&t&&oe.current.stateNode!==t){var n=I(oe.current.type);ne[n]||(b('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',I(oe.current.type),e.ref),ne[n]=!0)}}(t,r)),t)_.call(t,s)&&!re.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps){var c=e.defaultProps;for(s in c)void 0===i[s]&&(i[s]=c[s])}if(a||l){var C="function"==typeof e?e.displayName||e.name||"Unknown":e;a&&function(e,t){var n=function(){ee||(ee=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(i,C),l&&function(e,t){var n=function(){te||(te=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(i,C)}return se(e,a,l,r,o,oe.current,i)}var ae,le=x.ReactCurrentOwner,ce=x.ReactDebugCurrentFrame;function Ce(e){if(e){var t=e._owner,n=z(e.type,e._source,t?t.type:null);ce.setExtraStackFrame(n)}else ce.setExtraStackFrame(null)}function ge(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function de(){if(le.current){var e=I(le.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}ae=!1;var ue={};function pe(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=de();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ue[n]){ue[n]=!0;var o="";e&&e._owner&&e._owner!==le.current&&(o=" It was passed a child from "+I(e._owner.type)+"."),Ce(e),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,o),Ce(null)}}}function he(e,t){if("object"==typeof e)if(X(e))for(var n=0;n<e.length;n++){var o=e[n];ge(o)&&pe(o,t)}else if(ge(e))e._store&&(e._store.validated=!0);else if(e){var r=function(e){if(null===e||"object"!=typeof e)return null;var t=m&&e[m]||e[A];return"function"==typeof t?t:null}(e);if("function"==typeof r&&r!==e.entries)for(var s,i=r.call(e);!(s=i.next()).done;)ge(s.value)&&pe(s.value,t)}}function me(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==c&&n.$$typeof!==u)return;t=n.propTypes}if(t){var o=I(n);!function(e,t,n,o,r){var s=Function.call.bind(_);for(var i in e)if(s(e,i)){var a=void 0;try{if("function"!=typeof e[i]){var l=Error((o||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}a=e[i](t,i,o,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}!a||a instanceof Error||(W(r),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",n,i,typeof a),W(null)),a instanceof Error&&!(a.message in J)&&(J[a.message]=!0,W(r),b("Failed %s type: %s",n,a.message),W(null))}}(t,e.props,"prop",o,e)}else void 0===n.PropTypes||ae||(ae=!0,b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",I(n)||"Unknown"));"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ae(e,n,r,C,m,A){var x=function(e){return"string"==typeof e||"function"==typeof e||!!(e===o||e===i||v||e===s||e===g||e===d||E||e===h||f||w||D)||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===u||e.$$typeof===a||e.$$typeof===l||e.$$typeof===c||e.$$typeof===y||void 0!==e.getModuleId)}(e);if(!x){var S="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(S+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var F,k=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(m);S+=k||de(),null===e?F="null":X(e)?F="array":void 0!==e&&e.$$typeof===t?(F="<"+(I(e.type)||"Unknown")+" />",S=" Did you accidentally export a JSX literal instead of a component?"):F=typeof e,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",F,S)}var T=ie(e,n,r,m,A);if(null==T)return T;if(x){var M=n.children;if(void 0!==M)if(C)if(X(M)){for(var B=0;B<M.length;B++)he(M[B],e);Object.freeze&&Object.freeze(M)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else he(M,e)}return e===o?function(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var o=t[n];if("children"!==o&&"key"!==o){Ce(e),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",o),Ce(null);break}}null!==e.ref&&(Ce(e),b("Invalid attribute `ref` supplied to `React.Fragment`."),Ce(null))}(T):me(T),T}var xe=function(e,t,n){return Ae(e,t,n,!1)},be=function(e,t,n){return Ae(e,t,n,!0)};C.Fragment=o,C.jsx=xe,C.jsxs=be}()),C);var g=a.exports;
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const d=new Set(["children","localName","ref","style","className"]),u=new WeakMap,p=(e,t,n,o,r)=>{const s=null==r?void 0:r[t];void 0===s||n===o?null==n&&t in HTMLElement.prototype?e.removeAttribute(t):e[t]=n:((e,t,n)=>{let o=u.get(e);void 0===o&&u.set(e,o=new Map);let r=o.get(t);void 0!==n?void 0===r?(o.set(t,r={handleEvent:n}),e.addEventListener(t,r)):r.handleEvent=n:void 0!==r&&(o.delete(t),e.removeEventListener(t,r))})(e,s,n)};function h(e=window.React,t,n,o,r){let s,i,a;if(void 0===t){const t=e;({tagName:i,elementClass:a,events:o,displayName:r}=t),s=t.react}else s=e,a=n,i=t;const l=s.Component,c=s.createElement,C=new Set(Object.keys(null!=o?o:{}));class g extends l{constructor(){super(...arguments),this.o=null}t(e){if(null!==this.o)for(const t in this.i)p(this.o,t,this.props[t],e?e[t]:void 0,o)}componentDidMount(){var e;this.t(),null===(e=this.o)||void 0===e||e.removeAttribute("defer-hydration")}componentDidUpdate(e){this.t(e)}render(){const{_$Gl:e,...t}=this.props;this.h!==e&&(this.u=t=>{null!==e&&((e,t)=>{"function"==typeof e?e(t):e.current=t})(e,t),this.o=t,this.h=e}),this.i={};const n={ref:this.u};for(const[e,o]of Object.entries(t))d.has(e)?n["className"===e?"class":e]=o:C.has(e)||e in a.prototype?this.i[e]=o:n[e]=o;return n.suppressHydrationWarning=!0,c(i,n)}}g.displayName=null!=r?r:a.name;const u=s.forwardRef(((e,t)=>c(g,{...e,_$Gl:t},null==e?void 0:e.children)));return u.displayName=g.displayName,u}const m=h({tagName:"cometchat-text-bubble",elementClass:o.CometChatTextBubble,react:r}),A=h({tagName:"cometchat-image-bubble",elementClass:o.CometChatImageBubble,react:r,events:{ccImageClicked:"cc-image-clicked"}}),x=h({tagName:"cometchat-audio-bubble",elementClass:o.CometChatAudioBubble,react:r}),b=h({tagName:"cometchat-video-bubble",elementClass:o.CometChatVideoBubble,react:r}),y=h({tagName:"cometchat-file-bubble",elementClass:o.CometChatFileBubble,react:r}),f=h({tagName:"cometchat-form-bubble",elementClass:t.CometChatFormBubble,react:r,events:{ccSubmitClicked:"cc-submit-clicked"}}),w=h({tagName:"cometchat-scheduler-bubble",elementClass:t.CometChatSchedulerBubble,react:r}),D=h({tagName:"cometchat-card-bubble",elementClass:t.CometChatCardBubble,react:r}),E=h({tagName:"cometchat-full-screen-viewer",elementClass:o.CometChatFullScreenViewer,react:r,events:{ccCloseClicked:"cc-close-clicked"}}),v=new n.CometChatTheme({});class S{constructor(){this.getSchedulerBubbleStyle=e=>{let r=new o.AvatarStyle({borderRadius:"50%",width:"48px",height:"48px",border:"none",backgroundColor:e.palette.getAccent700(),nameTextColor:e.palette.getAccent900(),backgroundSize:"cover",nameTextFont:n.fontHelper(e.typography.subtitle1)}),s=new o.ListItemStyle({height:"auto",width:"100%",background:"inherit",activeBackground:"transparent",borderRadius:"0",titleFont:n.fontHelper(e.typography.text1),titleColor:e.palette.getAccent(),border:"none",separatorColor:"",hoverBackground:"transparent"}),i=new t.CalendarStyle({height:"100%",width:"100%",border:"none",borderRadius:"0",background:"transparent",dateTextFont:n.fontHelper(e.typography.subtitle2),dateTextColor:e.palette.getAccent(),dayTextFont:n.fontHelper(e.typography.text2),dayTextColor:e.palette.getAccent(),monthYearTextFont:n.fontHelper(e.typography.text2),monthYearTextColor:e.palette.getAccent(),defaultDateTextBackground:"transparent",disabledDateTextColor:e.palette.getAccent400(),disabledDateTextFont:n.fontHelper(e.typography.subtitle2),disabledDateTextBackground:"transparent",titleTextFont:n.fontHelper(e.typography.text1),titleTextColor:e.palette.getAccent(),timezoneTextFont:n.fontHelper(e.typography.caption2),timezoneTextColor:e.palette.getAccent(),arrowButtonTextColor:e.palette.getAccent(),arrowButtonTextFont:n.fontHelper(e.typography.title2)}),a=new t.TimeSlotStyle({background:"transparent",height:"fit-content",width:"100%",border:"none",borderRadius:"0",calendarIconTint:e.palette.getAccent(),timezoneIconTint:e.palette.getAccent(),emptySlotIconTint:e.palette.getAccent500(),emptySlotTextColor:e.palette.getAccent500(),emptySlotTextFont:n.fontHelper(e.typography.subtitle1),dateTextColor:e.palette.getAccent(),dateTextFont:n.fontHelper(e.typography.subtitle1),seperatorTint:e.palette.getAccent100(),slotBackground:e.palette.getAccent900(),slotBorder:"none",slotBorderRadius:"8px",slotTextColor:e.palette.getAccent(),slotTextFont:n.fontHelper(e.typography.caption2),timezoneTextColor:e.palette.getAccent(),timezoneTextFont:n.fontHelper(e.typography.caption2),titleTextColor:e.palette.getAccent(),titleTextFont:n.fontHelper(e.typography.text1)}),l=new o.QuickViewStyle({background:e.palette.getAccent50(),height:"fit-content",width:"100%",titleFont:n.fontHelper(e.typography.subtitle2),titleColor:e.palette.getAccent(),subtitleFont:n.fontHelper(e.typography.subtitle2),subtitleColor:e.palette.getAccent600(),leadingBarTint:e.palette.getPrimary(),leadingBarWidth:"4px",borderRadius:"8px"});return new t.SchedulerBubbleStyle({avatarStyle:r,listItemStyle:s,quickViewStyle:l,dateSelectorStyle:i,timeSlotSelectorStyle:a,backButtonIconTint:e.palette.getPrimary(),background:"transparent",height:"100%",width:"100%",border:`1px solid ${e.palette.getAccent100()}`,borderRadius:"8px",loadingIconTint:e.palette.getAccent600(),suggestedTimeBackground:e.palette.getAccent900(),suggestedTimeBorder:`1px solid ${e.palette.getPrimary()}`,suggestedTimeBorderRadius:"8px",suggestedTimeDisabledBackground:e.palette.getAccent50(),suggestedTimeDisabledBorder:`1px solid ${e.palette.getAccent200()}`,suggestedTimeDisabledBorderRadius:"8px",suggestedTimeDisabledTextColor:e.palette.getAccent700(),suggestedTimeDisabledTextFont:n.fontHelper(e.typography.text3),suggestedTimeTextColor:e.palette.getPrimary(),suggestedTimeTextFont:n.fontHelper(e.typography.text3),moreButtonDisabledTextBackground:"transparent",moreButtonDisabledTextBorder:"none",moreButtonDisabledTextBorderRadius:"0",moreButtonDisabledTextColor:e.palette.getAccent600(),moreButtonDisabledTextFont:n.fontHelper(e.typography.caption2),moreButtonTextBackground:"transparent",moreButtonTextBorder:"none",moreButtonTextBorderRadius:"0",moreButtonTextColor:e.palette.getPrimary(),moreButtonTextFont:n.fontHelper(e.typography.caption2),goalCompletionTextColor:e.palette.getAccent(),goalCompletionTextFont:n.fontHelper(e.typography.text3),errorTextColor:e.palette.getError(),errorTextFont:n.fontHelper(e.typography.text3),scheduleButtonStyle:{iconHeight:"16px",iconWidth:"16px",buttonIconTint:e.palette.getAccent(),buttonTextFont:n.fontHelper(e.typography.name),buttonTextColor:e.palette.getAccent("dark"),border:"none",borderRadius:"8px",background:e.palette.getPrimary(),width:"100%",display:"flex",justifyContent:"center",padding:"8px"},seperatorTint:e.palette.getAccent200(),subtitleTextColor:e.palette.getAccent400(),subtitleTextFont:n.fontHelper(e.typography.name),summaryTextColor:e.palette.getAccent(),summaryTextFont:n.fontHelper(e.typography.subtitle1),timezoneTextColor:e.palette.getAccent600(),timezoneTextFont:n.fontHelper(e.typography.caption2),titleTextColor:e.palette.getAccent(),titleTextFont:n.fontHelper(e.typography.title1),timezoneIconTint:e.palette.getAccent(),calendarIconTint:e.palette.getAccent(),clockIconTint:e.palette.getAccent()})}}getEditOption(e){return new n.CometChatActionsIcon({id:n.CometChatUIKitConstants.MessageOption.editMessage,title:n.localize("EDIT_MESSAGE"),iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fediticon%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FEdit%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.8666667%2C0.883555287%20C17.2934403%2C0.312679329%2016.5158214%2C-0.00540815756%2015.7068357%2C0%20C14.8978501%2C0.00554734575%2014.1246099%2C0.334135909%2013.5591667%2C0.912721954%20L1.47583333%2C12.9960553%20L0%2C18.750222%20L5.75416667%2C17.2743886%20L17.8375%2C5.19105529%20C18.416086%2C4.6256121%2018.7446746%2C3.8523719%2018.750222%2C3.04338623%20C18.7556301%2C2.23440057%2018.4375426%2C1.45678164%2017.8666667%2C0.883555287%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2213.2133333%22%20y1%3D%221.25855529%22%20x2%3D%2217.4916667%22%20y2%3D%225.53688862%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2211.4683333%22%20y1%3D%223.00355529%22%20x2%3D%2215.7466667%22%20y2%3D%227.28188862%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%221.47583333%22%20y1%3D%2212.9960553%22%20x2%3D%225.75833333%22%20y2%3D%2217.270222%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:void 0,iconTint:e.palette.getAccent600(),backgroundColor:"transparent",titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent600()})}getDeleteOption(e){return new n.CometChatActionsIcon({id:n.CometChatUIKitConstants.MessageOption.deleteMessage,title:n.localize("DELETE"),iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fdeleteicon%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FDelete%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%223.6363627%22%20x2%3D%2220%22%20y2%3D%223.6363627%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M12.0454545%2C0%20L7.95454545%2C0%20C7.20142989%2C0%206.59090909%2C0.610520639%206.59090909%2C1.36363601%20L6.59090909%2C3.6363627%20L13.4090909%2C3.6363627%20L13.4090909%2C1.36363601%20C13.4090909%2C0.610520639%2012.7985701%2C0%2012.0454545%2C0%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%227.95454545%22%20y1%3D%2215.2272688%22%20x2%3D%227.95454545%22%20y2%3D%228.40908875%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2212.0454545%22%20y1%3D%2215.2272688%22%20x2%3D%2212.0454545%22%20y2%3D%228.40908875%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16.2363636%2C18.7454497%20C16.1838968%2C19.4542339%2015.5925391%2C20.0019341%2014.8818182%2C20%20L5.11818182%2C20%20C4.40746088%2C20.0019341%203.81610324%2C19.4542339%203.76363636%2C18.7454497%20L2.5%2C3.6363627%20L17.5%2C3.6363627%20L16.2363636%2C18.7454497%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:void 0,iconTint:e.palette.getAccent600(),backgroundColor:"transparent",titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent600()})}getReactionOption(e){return new n.CometChatActionsView({id:n.CometChatUIKitConstants.MessageOption.reactToMessage,title:n.localize("REACT_TO_MESSAGE"),iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2216px%22%20height%3D%2216px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%20Extensions%2FReactions%20Add%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24-Extensions%2FReactions-Add%22%20fill%3D%22%23000000%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M12%2C1.25%20C13.2547515%2C1.25%2014.4810955%2C1.46534515%2015.6383943%2C1.88154366%20C16.0281686%2C2.02171794%2016.2305095%2C2.45132619%2016.0903352%2C2.84110054%20C15.9501609%2C3.2308749%2015.5205527%2C3.43321574%2015.1307783%2C3.29304146%20C14.1357379%2C2.9351958%2013.0810879%2C2.75%2012%2C2.75%20C6.89136606%2C2.75%202.75%2C6.89136606%202.75%2C12%20C2.75%2C17.1086339%206.89136606%2C21.25%2012%2C21.25%20C17.1086339%2C21.25%2021.25%2C17.1086339%2021.25%2C12%20C21.25%2C11.2729266%2021.1662576%2C10.5573695%2021.0020875%2C9.8629795%20C20.906785%2C9.45987863%2021.1563049%2C9.05584287%2021.5594058%2C8.96054036%20C21.9625066%2C8.86523784%2022.3665424%2C9.11475771%2022.4618449%2C9.51785857%20C22.6527043%2C10.3251362%2022.75%2C11.1565032%2022.75%2C12%20C22.75%2C17.9370611%2017.9370611%2C22.75%2012%2C22.75%20C6.06293894%2C22.75%201.25%2C17.9370611%201.25%2C12%20C1.25%2C6.06293894%206.06293894%2C1.25%2012%2C1.25%20Z%20M17.6586667%2C13.25%20C18.1185754%2C13.25%2018.5498402%2C13.4733153%2018.8153335%2C13.8488361%20C19.0808092%2C14.2243322%2019.1475058%2C14.7053253%2018.9944111%2C15.1383417%20C17.9483179%2C18.1044405%2015.1451634%2C20.0881971%2012%2C20.0881971%20C8.85483662%2C20.0881971%206.05168206%2C18.1044405%205.00578211%2C15.1388889%20C4.85249421%2C14.7053253%204.91919084%2C14.2243322%205.18466653%2C13.8488361%20C5.45015977%2C13.4733153%205.88142461%2C13.25%206.34133333%2C13.25%20L6.34133333%2C13.25%20Z%20M17.558%2C14.695%20L17.538%2C14.749%20L6.461%2C14.749%20L6.50827179%2C14.8734156%20C7.3732069%2C17.0322917%209.42640021%2C18.4853104%2011.750045%2C18.5829516%20L11.750045%2C18.5829516%20L12%2C18.5881971%20C14.5090629%2C18.5881971%2016.7452873%2C17.0056497%2017.5800043%2C14.6388889%20L17.558%2C14.695%20Z%20M8.11422222%2C8.58288148%20C9.2798673%2C8.58288148%2010.3188817%2C9.31776232%2010.7071667%2C10.4168361%20C10.8451443%2C10.8073935%2010.6403879%2C11.2358557%2010.2498306%2C11.3738333%20C9.89181964%2C11.5003128%209.50195808%2C11.3388005%209.33318946%2C11.0101749%20L9.29283333%2C10.9164972%20C9.11634015%2C10.4169182%208.6440609%2C10.0828815%208.11422222%2C10.0828815%20C7.62853677%2C10.0828815%207.19121722%2C10.3635651%206.98575875%2C10.7951488%20L6.93561111%2C10.9164972%20C6.79763351%2C11.3070546%206.36917126%2C11.5118109%205.97861389%2C11.3738333%20C5.58805653%2C11.2358557%205.38330017%2C10.8073935%205.52127778%2C10.4168361%20C5.90956279%2C9.31776232%206.94857714%2C8.58288148%208.11422222%2C8.58288148%20Z%20M15.8857778%2C8.58288148%20C17.0514229%2C8.58288148%2018.0904372%2C9.31776232%2018.4787222%2C10.4168361%20C18.6166998%2C10.8073935%2018.4119435%2C11.2358557%2018.0213861%2C11.3738333%20C17.6633752%2C11.5003128%2017.2735136%2C11.3388005%2017.104745%2C11.0101749%20L17.0643889%2C10.9164972%20C16.8878957%2C10.4169182%2016.4156165%2C10.0828815%2015.8857778%2C10.0828815%20C15.4000923%2C10.0828815%2014.9627728%2C10.3635651%2014.7573143%2C10.7951488%20L14.7071667%2C10.9164972%20C14.5691891%2C11.3070546%2014.1407268%2C11.5118109%2013.7501694%2C11.3738333%20C13.3596121%2C11.2358557%2013.1548557%2C10.8073935%2013.2928333%2C10.4168361%20C13.6811183%2C9.31776232%2014.7201327%2C8.58288148%2015.8857778%2C8.58288148%20Z%20M19.5%2C0.25%20C19.8796958%2C0.25%2020.193491%2C0.532153882%2020.2431534%2C0.898229443%20L20.25%2C1%20L20.25%2C4.25%20L23%2C4.25%20C23.4142136%2C4.25%2023.75%2C4.58578644%2023.75%2C5%20C23.75%2C5.37969577%2023.4678461%2C5.69349096%2023.1017706%2C5.74315338%20L23%2C5.75%20L20.25%2C5.75%20L20.25%2C9%20C20.25%2C9.41421356%2019.9142136%2C9.75%2019.5%2C9.75%20C19.1203042%2C9.75%2018.806509%2C9.46784612%2018.7568466%2C9.10177056%20L18.75%2C9%20L18.75%2C5.75%20L16%2C5.75%20C15.5857864%2C5.75%2015.25%2C5.41421356%2015.25%2C5%20C15.25%2C4.62030423%2015.5321539%2C4.30650904%2015.8982294%2C4.25684662%20L16%2C4.25%20L18.75%2C4.25%20L18.75%2C1%20C18.75%2C0.585786438%2019.0857864%2C0.25%2019.5%2C0.25%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",customView:void 0,iconTint:e.palette.getAccent600(),backgroundColor:"transparent",titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent600()})}getReplyInThreadOption(e){return new n.CometChatActionsIcon({id:n.CometChatUIKitConstants.MessageOption.replyInThread,title:n.localize("REPLY_IN_THREAD"),iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fthreadicon%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FThread%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M10.6578236%2C0%20C7.2733682%2C-0.00487001799%204.15271669%2C1.82840041%202.50707282%2C4.78828665%20C0.861428952%2C7.74817289%200.949909343%2C11.3686229%202.73817252%2C14.2444485%20L0%2C20%20L5.74989584%2C17.2595575%20C9.11259725%2C19.3520226%2013.4289699%2C19.0910325%2016.5155083%2C16.6086132%20C19.6020468%2C14.1261939%2020.7857069%2C9.9636565%2019.4677154%2C6.22668649%20C18.1497239%2C2.48971647%2014.6174794%2C-0.00681020874%2010.6578236%2C0%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%226.65936346%22%20y1%3D%226.66667597%22%20x2%3D%2214.6527312%22%20y2%3D%226.66667597%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%225.3271355%22%20y1%3D%229.33334078%22%20x2%3D%2215.9849591%22%20y2%3D%229.33334078%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%226.65936346%22%20y1%3D%2212.0000056%22%20x2%3D%2214.6527312%22%20y2%3D%2212.0000056%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:void 0,iconTint:e.palette.getAccent600(),backgroundColor:"transparent",titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent600()})}getSendMessagePrivatelyOption(e){return new n.CometChatActionsIcon({id:n.CometChatUIKitConstants.MessageOption.sendMessagePrivately,title:n.localize("SEND_MESSAGE_IN_PRIVATE"),iconURL:"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M13.8%2015.0099H21V21H13.8V15.0099Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M17.4%2011.4158C16.7635%2011.4158%2016.153%2011.6682%2015.7029%2012.1176C15.2529%2012.5669%2015%2013.1764%2015%2013.8118V15.0099H19.8V13.8118C19.8%2013.1764%2019.5471%2012.5669%2019.0971%2012.1176C18.647%2011.6682%2018.0365%2011.4158%2017.4%2011.4158Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M17.3995%2017.7286C17.3402%2017.7286%2017.2823%2017.7461%2017.2331%2017.7791C17.1838%2017.812%2017.1454%2017.8587%2017.1228%2017.9135C17.1001%2017.9682%2017.0942%2018.0284%2017.1057%2018.0865C17.1173%2018.1446%2017.1458%2018.198%2017.1877%2018.2399C17.2296%2018.2818%2017.283%2018.3103%2017.3411%2018.3218C17.3992%2018.3334%2017.4594%2018.3275%2017.5141%2018.3048C17.5688%2018.2821%2017.6156%2018.2437%2017.6485%2018.1945C17.6814%2018.1452%2017.699%2018.0873%2017.699%2018.0281C17.699%2017.9486%2017.6674%2017.8725%2017.6113%2017.8163C17.5551%2017.7601%2017.4789%2017.7286%2017.3995%2017.7286%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M21%2010.8503C20.9168%209.57663%2020.5439%208.33868%2019.9096%207.23051C19.2753%206.12235%2018.3962%205.17314%2017.3393%204.45503C16.2824%203.73692%2015.0754%203.26882%2013.8101%203.0863C12.5448%202.90378%2011.2545%203.01164%2010.0372%203.4017C8.81989%203.79176%207.70769%204.45374%206.78512%205.33732C5.86254%206.22091%205.15388%207.30285%204.71298%208.5009C4.27209%209.69895%204.11057%2010.9816%204.24071%2012.2513C4.37084%2013.521%204.78921%2014.7444%205.464%2015.8285L3%2021L8.1768%2018.5368C9.14753%2019.1412%2010.2319%2019.5408%2011.3632%2019.7109%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",onClick:void 0,iconTint:e.palette.getAccent600(),backgroundColor:"transparent",titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent600()})}getCopyOption(e){return new n.CometChatActionsIcon({id:n.CometChatUIKitConstants.MessageOption.copyMessage,title:n.localize("COPY_MESSAGE"),iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FCopy%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FCopy%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%284.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.6%2C6.00000118%20L15.6%2C3.60000142%20C15.6%2C2.93725978%2015.0627417%2C2.40000154%2014.4%2C2.40000154%20L11.2%2C2.40000154%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4.4%2C2.40000154%20L1.2%2C2.40000154%20C0.5372583%2C2.40000154%200%2C2.93725978%200%2C3.60000142%20L0%2C16.8000001%20C0%2C17.4627418%200.5372583%2C18%201.2%2C18%20L6%2C18%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M10.9368%2C3.18960146%20C10.8549236%2C3.43464248%2010.625558%2C3.59990166%2010.3672%2C3.60000142%20L5.2328%2C3.60000142%20C4.97444201%2C3.59990166%204.74507642%2C3.43464248%204.6632%2C3.18960146%20L3.8632%2C0.789601696%20C3.80186075%2C0.606570139%203.8324564%2C0.405197059%203.94539051%2C0.248643741%20C4.05832463%2C0.0920904237%204.23976415%2C-0.000467229348%204.4328%2C0%20L11.1672%2C0%20C11.3602359%2C-0.000467229348%2011.5416754%2C0.0920904237%2011.6546095%2C0.248643741%20C11.7675436%2C0.405197059%2011.7981392%2C0.606570139%2011.7368%2C0.789601696%20L10.9368%2C3.18960146%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%228.4%208.40000095%2018%208.40000095%2018%2018%208.4%2018%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2210.8%22%20y1%3D%2210.8000007%22%20x2%3D%2215.6%22%20y2%3D%2210.8000007%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2210.8%22%20y1%3D%2213.2000005%22%20x2%3D%2215.6%22%20y2%3D%2213.2000005%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2210.8%22%20y1%3D%2215.6000002%22%20x2%3D%2212.6%22%20y2%3D%2215.6000002%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:void 0,iconTint:e.palette.getAccent600(),backgroundColor:"transparent",titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent600()})}getMessageInfoOption(e){return new n.CometChatActionsIcon({id:n.CometChatUIKitConstants.MessageOption.messageInformation,title:n.localize("MESSAGE_INFORMATION"),iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FInfo%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FInfo%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22streamline-icon-information-circle%4024x24%22%20transform%3D%22translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M12%2C14%20L11.3333333%2C14%20C10.5969537%2C14%2010%2C13.4030463%2010%2C12.6666667%20L10%2C9.33333333%20C10%2C8.9651435%209.70152317%2C8.66666667%209.33333333%2C8.66666667%20L8.66666667%2C8.66666667%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9.66666667%2C5.33333333%20C9.48257175%2C5.33333333%209.33333333%2C5.48257175%209.33333333%2C5.66666667%20C9.33333333%2C5.85076158%209.48257175%2C6%209.66666667%2C6%20C9.85076158%2C6%2010%2C5.85076158%2010%2C5.66666667%20C10%2C5.48257175%209.85076158%2C5.33333333%209.66666667%2C5.33333333%20L9.66666667%2C5.33333333%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%2C10%20C0%2C15.5228475%204.4771525%2C20%2010%2C20%20C15.5228475%2C20%2020%2C15.5228475%2020%2C10%20C20%2C4.4771525%2015.5228475%2C0%2010%2C0%20C4.4771525%2C0%200%2C4.4771525%200%2C10%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:void 0,iconTint:e.palette.getAccent600(),backgroundColor:"transparent",titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent600()})}isSentByMe(e,t){return!t.getSender()||e.getUid()===t.getSender().getUid()}getTextMessageOptions(e,t,o,r){let s=this.isSentByMe(e,t),i=!1;r?.getScope()===n.CometChatUIKitConstants.groupMemberScope.moderator&&(i=!0);let a=I.getDataSource().getCommonOptions(e,t,o,r);return a.push(this.getCopyOption(o)),(s||i)&&a.push(this.getEditOption(o)),a}getImageMessageOptions(e,t,n,o){let r=[];return r=I.getDataSource().getCommonOptions(e,t,n,o),r}getVideoMessageOptions(e,t,n,o){let r=[];return r=I.getDataSource().getCommonOptions(e,t,n,o),r}getAudioMessageOptions(e,t,n,o){let r=[];return r=I.getDataSource().getCommonOptions(e,t,n,o),r}getFileMessageOptions(e,t,n,o){let r=[];return r=I.getDataSource().getCommonOptions(e,t,n,o),r}getBottomView(e,t){return null}getTextMessageTemplate(e,t){return new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.text,category:n.CometChatUIKitConstants.MessageCategory.message,contentView:(n,o)=>{let r=n;return null!=r.getDeletedAt()?this.getDeleteMessageBubble(r,e):I.getDataSource().getTextMessageContentView(r,o,e,t)},options:I.getDataSource().getMessageOptions,bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}getAudioMessageTemplate(e){return new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.audio,category:n.CometChatUIKitConstants.MessageCategory.message,contentView:(t,n)=>{let o=t;return null!=o.getDeletedAt()?this.getDeleteMessageBubble(t,e):I.getDataSource().getAudioMessageContentView(o,n,e)},options:I.getDataSource().getMessageOptions,bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}getVideoMessageTemplate(e){return new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.video,category:n.CometChatUIKitConstants.MessageCategory.message,contentView:(t,n)=>{let o=t;return null!=o.getDeletedAt()?this.getDeleteMessageBubble(t,e):I.getDataSource().getVideoMessageContentView(o,n,e)},options:I.getDataSource().getMessageOptions,bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}getImageMessageTemplate(e){return new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.image,category:n.CometChatUIKitConstants.MessageCategory.message,contentView:(t,n)=>{let o=t;return null!=o.getDeletedAt()?this.getDeleteMessageBubble(t,e):I.getDataSource().getImageMessageContentView(o,n,e)},options:I.getDataSource().getMessageOptions,bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}getGroupActionTemplate(e){return new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.groupMember,category:n.CometChatUIKitConstants.MessageCategory.action,contentView:(t,n)=>this.getGroupActionBubble(t,e)})}getFileMessageTemplate(e){return new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.file,category:n.CometChatUIKitConstants.MessageCategory.message,contentView:(t,n)=>{let o=t;return null!=o.getDeletedAt()?this.getDeleteMessageBubble(t,e):I.getDataSource().getFileMessageContentView(o,n,e)},options:I.getDataSource().getMessageOptions,bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}getFormMessageTemplate(e){return new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.form,category:n.CometChatUIKitConstants.MessageCategory.interactive,contentView:(t,n)=>{const o=t;return null!=o.getDeletedAt()?this.getDeleteMessageBubble(t,e):I.getDataSource().getFormMessageContentView(o,n,e)},options:I.getDataSource().getMessageOptions,bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}getSchedulerMessageTemplate(e){return new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.scheduler,category:n.CometChatUIKitConstants.MessageCategory.interactive,contentView:(t,n)=>{const o=t;return null!=o.getDeletedAt()?this.getDeleteMessageBubble(t,e):I.getDataSource().getSchedulerMessageContentView(o,n,e)},options:I.getDataSource().getMessageOptions,bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}getCardMessageTemplate(e){return new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.card,category:n.CometChatUIKitConstants.MessageCategory.interactive,contentView:(t,n)=>{const o=t;return null!=o.getDeletedAt()?this.getDeleteMessageBubble(t,e):I.getDataSource().getCardMessageContentView(o,n,e)},options:I.getDataSource().getMessageOptions,bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}getAllMessageTemplates(e,t){let n=e??v;return t||(t={disableMentions:!1}),[I.getDataSource().getTextMessageTemplate(n,t),I.getDataSource().getImageMessageTemplate(n),I.getDataSource().getVideoMessageTemplate(n),I.getDataSource().getAudioMessageTemplate(n),I.getDataSource().getFileMessageTemplate(n),I.getDataSource().getGroupActionTemplate(n),I.getDataSource().getFormMessageTemplate(n),I.getDataSource().getSchedulerMessageTemplate(n),I.getDataSource().getCardMessageTemplate(n)]}getMessageTemplate(e,t,o){let r=o??v,s=null;if(t!==n.CometChatUIKitConstants.MessageCategory.call)switch(e){case n.CometChatUIKitConstants.MessageTypes.text:s=I.getDataSource().getTextMessageTemplate(r);break;case n.CometChatUIKitConstants.MessageTypes.image:s=I.getDataSource().getImageMessageTemplate(r);break;case n.CometChatUIKitConstants.MessageTypes.video:s=I.getDataSource().getVideoMessageTemplate(r);break;case n.CometChatUIKitConstants.MessageTypes.groupMember:s=I.getDataSource().getGroupActionTemplate(r);break;case n.CometChatUIKitConstants.MessageTypes.file:s=I.getDataSource().getFileMessageTemplate(r);break;case n.CometChatUIKitConstants.MessageTypes.audio:s=I.getDataSource().getAudioMessageTemplate(r);break;case n.CometChatUIKitConstants.MessageTypes.form:s=I.getDataSource().getFormMessageTemplate(r);break;case n.CometChatUIKitConstants.MessageTypes.scheduler:s=I.getDataSource().getSchedulerMessageTemplate(r);break;case n.CometChatUIKitConstants.MessageTypes.card:s=I.getDataSource().getCardMessageTemplate(r)}return s}getMessageOptions(e,t,o,r){let s=[];if(t.getCategory()===n.CometChatUIKitConstants.MessageCategory.message)switch(t.getType()){case n.CometChatUIKitConstants.MessageTypes.text:s=I.getDataSource().getTextMessageOptions(e,t,o,r);break;case n.CometChatUIKitConstants.MessageTypes.image:s=I.getDataSource().getImageMessageOptions(e,t,o,r);break;case n.CometChatUIKitConstants.MessageTypes.video:s=I.getDataSource().getVideoMessageOptions(e,t,o,r);break;case n.CometChatUIKitConstants.MessageTypes.groupMember:s=[];break;case n.CometChatUIKitConstants.MessageTypes.file:s=I.getDataSource().getFileMessageOptions(e,t,o,r);break;case n.CometChatUIKitConstants.MessageTypes.audio:s=I.getDataSource().getAudioMessageOptions(e,t,o,r)}else t.getCategory()!==n.CometChatUIKitConstants.MessageCategory.custom&&t.getCategory()!==n.CometChatUIKitConstants.MessageCategory.interactive||(s=I.getDataSource().getCommonOptions(e,t,o,r));return s}getCommonOptions(e,t,o,r){let s=this.isSentByMe(e,t),i=!1;r?.getScope()===n.CometChatUIKitConstants.groupMemberScope.moderator&&(i=!0);let a=[];return t.getParentMessageId()||a.push(this.getReplyInThreadOption(o)),s&&a.push(this.getMessageInfoOption(o)),r?.getGuid()&&!s&&a.push(this.getSendMessagePrivatelyOption(o)),!0!==s&&!0!==i||a.push(this.getDeleteOption(o)),a.push(this.getReactionOption(o)),a}getAllMessageTypes(){return[n.CometChatUIKitConstants.MessageTypes.text,n.CometChatUIKitConstants.MessageTypes.image,n.CometChatUIKitConstants.MessageTypes.audio,n.CometChatUIKitConstants.MessageTypes.video,n.CometChatUIKitConstants.MessageTypes.file,n.CometChatUIKitConstants.MessageTypes.groupMember,n.CometChatUIKitConstants.MessageTypes.form,n.CometChatUIKitConstants.MessageTypes.scheduler,n.CometChatUIKitConstants.MessageTypes.card]}addList(){return"<Message Utils>"}getAllMessageCategories(){return[n.CometChatUIKitConstants.MessageCategory.message,n.CometChatUIKitConstants.MessageCategory.action,n.CometChatUIKitConstants.MessageCategory.interactive]}getAuxiliaryOptions(e,t,n,o){return[]}getId(){return"messageUtils"}getTextMessageContentView(e,t,n,o){return I.getDataSource().getTextMessageBubble(e.getText(),e,t,n,void 0,o)}getAudioMessageContentView(e,t,n){return I.getDataSource().getAudioMessageBubble(e?.getAttachments()[0]?.getUrl(),e,n,e?.getAttachments()[0]?.getName())}getFileMessageContentView(e,t,n){return I.getDataSource().getFileMessageBubble(e?.getAttachments()[0]?.getUrl(),e,n,e?.getAttachments()[0]?.getName())}getFormMessageContentView(e,t,n){return I.getDataSource().getFormMessageBubble(e,n)}getSchedulerMessageContentView(e,t,n){return I.getDataSource().getSchedulerMessageBubble(e,n)}getCardMessageContentView(e,t,n){return I.getDataSource().getCardMessageBubble(e,n)}getImageMessageContentView(e,t,n){let o=e?.getAttachments()[0]?.getUrl()||"";return I.getDataSource().getImageMessageBubble(o,"data:image/png;base64,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",e,n)}getVideoMessageContentView(e,t,n){return I.getDataSource().getVideoMessageBubble(e?.getAttachments()[0]?.getUrl(),e,n)}getActionMessage(e){let t="";if(!1===e.hasOwnProperty("actionBy")||!1===e.hasOwnProperty("actionOn"))return t;if(e.action!==n.CometChatUIKitConstants.groupMemberAction.JOINED&&e.action!==n.CometChatUIKitConstants.groupMemberAction.LEFT&&(!1===e.actionBy.hasOwnProperty("name")||!1===e.actionOn.hasOwnProperty("name")))return t;if(e.action===n.CometChatUIKitConstants.groupMemberAction.SCOPE_CHANGE){if(!e.hasOwnProperty("data")||!e.data.hasOwnProperty("extras"))return t;if(!e.data.extras.hasOwnProperty("scope"))return t;if(!1===e.data.extras.scope.hasOwnProperty("new"))return t}if(e.action===n.CometChatUIKitConstants.groupMemberAction.SCOPE_CHANGE&&!1===e.data.extras.hasOwnProperty("scope"))return t;if(e.action===n.CometChatUIKitConstants.groupMemberAction.SCOPE_CHANGE&&!1===e.data.extras.scope.hasOwnProperty("new"))return t;const o=e.actionBy,r=e.actionOn,s=o.name,i=e.action!==n.CometChatUIKitConstants.groupMemberAction.JOINED&&e.action!==n.CometChatUIKitConstants.groupMemberAction.LEFT?r.name:"";switch(e.action){case n.CometChatUIKitConstants.groupMemberAction.ADDED:t=`${s} ${n.localize("ADDED")} ${i}`;break;case n.CometChatUIKitConstants.groupMemberAction.JOINED:t=`${s} ${n.localize("JOINED")}`;break;case n.CometChatUIKitConstants.groupMemberAction.LEFT:t=`${s} ${n.localize("LEFT")}`;break;case n.CometChatUIKitConstants.groupMemberAction.KICKED:t=`${s} ${n.localize("KICKED")} ${i}`;break;case n.CometChatUIKitConstants.groupMemberAction.BANNED:t=`${s} ${n.localize("BANNED")} ${i}`;break;case n.CometChatUIKitConstants.groupMemberAction.UNBANNED:t=`${s} ${n.localize("UNBANNED")} ${i}`;break;case n.CometChatUIKitConstants.groupMemberAction.SCOPE_CHANGE:{const o=e.data.extras.scope.new;t=`${s} ${n.localize("MADE")} ${i} ${o}`;break}}return t}getDeleteMessageBubble(e,t,o){let r=o,s=n.localize("MESSAGE_IS_DELETED");return r||(r={textFont:n.fontHelper(t.typography.text2),textColor:t.palette.getAccent400()||""}),g.jsx(m,{text:s,textStyle:r})}getGroupActionBubble(e,t,o){let r=o,s=this.getActionMessage(e);return r||(r={textFont:n.fontHelper(t.typography.subtitle2),textColor:t.palette.getAccent600()||""}),g.jsx(m,{text:s,textStyle:r})}getTextMessageBubbleStyle(e,t){return e!==n.MessageBubbleAlignment.left?{textFont:n.fontHelper(t.typography.text3),textColor:t.palette.getAccent900("light")||""}:{textFont:n.fontHelper(t.typography.text3),textColor:t.palette.getAccent()||""}}getFormMessageBubbleStyle(e){const r=new o.InputStyle({width:"100%",height:"30px",border:`1px solid ${e.palette.getAccent100()}`,borderRadius:"6px",padding:"0px 0px 0px 5px",placeholderTextColor:e.palette.getAccent400(),placeholderTextFont:n.fontHelper(e.typography.subtitle2),textFont:n.fontHelper(e.typography.subtitle2),textColor:e.palette.getAccent(),background:e.palette.getBackground()}),s=new o.LabelStyle({textFont:n.fontHelper(e.typography.subtitle1),textColor:e.palette.getAccent(),background:"transparent"}),i=new o.RadioButtonStyle({height:"16px",width:"16px",border:"none",labelTextFont:n.fontHelper(e.typography.subtitle2),labelTextColor:e.palette.getAccent600(),borderRadius:"4px",background:""}),a=new o.CheckboxStyle({height:"16px",width:"16px",border:"none",borderRadius:"4px",background:"",labelTextFont:n.fontHelper(e.typography.subtitle2),labelTextColor:e.palette.getAccent()}),l=new o.DropdownStyle({height:"35px",width:"100%",background:e.palette.getBackground(),border:`1px solid ${e.palette.getAccent100()}`,borderRadius:"6px",activeTextFont:n.fontHelper(e.typography.subtitle2),activeTextColor:e.palette.getAccent(),arrowIconTint:e.palette.getAccent700(),textFont:n.fontHelper(e.typography.subtitle2),textColor:e.palette.getAccent(),optionBackground:e.palette.getBackground(),optionBorder:`1px solid ${e.palette.getAccent100()}`,optionHoverBorder:`1px solid ${e.palette.getAccent100()}`,hoverTextFont:n.fontHelper(e.typography.subtitle2),hoverTextColor:e.palette.getAccent(),hoverTextBackground:e.palette.getAccent100()}),c={height:"40px",width:"100%",background:e.palette.getPrimary(),border:"none",borderRadius:"6px",buttonTextFont:n.fontHelper(e.typography.subtitle2),buttonTextColor:e.palette.getBackground(),justifyContent:"center"},C=new o.SingleSelectStyle({height:"100%",width:"100%",background:e.palette.getBackground(),border:"none",borderRadius:"12px",activeTextFont:n.fontHelper(e.typography.subtitle2),activeTextColor:e.palette.getAccent(),activeTextBackground:e.palette.getAccent100(),textFont:n.fontHelper(e.typography.subtitle2),textColor:e.palette.getAccent(),optionBackground:e.palette.getBackground(),optionBorder:`1px solid ${e.palette.getAccent100()}`,optionBorderRadius:"3px",hoverTextFont:n.fontHelper(e.typography.subtitle2),hoverTextColor:e.palette.getAccent(),hoverTextBackground:e.palette.getAccent100()}),g=new o.QuickViewStyle({background:"transparent",height:"fit-content",width:"100%",titleFont:n.fontHelper(e.typography.subtitle2),titleColor:e.palette.getPrimary(),subtitleFont:n.fontHelper(e.typography.subtitle2),subtitleColor:e.palette.getAccent600(),leadingBarTint:e.palette.getPrimary(),leadingBarWidth:"4px",borderRadius:"8px"});return new t.FormBubbleStyle({width:"300px",height:"fit-content",border:"none",background:"transparent",wrapperBackground:e.palette.getBackground(),borderRadius:"8px",wrapperBorderRadius:"8px",textInputStyle:r,labelStyle:s,radioButtonStyle:i,checkboxStyle:a,dropdownStyle:l,buttonStyle:c,singleSelectStyle:C,quickViewStyle:g,titleColor:e.palette.getAccent(),titleFont:n.fontHelper(e.typography.title1),goalCompletionTextColor:e.palette.getAccent(),goalCompletionTextFont:n.fontHelper(e.typography.subtitle1),wrapperPadding:"2px",datePickerBorder:`1px solid ${e.palette.getAccent100()}`,datePickerBorderRadius:"6px",datePickerFont:n.fontHelper(e.typography.subtitle2),datePickerFontColor:e.palette.getAccent()})}getCardMessageBubbleStyle(e){const o={height:"40px",width:"100%",background:"transparent",border:"none",borderRadius:"0px",buttonTextFont:n.fontHelper(e.typography.subtitle2),buttonTextColor:`${e.palette.getPrimary()}`,justifyContent:"center"};return new t.CardBubbleStyle({background:"transparent",borderRadius:"8px",height:"fit-content",width:"300px",imageHeight:"auto",imageWidth:"100%",imageRadius:"8px",imageBackgroundColor:"transparent",descriptionFontColor:e.palette.getAccent(),descriptionFont:n.fontHelper(e.typography.subtitle2),buttonStyle:o,dividerTintColor:e.palette.getAccent100(),wrapperBackground:e.palette.getBackground(),wrapperBorderRadius:"8px",wrapperPadding:"2px",disabledButtonColor:e.palette.getAccent600()})}getTextMessageBubble(e,n,o,r,s,i){let a,l={...i,textFormatters:i?.textFormatters&&i?.textFormatters.length?[...i.textFormatters]:this.getAllTextFormatters({theme:r,alignment:o,disableMentions:i.disableMentions})},c=l.textFormatters;if(l&&!l.disableMentions){let e;for(let o=0;o<c.length&&!(c[o]instanceof t.CometChatMentionsTextFormatter&&(e=c[o],e.setMessage(n),n.getMentionedUsers().length&&e.setCometChatUserGroupMembers(n.getMentionedUsers()),e.setLoggedInUser(t.CometChatUIKitLoginListener.getLoggedInUser()),a))&&!(c[o]instanceof t.CometChatUrlTextFormatter&&(a=c[o],e));o++);e||(e=I.getDataSource().getMentionsTextFormatter({message:n,...l,alignment:o,theme:r}),c.push(e))}else for(let e=0;e<c.length;e++)if(c[e]instanceof t.CometChatUrlTextFormatter){a=c[e];break}a||(a=I.getDataSource().getUrlTextFormatter({theme:r,alignment:o}),c.push(a));let C=s;C||(C=this.getTextMessageBubbleStyle(o,r));for(let e=0;e<c.length;e++)c[e].setMessageBubbleAlignment(o),c[e].setMessage(n);return g.jsx(m,{text:e,textStyle:C,textFormatters:c})}getAudioMessageBubble(e,t,n,o,r){return g.jsx(x,{src:e,audioStyle:r})}getFileMessageBubble(e,t,o,r,s){let i=s;return i||(i={titleFont:n.fontHelper(o.typography.subtitle1),titleColor:o.palette.getAccent(),subtitleFont:n.fontHelper(o.typography.subtitle2),subtitleColor:o.palette.getAccent600(),iconTint:o.palette.getPrimary()}),g.jsx(y,{downloadIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FDownload%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FDownload%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%281.000000%2C%201.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolyline%20id%3D%22Path%22%20points%3D%227.33333333%2013.2%2011%2016.8666667%2014.6666667%2013.2%22%3E%3C%2Fpolyline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2211%22%20y1%3D%225.86666667%22%20x2%3D%2211%22%20y2%3D%2216.8666667%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%2C11%20C0%2C17.0751322%204.92486775%2C22%2011%2C22%20C17.0751322%2C22%2022%2C17.0751322%2022%2C11%20C22%2C4.92486775%2017.0751322%2C0%2011%2C0%20C4.92486775%2C0%200%2C4.92486775%200%2C11%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",subtitle:n.localize("SHARED_FILE"),title:r,fileURL:e,fileStyle:i})}getFormMessageBubble(e,t,n,o){let r=n;r||(r=this.getFormMessageBubbleStyle(t));const s=!!o;return g.jsx(f,{message:e,formBubbleStyle:r,ccSubmitClicked:e=>{o&&o(e.detail)},hasCustomCallback:s})}getSchedulerMessageBubble(e,t,n,o){let r=n;return r||(r=this.getSchedulerBubbleStyle(t)),g.jsx(w,{style:this.getSchedulerWrapperStyle(),schedulerMessage:e,schedulerBubbleStyle:r,onScheduleClick:o||void 0})}getSchedulerWrapperStyle(){return{height:"inherit",width:"inherit",display:"block"}}getCardMessageBubble(e,t,n){let o=n;return o||(o=this.getCardMessageBubbleStyle(t)),g.jsx(D,{message:e,cardBubbleStyle:o})}getImageMessageBubble(e,t,r,s,i,a){a||(a=new o.ImageBubbleStyle({height:"auto",maxHeight:"500px",maxWidth:"400px",border:"none",borderRadius:"8px",background:"transparent"}));const l=g.jsx(E,{URL:r?.getAttachments()[0]?.getUrl()??e,closeIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",fullScreenViewerStyle:{closeIconTint:"blue"},ccCloseClicked:()=>{n.CometChatUIEvents.ccHideDialog.next()}});return g.jsx(A,{src:e,placeholderImage:t,imageStyle:a,ccImageClicked:()=>{n.CometChatUIEvents.ccShowDialog.next({child:l,confirmCallback:null})}})}getVideoMessageBubble(e,t,n,r,s,i){return i||(i=new o.BaseStyle({height:"130px",width:"100%",border:"none",borderRadius:"8px 8px",background:"transparent"})),g.jsx(b,{src:e,poster:r,videoStyle:i})}imageAttachmentOption(e){return new n.CometChatMessageComposerAction({id:n.CometChatUIKitConstants.MessageTypes.image,title:n.localize("ATTACH_IMAGE"),iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%20Extensions%2FPhoto%20Library%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24-Extensions%2FPhoto-Library%22%20fill%3D%22%23000000%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M8%2C2.25%20C9.0543618%2C2.25%209.91816512%2C3.06587779%209.99451426%2C4.10073766%20L10%2C4.25%20L10%2C4.749%20L19.25%2C4.75%20C20.3043618%2C4.75%2021.1681651%2C5.56587779%2021.2445143%2C6.60073766%20L21.25%2C6.75%20L21.25%2C8.647%20L21.3090595%2C8.67075883%20C21.560776%2C8.78204037%2021.7890445%2C8.94502905%2021.9776884%2C9.15176047%20L22.0859904%2C9.28098473%20C22.4268417%2C9.7243264%2022.5648157%2C10.2875838%2022.4792305%2C10.8049438%20L20.599742%2C19.7646666%20C20.3801645%2C20.5892111%2019.6644249%2C21.1776759%2018.8253479%2C21.243794%20L18.6666667%2C21.25%20L4.41416667%2C21.25%20C4.34513107%2C21.25%204.27827401%2C21.2406726%204.21478696%2C21.2232093%20L4.198%2C21.217%20L4.13447967%2C21.2119882%20C3.12077897%2C21.0788944%202.34585208%2C20.2581085%202.25808253%2C19.244849%20L2.25%2C19.0833333%20L2.25%2C4.25%20C2.25%2C3.1956382%203.06587779%2C2.33183488%204.10073766%2C2.25548574%20L4.25%2C2.25%20L8%2C2.25%20Z%20M20.5%2C9.9999998%20L8.94041369%2C9.9999998%20C8.7494078%2C9.99989301%208.57810253%2C10.1081415%208.50251018%2C10.2403227%20L8.47304199%2C10.3080169%20L6.50183631%2C19.6519318%20L6.47%2C19.749%20L18.6669246%2C19.7500001%20C18.8652457%2C19.7500001%2019.0419017%2C19.6334019%2019.1157978%2C19.483767%20L19.1409396%2C19.4178635%20L20.9835913%2C10.6286666%20C21.0235655%2C10.4785581%2020.991501%2C10.3183966%2020.8968201%2C10.1952461%20C20.8210754%2C10.0967258%2020.71214%2C10.0308462%2020.5919295%2C10.0084626%20L20.5%2C9.9999998%20Z%20M8%2C3.75%20L4.25%2C3.75%20C4.00454011%2C3.75%203.80039163%2C3.92687516%203.75805567%2C4.16012437%20L3.7499284%2C4.25%20L3.7499284%2C19.0729701%20C3.75450399%2C19.4040804%204.00142215%2C19.6816449%204.32974627%2C19.7247522%20C4.62158992%2C19.7630698%204.89911328%2C19.6058121%205.0118617%2C19.3809093%20L5.04612468%2C19.2936497%20L7.01858631%2C9.94533345%20C7.25034003%2C9.14246197%207.95397669%2C8.57422367%208.77513888%2C8.50674095%20L8.94083333%2C8.5%20L19.75%2C8.5%20L19.75%2C6.75%20C19.75%2C6.50454011%2019.5731248%2C6.30039163%2019.3398756%2C6.25805567%20L19.25%2C6.25%20L9.25%2C6.25%20C8.87030423%2C6.25%208.55650904%2C5.96784612%208.50684662%2C5.60177056%20L8.5%2C5.5%20L8.5%2C4.25%20C8.5%2C4.00454011%208.32312484%2C3.80039163%208.08987563%2C3.75805567%20L8%2C3.75%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M10.5%2C11.3125%20L10.6157711%2C11.3187346%20C11.1481147%2C11.3764201%2011.5625%2C11.8273176%2011.5625%2C12.375%20C11.5625%2C12.9618025%2011.0868025%2C13.4375%2010.5%2C13.4375%20C9.91319745%2C13.4375%209.4375%2C12.9618025%209.4375%2C12.375%20C9.4375%2C11.8273176%209.85188534%2C11.3764201%2010.3842289%2C11.3187346%20L10.5%2C11.3125%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14.7615505%2C13.3341733%20C15.1650281%2C13.339062%2015.5432492%2C13.5206846%2015.7989971%2C13.8261321%20L15.8889717%2C13.9463759%20L18.3148051%2C17.5838759%20C18.5446241%2C17.928486%2018.4515675%2C18.3941527%2018.1069574%2C18.6239717%20C17.7936756%2C18.8328981%2017.3803468%2C18.7749852%2017.1351188%2C18.5038182%20L17.0668616%2C18.4161241%20L14.742%2C14.93%20L13.1806552%2C17.1565514%20C12.9524338%2C17.481881%2012.5156848%2C17.5682521%2012.1842442%2C17.371143%20L12.096698%2C17.3103241%20L11.179%2C16.572%20L9.94871059%2C18.4165154%20C9.73958776%2C18.7296662%209.33567986%2C18.8347993%209.00516806%2C18.6784976%20L8.90848458%2C18.6237106%20C8.59533381%2C18.4145878%208.49020073%2C18.0106799%208.64650244%2C17.6801681%20L8.70128941%2C17.5834846%20L10.0076608%2C15.6272604%20C10.2213273%2C15.3068138%2010.5595979%2C15.0906712%2010.9401624%2C15.0314258%20C11.2731564%2C14.9795861%2011.6118179%2C15.0520295%2011.8942272%2C15.2330124%20L12.0116353%2C15.3171759%20L12.412%2C15.639%20L13.6194632%2C13.9191131%20C13.8512845%2C13.5888451%2014.2147222%2C13.3792001%2014.6114213%2C13.3405523%20L14.7615505%2C13.3341733%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:null,iconTint:e.palette.getAccent700(),titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent700(),borderRadius:"8px",background:e.palette.getAccent100()})}videoAttachmentOption(e){return new n.CometChatMessageComposerAction({id:n.CometChatUIKitConstants.MessageTypes.video,title:n.localize("ATTACH_VIDEO"),iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FVideo%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FVideo%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%206.500000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M1.79471961%2C-7.25088203e-17%20L11.9552804%2C7.25088203e-17%20C12.5793435%2C-4.21297127e-17%2012.8056439%2C0.0649779267%2013.033792%2C0.186992889%20C13.2619401%2C0.309007852%2013.4409921%2C0.488059851%2013.5630071%2C0.716207995%20C13.6850221%2C0.94435614%2013.75%2C1.1706565%2013.75%2C1.79471961%20L13.75%2C9.20528039%20C13.75%2C9.8293435%2013.6850221%2C10.0556439%2013.5630071%2C10.283792%20C13.4409921%2C10.5119401%2013.2619401%2C10.6909921%2013.033792%2C10.8130071%20C12.8056439%2C10.9350221%2012.5793435%2C11%2011.9552804%2C11%20L1.79471961%2C11%20C1.1706565%2C11%200.94435614%2C10.9350221%200.716207995%2C10.8130071%20C0.488059851%2C10.6909921%200.309007852%2C10.5119401%200.186992889%2C10.283792%20C0.0649779267%2C10.0556439%209.39485689e-17%2C9.8293435%20-1.61693481e-16%2C9.20528039%20L4.83392135e-17%2C1.79471961%20C-2.80864751e-17%2C1.1706565%200.0649779267%2C0.94435614%200.186992889%2C0.716207995%20C0.309007852%2C0.488059851%200.488059851%2C0.309007852%200.716207995%2C0.186992889%20C0.94435614%2C0.0649779267%201.1706565%2C4.21297127e-17%201.79471961%2C-7.25088203e-17%20Z%22%20id%3D%22Rectangle%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.2599167%2C8.63041667%20L19.6304167%2C9.81475%20C19.8435282%2C9.92114296%2020.096526%2C9.90964554%2020.299109%2C9.78436146%20C20.5016921%2C9.65907738%2020.625%2C9.43785985%2020.625%2C9.19966667%20L20.625%2C1.80033333%20C20.625%2C1.56214015%2020.5016921%2C1.34092262%2020.299109%2C1.21563854%20C20.096526%2C1.09035446%2019.8435282%2C1.07885704%2019.6304167%2C1.18525%20L17.2599167%2C2.36958333%20C16.7940465%2C2.60259636%2016.4998441%2C3.07885646%2016.4999999%2C3.59975%20L16.4999999%2C7.40025%20C16.4998441%2C7.92114354%2016.7940465%2C8.39740364%2017.2599167%2C8.63041667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:null,iconTint:e.palette.getAccent700(),titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent700(),borderRadius:"8px",background:e.palette.getAccent100()})}audioAttachmentOption(e){return new n.CometChatMessageComposerAction({id:n.CometChatUIKitConstants.MessageTypes.audio,title:n.localize("ATTACH_AUDIO"),iconURL:"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20clip-path%3D%22url%28%23clip0%29%22%3E%3Cpath%20d%3D%22M1%205C1%203.89543%201.89543%203%203%203H21.5C22.6046%203%2023.5%203.89543%2023.5%205V19C23.5%2020.1046%2022.6046%2021%2021.5%2021H3C1.89543%2021%201%2020.1046%201%2019V5Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M9%2015.5C9%2015.8978%209.15803%2016.2794%209.43934%2016.5607C9.72064%2016.842%2010.1022%2017%2010.5%2017C10.8978%2017%2011.2794%2016.842%2011.5607%2016.5607C11.842%2016.2794%2012%2015.8978%2012%2015.5C12%2015.1022%2011.842%2014.7206%2011.5607%2014.4393C11.2794%2014.158%2010.8978%2014%2010.5%2014C10.1022%2014%209.72064%2014.158%209.43934%2014.4393C9.15803%2014.7206%209%2015.1022%209%2015.5Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M12%2015V7L14.7141%209.27566C15.3657%209.82133%2015.7957%2010.5251%2015.9433%2011.2871C16.0909%2012.0491%2015.9486%2012.8307%2015.5365%2013.5211%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fg%3E%3Cdefs%3E%3CclipPath%20id%3D%22clip0%22%3E%3Crect%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22white%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E",onClick:null,iconTint:e.palette.getAccent700(),titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent700(),borderRadius:"8px",background:e.palette.getAccent100()})}fileAttachmentOption(e){return new n.CometChatMessageComposerAction({id:n.CometChatUIKitConstants.MessageTypes.file,title:n.localize("ATTACH_FILE"),iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FAttachment%20File%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FAttachment-File%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9.33333333%2C14.6666667%20C9.33333333%2C17.6121853%2011.721148%2C20%2014.6666667%2C20%20C17.6121853%2C20%2020%2C17.6121853%2020%2C14.6666667%20C20%2C11.721148%2017.6121853%2C9.33333333%2014.6666667%2C9.33333333%20C11.721148%2C9.33333333%209.33333333%2C11.721148%209.33333333%2C14.6666667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2214.6666667%22%20y1%3D%2212%22%20x2%3D%2214.6666667%22%20y2%3D%2217.3333333%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2212%22%20y1%3D%2214.6666667%22%20x2%3D%2217.3333333%22%20y2%3D%2214.6666667%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M6%2C17.3333333%20L1.33333333%2C17.3333333%20C0.596953667%2C17.3333333%200%2C16.7363797%200%2C16%20L0%2C1.33333333%20C0%2C0.596953667%200.596953667%2C0%201.33333333%2C0%20L10.7813333%2C0%20C11.1347086%2C0%2011.4736014%2C0.140428224%2011.7235556%2C0.390222222%20L14.2764444%2C2.94311111%20C14.5262384%2C3.19306523%2014.6666667%2C3.53195804%2014.6666667%2C3.88533333%20L14.6666667%2C6%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:null,iconTint:e.palette.getAccent700(),titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent700(),borderRadius:"8px",background:e.palette.getAccent100()})}getAttachmentOptions(e,t){return[this.imageAttachmentOption(e),this.videoAttachmentOption(e),this.audioAttachmentOption(e),this.fileAttachmentOption(e)]}getLastConversationMessage(e,o,r){let i={...r,textFormatters:r?.textFormatters&&r?.textFormatters.length?[...r.textFormatters]:[this.getMentionsTextFormatter({theme:r.theme,disableMentions:r.disableMentions})]},a=t.ConversationUtils.getLastConversationMessage(e,o,i),l=e.getLastMessage();if(l){let e=i.textFormatters;if(i&&!i.disableMentions){let n;for(let o=0;o<e.length&&(e[o]instanceof t.CometChatMentionsTextFormatter&&(n=e[o],n.setMessage(l),l.getMentionedUsers().length&&n.setCometChatUserGroupMembers(l.getMentionedUsers()),n.setLoggedInUser(t.CometChatUIKitLoginListener.getLoggedInUser())),!n);o++);n||(n=I.getDataSource().getMentionsTextFormatter({messageObject:l,...i,alignment:null,theme:r.theme}),e.push(n))}if(l&&l instanceof s.CometChat.TextMessage)for(let t=0;t<e.length;t++)a=e[t].getFormattedText(a,{mentionsTargetElement:n.MentionsTargetElement.conversation})}return a}getDefaultDetailsTemplate(e,n,o,r){return t.DetailsUtils.getDefaultDetailsTemplate(e,n,o,r)}getAuxiliaryHeaderMenu(e,t){return[]}getAIOptions(e,t,n,o,r){return[]}getMentionsFormattedText(e,t,o){const r=/<@uid:(.*?)>/g;let s=e.getText(),i=t,a=r.exec(s),l=[],c=e.getMentionedUsers();for(;null!==a;){let e;for(let t=0;t<c.length;t++)a[1]==c[t].getUid()&&(e=c[t]);e&&l.push(e),a=r.exec(s)}let C=this.getMentionsTextFormatter({theme:new n.CometChatTheme({})});return C.setClasses(["cc-mentions"]),C.setCometChatUserGroupMembers(l),i=C.getFormattedText(i,o),i}getAllTextFormatters(e){let t=[];const n=e.disableMentions?null:I.getDataSource().getMentionsTextFormatter(e),o=I.getDataSource().getUrlTextFormatter(e);return n&&t.push(n),o&&t.push(o),t}getMentionsTextFormatter(e){let o=new t.CometChatMentionsTextFormatter;return e&&e.theme&&(o.setComposerMentionStyle(new t.UserMentionStyle({loggedInUserTextFont:n.fontHelper(e.theme.typography.text2),loggedInUserTextColor:e.theme.palette.getPrimary(),loggedInUserTextBackground:"",mentionTextFont:n.fontHelper(e.theme.typography.text2),mentionTextColor:e.theme.palette.getPrimary(),mentionTextBackground:""})),o.setConversationMentionStyle(new t.UserMentionStyle({loggedInUserTextFont:n.fontHelper(e.theme.typography.text3),loggedInUserTextColor:e.theme.palette.getPrimary(),loggedInUserTextBackground:"",mentionTextFont:n.fontHelper(e.theme.typography.text3),mentionTextColor:e.theme.palette.getPrimary(),mentionTextBackground:""})),o.setRightBubbleMentionStyle(new t.UserMentionStyle({loggedInUserTextFont:n.fontHelper(e.theme.typography.text3),loggedInUserTextColor:e.theme.palette.getTertiary(),loggedInUserTextBackground:"",mentionTextFont:n.fontHelper(e.theme.typography.text3),mentionTextColor:e.theme.palette.getTertiary(),mentionTextBackground:""})),o.setLeftBubbleMentionStyle(new t.UserMentionStyle({loggedInUserTextFont:n.fontHelper(e.theme.typography.text3),loggedInUserTextColor:e.theme.palette.getPrimary(),loggedInUserTextBackground:"",mentionTextFont:n.fontHelper(e.theme.typography.text3),mentionTextColor:e.theme.palette.getPrimary(),mentionTextBackground:""}))),o}getUrlTextFormatter(e={}){let o=new t.CometChatUrlTextFormatter([/(https?:\/\/[^\s]+)/g]);return e.alignment==n.MessageBubbleAlignment.left?o.setStyle({formattedTextColor:e.theme.palette.getPrimary(),formattedTextFont:n.fontHelper(e.theme.typography.text3)}):o.setStyle({formattedTextColor:e.theme.palette.getTertiary(),formattedTextFont:n.fontHelper(e.theme.typography.text3)}),o}}class I{static init(e){this.dataSource=e??new S,e||(this.names=[]),this.names.push(this.dataSource.getId())}static enable(e){let t=e(this.dataSource);this.names.find((e=>e===t.getId()))||(this.dataSource=t,this.names.push(this.dataSource.getId()))}static getDataSource(){return this.dataSource}}I.names=["message utils"];class F{enable(){s.CometChat.isAIFeatureEnabled(this.getExtensionId()).then((e=>{e&&this.addExtension()}))}}class k{constructor(e){this.dataSource=e}getTextMessageOptions(e,t,n,o){return(this.dataSource??new S).getTextMessageOptions(e,t,n,o)}getImageMessageOptions(e,t,n,o){return(this.dataSource??new S).getImageMessageOptions(e,t,n,o)}getVideoMessageOptions(e,t,n,o){return(this.dataSource??new S).getVideoMessageOptions(e,t,n,o)}getAudioMessageOptions(e,t,n,o){return(this.dataSource??new S).getAudioMessageOptions(e,t,n,o)}getFileMessageOptions(e,t,n,o){return(this.dataSource??new S).getFileMessageOptions(e,t,n,o)}getBottomView(e,t){return(this.dataSource??new S).getBottomView(e,t)}getTextMessageContentView(e,t,n,o){return(this.dataSource??new S).getTextMessageContentView(e,t,n,o)}getImageMessageContentView(e,t,n){return(this.dataSource??new S).getImageMessageContentView(e,t,n)}getVideoMessageContentView(e,t,n){return(this.dataSource??new S).getVideoMessageContentView(e,t,n)}getAudioMessageContentView(e,t,n){return(this.dataSource??new S).getAudioMessageContentView(e,t,n)}getFileMessageContentView(e,t,n){return(this.dataSource??new S).getFileMessageContentView(e,t,n)}getFormMessageContentView(e,t,n){return(this.dataSource??new S).getFormMessageContentView(e,t,n)}getSchedulerMessageContentView(e,t,n){return(this.dataSource??new S).getSchedulerMessageContentView(e,t,n)}getCardMessageContentView(e,t,n){return(this.dataSource??new S).getCardMessageContentView(e,t,n)}getTextMessageTemplate(e,t){return(this.dataSource??new S).getTextMessageTemplate(e,t)}getImageMessageTemplate(e){return(this.dataSource??new S).getImageMessageTemplate(e)}getVideoMessageTemplate(e){return(this.dataSource??new S).getVideoMessageTemplate(e)}getAudioMessageTemplate(e){return(this.dataSource??new S).getAudioMessageTemplate(e)}getFileMessageTemplate(e){return(this.dataSource??new S).getFileMessageTemplate(e)}getGroupActionTemplate(e){return(this.dataSource??new S).getGroupActionTemplate(e)}getFormMessageTemplate(e){return(this.dataSource??new S).getFormMessageTemplate(e)}getSchedulerMessageTemplate(e){return(this.dataSource??new S).getSchedulerMessageTemplate(e)}getCardMessageTemplate(e){return(this.dataSource??new S).getCardMessageTemplate(e)}getAllMessageTemplates(e,t){return(this.dataSource??new S).getAllMessageTemplates(e,t)}getMessageTemplate(e,t,n){return(this.dataSource??new S).getMessageTemplate(e,t,n)}getMessageOptions(e,t,n,o){return(this.dataSource??new S).getMessageOptions(e,t,n,o)}getCommonOptions(e,t,n,o){return(this.dataSource??new S).getCommonOptions(e,t,n,o)}getAttachmentOptions(e,t){return(this.dataSource??new S).getAttachmentOptions(e,t)}getAllMessageTypes(){return(this.dataSource??new S).getAllMessageTypes()}getAllMessageCategories(){return(this.dataSource??new S).getAllMessageCategories()}getAuxiliaryOptions(e,t,n,o){return(this.dataSource??new S).getAuxiliaryOptions(e,t,n,o)}getId(){return(this.dataSource??new S).getId()}getDeleteMessageBubble(e,t,n){return(this.dataSource??new S).getDeleteMessageBubble(e,t,n)}getGroupActionBubble(e,t,n){return(this.dataSource??new S).getGroupActionBubble(e,t,n)}getTextMessageBubble(e,t,n,o,r,s){return(this.dataSource??new S).getTextMessageBubble(e,t,n,o,r,s)}getVideoMessageBubble(e,t,n,o,r,s){return(this.dataSource??new S).getVideoMessageBubble(e,t,n,o,r,s)}getImageMessageBubble(e,t,n,o,r,s){return(this.dataSource??new S).getImageMessageBubble(e,t,n,o,r,s)}getAudioMessageBubble(e,t,n,o,r){return(this.dataSource??new S).getAudioMessageBubble(e,t,n,o,r)}getFileMessageBubble(e,t,n,o,r){return(this.dataSource??new S).getFileMessageBubble(e,t,n,o,r)}getFormMessageBubble(e,t,n,o){return(this.dataSource??new S).getFormMessageBubble(e,t,n,o)}getSchedulerMessageBubble(e,t,n,o){return(this.dataSource??new S).getSchedulerMessageBubble(e,t,n,o)}getCardMessageBubble(e,t,n){return(this.dataSource??new S).getCardMessageBubble(e,t,n)}getLastConversationMessage(e,t,n){return(this.dataSource??new S).getLastConversationMessage(e,t,n)}getDefaultDetailsTemplate(e,t,n,o){return(this.dataSource??new S).getDefaultDetailsTemplate(e,t,n,o)}getAuxiliaryHeaderMenu(e,t){return(this.dataSource??new S).getAuxiliaryHeaderMenu(e,t)}getAIOptions(e,t,n,o,r){return(this.dataSource??new S).getAIOptions(e,t,n,o,r)}getAllTextFormatters(e){let t=[];const n=e.disableMentions?null:(this.dataSource??new S).getMentionsTextFormatter(e),o=(this.dataSource??new S).getUrlTextFormatter(e);return n&&t.push(n),o&&t.push(o),t}getMentionsTextFormatter(e={}){return(this.dataSource??new S).getMentionsTextFormatter(e)}getUrlTextFormatter(e={}){return(this.dataSource??new S).getUrlTextFormatter(e)}getMentionsFormattedText(e,t,n){return(this.dataSource??new S).getMentionsFormattedText(e,t,n)}}const T=r.createContext({theme:new n.CometChatTheme({})}),M=h({tagName:"cometchat-text-bubble",elementClass:o.CometChatTextBubble,react:r}),B=(e,t)=>e.sender.getUid()===t.getUid()?n.MessageBubbleAlignment.right:n.MessageBubbleAlignment.left,L=(e,t,o,r)=>{let s={};s=o===n.MessageBubbleAlignment.right?r?.senderMessageBubbleStyle||{}:r?.botMessageBubbleStyle||{};const i={textFont:s?.textFont||n.fontHelper(t.typography.text3)};return o===n.MessageBubbleAlignment.right?i.textColor=s?.textColor||t.palette.getAccent900():i.textColor=s?.textColor||t.palette.getAccent(),g.jsx(M,{text:e.getText(),textStyle:i})},R=(e,t,o)=>{let r,s=!1;return"send"!==e.getStatus()&&"wait"!==e.getStatus()&&"error"!==e.getStatus()||("wait"===e.getStatus()?r=n.Receipts.wait:"sent"===e.getStatus()?r=n.Receipts.sent:"error"===e.getStatus()&&(r=n.Receipts.error),s=!0),g.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[g.jsx("div",{style:{display:"inline-block"},children:g.jsx("cometchat-date",{timestamp:e.getSentAt(),dateStyle:JSON.stringify(Y(o)),pattern:n.DatePatterns.time})}),s?g.jsx("div",{style:{position:"relative",height:"20px",width:"20px"},children:g.jsx("cometchat-receipt",{receipt:r,waitIcon:t?.loadingIconURL,errorIcon:t?.errorIconURL,receiptStyle:JSON.stringify(W(t?.assistBotStyle,o))})}):null]})},U=(e,t)=>({display:"flex",overflow:"scroll",width:e?.width||"100%",height:e?.height||"100%",justifyContent:"center",alignItems:"center",minHeight:"50px",background:e?.background||t?.palette?.getBackground(),borderRadius:e?.borderRadius||"8px"}),P=(e,t)=>({display:"flex",justifyContent:"space-between",alignItems:"center",font:e?.optionTitleFont||t&&n.fontHelper(t?.typography?.text2),color:e?.optionTitleColor||t?.palette?.getAccent()}),O=(e,t)=>({height:"24px",width:"24px",buttonIconTint:e?.backIconTint||t?.palette.getPrimary()||"",border:"none",borderRadius:"8px",background:"transparent",display:"flex",justifyContent:"flex-start"}),j=(e,t)=>new o.ActionSheetStyle({ActionSheetSeparatorTint:t?.palette?.getAccent400(),background:e?.buttonBackground||t?.palette?.getBackground(),titleColor:e?.buttonTextColor||t?.palette?.getAccent(),titleFont:e?.buttonTextFont||t&&n.fontHelper(t?.typography?.text2),listItemBackground:"transparent",height:"100%",width:"100%",border:"none"}),G=e=>({display:"flex",justifyContent:"flex-end",height:"100%",width:"100%",background:e?.palette?.getAccent600()}),V=(e,t)=>({display:"flex",flexDirection:"column",width:"40%",minWidth:"350px",maxWidth:"100%",height:"100%",overflow:"hidden",boxSizing:"border-box",background:e?.background||t?.palette.getBackground()}),H=e=>({display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:"40px",padding:"10px",boxSizing:"border-box",background:e?.palette.getAccent200(),marginBottom:"10px"}),Q=(e={},t)=>({font:e.titleFont||n.fontHelper(t.typography.subtitle1),color:e.titleColor||t.palette.getAccent()}),N=(e={},t)=>({font:e.subtitleFont||n.fontHelper(t.typography.caption2),color:e.subtitleColor||t.palette.getAccent500()}),K=(e,t)=>({height:"24px",width:"24px",buttonIconTint:e?.closeIconTint||t?.palette.getPrimary()||"",border:"none",borderRadius:"8px",background:"transparent",display:"flex",justifyContent:"flex-start"}),z=(e,t,n,o)=>{if(e.sender.getUid()===n.getUid()){const e=o?.senderMessageBubbleStyle||{};return{background:e.background||t.palette.getPrimary(),borderRadius:e.borderRadius||"12px",border:e.border||"none"}}{const e=o?.botMessageBubbleStyle||{};return{background:e.background||t.palette.getAccent100(),borderRadius:e.borderRadius||"12px",border:e.border||"none"}}},_=(e,t)=>e||new o.MessageInputStyle({height:"40px",width:"100%",maxHeight:"40px",border:`1px solid ${t.palette.getAccent100()}`,borderRadius:"12px",background:t.palette.getAccent50(),textFont:n.fontHelper(t.typography.text2),textColor:t.palette.getAccent(),dividerColor:t.palette.getAccent100(),inputBorder:"none",inputBorderRadius:"0px",inputBackground:"transparent"}),J=(e,t)=>({height:"24px",width:"24px",buttonIconTint:e?.sendIconTint||t?.palette.getPrimary()||"",border:"none",borderRadius:"8px",background:"transparent",display:"flex",justifyContent:"flex-start"}),Y=e=>({textColor:e?.palette?.getAccent600(),textFont:n.fontHelper(e?.typography?.caption2),padding:"0px"}),W=(e,t)=>new o.ReceiptStyle({waitIconTint:e?.loadingIconTint||t?.palette?.getAccent700(),errorIconTint:e?.errorIconTint||t?.palette?.getError()}),Z=(e,t)=>{const o=B(e,t);return{flex:"1 1 0",display:"flex",flexDirection:"column",borderRadius:"inherit",justifyContent:o===n.MessageBubbleAlignment.left?"flex-start":"flex-end",alignItems:o===n.MessageBubbleAlignment.left?"flex-start":"flex-end",position:"relative"}};var X="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fbackbutton%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FBack%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.250000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2218.75%22%20y1%3D%228.75%22%20x2%3D%220%22%20y2%3D%228.75%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolyline%20id%3D%22Path%22%20points%3D%228.75%200%200%208.75%208.75%2017.5%22%3E%3C%2Fpolyline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";const q={title:void 0,bots:void 0,closeCallback:void 0,backCallback:void 0,configuration:void 0},$=h({tagName:"cometchat-action-sheet",elementClass:o.CometChatActionSheet,react:r,events:{onClick:"cc-actionsheet-clicked"}}),ee=e=>{const{theme:t}=r.useContext(T);return g.jsx("div",{className:"slideable-container",style:U(e.configuration?.assistBotStyle,t),children:g.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:"10px",boxSizing:"border-box"},children:[g.jsxs("div",{style:P(e.configuration?.assistBotStyle,t),children:[g.jsx("div",{children:g.jsx("cometchat-button",{iconURL:e.configuration?.backIconURL||X,onClick:()=>e.backCallback?e.backCallback():null,buttonStyle:JSON.stringify(O(e.configuration?.assistBotStyle,t))})}),g.jsx("div",{children:e.title}),g.jsx("div",{style:{flex:.2}})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"scroll",boxSizing:"border-box"},children:g.jsx($,{actions:e.bots,hideLayoutMode:!0,actionSheetStyle:j(e.configuration?.assistBotStyle,t),onClick:t=>{const n=t?.detail?.action;n.onClick&&n.onClick(),e.closeCallback&&e.closeCallback()}})})]})})};ee.defaultProps=q;var te="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function ne(e){return{boxSizing:"border-box",width:e?.width||"100%",height:e?.height||"100%",border:e?.border||"none",borderRadius:e?.borderRadius||"0",background:e?.background||"inherit",boxShadow:e?.boxShadow,display:"flex",flexDirection:"column",overflow:"hidden"}}function oe(e){return{flexShrink:"0",padding:e?"0px 12px":"19px 16px",display:"flex",flexDirection:"column",boxSizing:"border-box"}}function re(e,t,o){return{textAlign:t===n.TitleAlignment.left?"left":"center",font:e?.titleTextFont||"700 22px Inter, sans-serif",color:e?.titleTextColor||"rgb(20, 20, 20)",boxSizing:"border-box"}}function se(e){return{border:e?.searchBorder||"none",borderRadius:e?.searchBorderRadius||"8px",width:"100%",height:"32px",background:e?.searchBackground||"rgb(20, 20, 20, 0.04)",searchTextFont:e?.searchTextFont||"400 15px Inter, sans-serif",searchTextColor:e?.searchTextColor||"rgb(20, 20, 20)",placeholderTextFont:e?.searchPlaceholderTextFont||"400 15px Inter, sans-serif",placeholderTextColor:e?.searchPlaceholderTextColor||"rgb(20, 20, 20, 0.46)",searchIconTint:e?.searchIconTint||"rgb(20, 20, 20, 0.46)"}}function ie(e){return{iconTint:e?.loadingIconTint||"rgb(20, 20, 20, 0.58)"}}function ae(e){return{font:e?.sectionHeaderTextFont||"500 12px Inter, sans-serif",color:e?.sectionHeaderTextColor||"rbg(20, 20, 20, 0.46)",textAlign:"left",padding:"8px 0"}}function le(e){return{textFont:e?.errorStateTextFont||"700 22px Inter, sans-serif",textColor:e?.errorStateTextColor||"rgb(20, 20, 20, 0.33)"}}function ce(e){return{textFont:e?.emptyStateTextFont||"700 22px Inter, sans-serif",textColor:e?.emptyStateTextColor||"rgb(20, 20, 20, 0.33)"}}function Ce(e){const t=r.useRef(e);return t.current=e,t}function ge(e){const[t,n]=r.useState(e);return[t,r.useCallback((e=>{n(e)}),[])]}function de(e){const t=Ce(e),n=r.useCallback((function e(n){if("object"==typeof n&&n)if(n instanceof s.CometChat.CometChatException){const e=t.current;if(e)return e(n)}else if(n instanceof Error)return e(new s.CometChat.CometChatException({code:"ERROR",name:n.name,message:n.message}));console.log(n)}),[t]);return n}function ue(e,t){let n;const o=t[e];if("function"==typeof o){const e=o.call(t);n=String(void 0===e&&t?.id?t?.id:e)}else n=String(o);return n}const pe=(0,r.memo)((function(e){const{title:t="",titleAlignment:o=n.TitleAlignment.left,hideSearch:i=!1,searchText:a="",onSearch:l,searchPlaceholderText:c="Search",searchIconURL:C,list:d,listItem:u,showSectionHeader:p=!0,sectionHeaderKey:h,listItemKey:m,onScrolledToBottom:A,onScrolledToTop:x,state:b,loadingView:y,loadingIconURL:f,hideError:w=!1,errorStateView:D,errorStateText:E="Error",emptyStateView:v,emptyStateText:S,scrollToBottom:I=!1,onError:F,listStyle:k=null,scrolledUpCallback:T}=e,[M,B]=ge(null),L=r.useRef(null),R=r.useRef(null),U=r.useRef(null),P=r.useRef(!1),O=r.useRef(null),j=r.useRef([0,0]),G=r.useRef(!1),V=Ce(x),H=Ce(A),Q=Ce(l),N=de(F);!function(e){const{onSearchRef:t,searchInputElement:n,intersectionObserverRootRef:o,intersectionObserverBottomTargetRef:s,intersectionObserverTopTargetRef:i,onScrolledToBottomRef:a,onScrolledToTopRef:l,timeoutIdRef:c,scrollToBottom:C,didComponentScrollToBottomRef:g,scrollHeightTupleRef:d,didTopObserverCallbackRunRef:u,errorHandler:p,scrolledUpCallback:h}=e;r.useEffect((()=>{if(!n)return;function e(e){const n=e.detail.searchText;null!==c.current&&window.clearTimeout(c.current),c.current=window.setTimeout((()=>{t.current?.(n),c.current=null}),500)}const o="cc-search-changed";return n.addEventListener(o,e),()=>{n.removeEventListener(o,e)}}),[n,t,c]),r.useEffect((()=>{if(!o.current||!s.current)return;let e=!1;const t=o.current,n=s.current,r=new IntersectionObserver((async function(n){const o=n[0];if(o&&h&&h(o.isIntersecting),g.current&&o.isIntersecting)g.current=!1;else if(!(!o.isIntersecting||e||t.scrollHeight<=t.clientHeight)){e=!0;try{await Promise.all([a.current?.()])}catch(e){p(e)}e=!1}}),{root:t,threshold:.1});return r.observe(n),()=>{r.unobserve(n)}}),[p,g,s,o,a,h]),r.useEffect((()=>{if(!o.current||!i.current)return;let e=!1;const t=o.current,n=i.current,r=new IntersectionObserver((async function(n){if(!(!n[0].isIntersecting||e||t.scrollHeight<=t.clientHeight)){e=!0;try{await Promise.all([l.current?.()])}catch(e){p(e)}e=!1,u.current=!0}}),{root:t,threshold:.1});return r.observe(n),()=>{r.unobserve(n)}}),[p,u,o,i,l]),r.useEffect((()=>{o.current&&(o.current.scrollHeight>o.current.clientHeight?0!==Math.round(o.current.scrollHeight-d.current[1])&&(d.current[0]=d.current[1],d.current[1]=o.current.scrollHeight,!C&&u.current&&0!==d.current[0]&&(o.current.scrollTop=Math.max(d.current[1]-d.current[0],0))):(d.current[0]=0,d.current[1]=0),u.current&&(u.current=!1))})),r.useEffect((()=>{setTimeout((()=>{const e=o.current;C&&(e?.scrollHeight??0)>(e?.clientHeight??0)&&null!==s.current&&(g.current=!0,s.current.scrollIntoView(!1))}))}))}({onSearchRef:Q,searchInputElement:M,intersectionObserverRootRef:L,intersectionObserverBottomTargetRef:U,onScrolledToBottomRef:H,onScrolledToTopRef:V,intersectionObserverTopTargetRef:R,timeoutIdRef:O,scrollToBottom:I,didComponentScrollToBottomRef:P,scrollHeightTupleRef:j,didTopObserverCallbackRunRef:G,errorHandler:N,scrolledUpCallback:T});const K=""===t;return g.jsxs("div",{className:"cc-list",style:ne(k),children:[g.jsxs("div",{className:"cc-list__header",style:oe(K),children:[g.jsx("div",{className:"cc-list__title",style:re(k,o),children:t}),i?null:g.jsx("cometchat-search-input",{ref:B,searchText:a,placeholderText:c,searchIconURL:C,searchInputStyle:JSON.stringify(se(k)),style:{paddingTop:"16px"}})]}),g.jsxs("div",{ref:L,className:"cc-list__content",style:{overflow:"hidden auto",overflowX:"hidden",display:"flex",flexDirection:"column",width:"100%",height:"100%",boxSizing:"border-box",padding:"0 16px"},children:[g.jsx("div",{ref:R}),function(){if(b===n.States.loading&&0===d.length||b===n.States.empty||b===n.States.error)return null;let e="";return d.map(((t,n)=>{let o=null;if(p){let r;void 0===h?(N(new s.CometChat.CometChatException({code:"ERROR",name:"Error",message:"'sectionHeaderKey' prop must be provided when 'showSectionHeader' prop is set to true. 'showSectionHeader' is set to be true by default"})),r=" "):r=(ue(h,t)||" ")[0].toUpperCase();let i=null;0===n?(i=g.jsx("div",{className:"cc-list__section-header",style:ae(k),children:r}),e=r):e!==r?(i=g.jsx("div",{className:"cc-list__section-separator",children:g.jsx("div",{className:"cc-list__section-header",style:ae(k),children:r})}),e=r):i=g.jsx("div",{className:"cc-list__section-separator"}),o=g.jsx("div",{className:"cc-list__section",children:i})}return g.jsxs("div",{className:"cc-list__item",children:[o,u(t,n)]},ue(m,t))}))}(),function(){let e=null;switch(b){case n.States.loading:0===d.length&&(e=function(){let e;return e=y?g.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"cc-list__loading-view cc-list__loading-view--custom",children:y}):g.jsx("div",{className:"cc-list__loading-view cc-list__loading-view--default",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:g.jsx("cometchat-loader",{iconURL:f,loaderStyle:JSON.stringify(ie(k))})}),g.jsx("div",{className:"cc-list__loading-view-wrapper",style:{height:"calc(100% - 1px)",overflow:"auto"},children:e})}());break;case n.States.error:e=function(){if(w)return null;let e;return e=D?g.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"cc-list__error-view cc-list__error-view--custom",children:D}):g.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},className:"cc-list__error-view cc-list__error-view--default",children:g.jsx("cometchat-label",{text:E,labelStyle:JSON.stringify(le(k))})}),g.jsx("div",{className:"cc-list__error-view-wrapper",style:{height:"calc(100% - 1px)",overflow:"auto"},children:e})}();break;case n.States.empty:e=function(){let e;return e=!v&&S?g.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},className:"cc-list__empty-view cc-list__empty-view--default",children:g.jsx("cometchat-label",{text:S,labelStyle:JSON.stringify(ce(k))})}):g.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"cc-list__empty-view cc-list__empty-view--custom",children:v}),g.jsx("div",{className:"cc-list__empty-view-wrapper",style:{height:"calc(100% - 1px)",overflow:"auto"},children:e})}();case n.States.loaded:}return e}(),g.jsx("div",{ref:U,style:{height:"1px",border:"1px solid transparent"}})]})]})})),he=(e,t)=>({flex:"1 1 0",display:"flex",flexDirection:"column",borderRadius:"inherit",justifyContent:e===t.left?"flex-start":"flex-end",alignItems:e===t.left?"flex-start":"flex-end",position:"relative",width:"100%"}),me=(e,t)=>({display:"flex",justifyContent:e===t.left?"flex-start":"flex-end",alignItems:"flex-start"}),Ae=(e,t,n,o)=>({justifyContent:e===t.left?"flex-start":"flex-end",top:n?"-10px":"-30px",right:e===t.right?"unset":"0",left:e===t.left?"0":"unset",position:"absolute",background:o.palette.getBackground(),borderRadius:"8px",width:"fit-content",zIndex:"2"}),xe=e=>({border:`1px solid ${e.palette.getAccent200()}`,borderRadius:"8px",background:e.palette.getBackground(),submenuWidth:"100%",submenuHeight:"100%",submenuBorder:`1px solid ${e.palette.getAccent200()}`,submenuBorderRadius:"8px",submenuBackground:e.palette.getBackground(),moreIconTint:e.palette.getAccent600()}),be=(e,t)=>({listStyleType:"none",display:e?"flex":"none",position:"absolute",right:"24px",top:"0",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",border:"1px solid #e8e8e8",width:"100%",zIndex:"3",background:t.palette.getBackground(),margin:"0",padding:"0",borderRadius:"8px"}),ye=e=>({background:"transparent",border:"none",borderRadius:"0",buttonIconTint:e?.moreIconTint||""}),fe=(e,t)=>({background:t?.backgroundColor||"transparent",border:"none",borderRadius:"0",buttonIconTint:t?.iconTint,buttonTextFont:t?.titleFont,buttonTextColor:t?.titleColor}),we={width:"300px",height:"300px"};function De(e){const{text:t,hoverText:n,iconURL:o,disabled:s,buttonStyle:i,onClick:a,childRefCallback:l}=e,c=r.useRef();return function(e){const{ref:t,onClickPropRef:n,childRefCallback:o}=e;r.useEffect((()=>{const e=t.current;o&&o(t.current);const r="cc-button-clicked",s=e=>n.current?.(e);return e.addEventListener(r,s),()=>{e.removeEventListener(r,s)}}),[t,n])}({ref:c,onClickPropRef:Ce(a),childRefCallback:l}),g.jsx("cometchat-button",{ref:c,text:t,hoverText:n,iconURL:o,...s?{disabled:s}:{},...(C=i,d="buttonStyle",C?{[d]:JSON.stringify(C)}:{})});var C,d}const Ee=e=>{const{theme:t}=r.useContext(T),[o,s]=r.useState(!1),i=r.useRef(null),a=r.useRef([]),{data:l,topMenuSize:c,moreIconURL:C,moreIconHoverText:d,ContextMenuStyle:u,onOptionClicked:p,placement:h}=e,m=r.useCallback((()=>s((e=>!e))),[]),A=r.useCallback((()=>g.jsx("li",{style:{background:"transparent",padding:"4px 4px"},className:"cc-context-menu__menu-item cc-context-menu__menu-item--more",children:g.jsx("cometchat-button",{ref:i,buttonStyle:JSON.stringify(ye(u)),hoverText:d,iconURL:C,onClick:m})})),[u,d,C,m]),x=r.useCallback(((e,t)=>e?.map(((o,s)=>{let i,c=null;return i=o instanceof n.CometChatActionsView&&o?.customView?g.jsx("li",{id:o.id,style:{background:"transparent",padding:"4px 4px"},className:"cc-context-menu__menu-item",children:g.jsxs("cometchat-popover",{ref:e=>{a.current[o.id]=e},popoverStyle:JSON.stringify(we),placement:h,children:[g.jsx("div",{slot:"children",children:g.jsx("cometchat-button",{buttonStyle:JSON.stringify(fe(0,o)),text:t?o?.title:"",hoverText:o?.title,iconURL:o?.iconURL})}),g.jsx("div",{slot:"content",children:o?.customView(f(o.id))})]})}):g.jsx("li",{id:o.id,style:{background:"transparent",padding:"4px 4px"},className:"cc-context-menu__menu-item",children:g.jsx(De,{buttonStyle:fe(0,o),text:t?o?.title:"",hoverText:o?.title,iconURL:o?.iconURL,onClick:()=>{p(o)}})}),!t&&l?.length>e?.length&&s===e?.length-1&&(c=A()),g.jsxs(r.Fragment,{children:[i,c]},o.title)}))),[h,l,p,A]),b=r.useCallback((()=>x(l.slice(0,c-1),!1)),[x,c,l]),y=r.useCallback((()=>x(l.slice(c-1),!0)),[x,c,l]),f=r.useCallback((e=>()=>{a.current[e]?.closeContentView&&a.current[e]?.closeContentView()}),[]);return g.jsxs("div",{className:"cc-context-menu",style:{display:"flex",position:"relative"},children:[g.jsx("ul",{className:"cc-context-menu__top-menu",style:{listStyleType:"none",display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:"0",padding:"0",border:"1px solid #e8e8e8",zIndex:"2",borderRadius:"8px"},children:b()}),g.jsx("ul",{className:"cc-context-menu__sub-menu",style:be(o,t),children:y()})]})};var ve="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2216px%22%20height%3D%2216px%22%20viewBox%3D%220%200%2016%2016%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F16%2FMore%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F16%2FMore%22%20fill%3D%22%23000000%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4%2C6.66666667%20C3.26666667%2C6.66666667%202.66666667%2C7.26666667%202.66666667%2C8%20C2.66666667%2C8.73333333%203.26666667%2C9.33333333%204%2C9.33333333%20C4.73333333%2C9.33333333%205.33333333%2C8.73333333%205.33333333%2C8%20C5.33333333%2C7.26666667%204.73333333%2C6.66666667%204%2C6.66666667%20Z%20M12%2C6.66666667%20C11.2666667%2C6.66666667%2010.6666667%2C7.26666667%2010.6666667%2C8%20C10.6666667%2C8.73333333%2011.2666667%2C9.33333333%2012%2C9.33333333%20C12.7333333%2C9.33333333%2013.3333333%2C8.73333333%2013.3333333%2C8%20C13.3333333%2C7.26666667%2012.7333333%2C6.66666667%2012%2C6.66666667%20Z%20M8%2C6.66666667%20C7.26666667%2C6.66666667%206.66666667%2C7.26666667%206.66666667%2C8%20C6.66666667%2C8.73333333%207.26666667%2C9.33333333%208%2C9.33333333%20C8.73333333%2C9.33333333%209.33333333%2C8.73333333%209.33333333%2C8%20C9.33333333%2C7.26666667%208.73333333%2C6.66666667%208%2C6.66666667%20Z%22%20id%3D%22Style%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";const Se=e=>{const{id:o,leadingView:s=null,headerView:i=null,replyView:a=null,contentView:l=null,bottomView:c=null,threadView:C=null,footerView:d=null,statusInfoView:u=null,options:p=[],alignment:h=n.MessageBubbleAlignment.right,messageBubbleStyle:m=new t.BaseStyle({width:"100%",height:"auto",background:"",borderRadius:"12px",border:"none"}),moreIconURL:A=ve,topMenuSize:x=5,setRef:b}=e,y={borderRadius:"8px"},{theme:f}=r.useContext(T),w=r.useRef(null);r.useEffect((()=>{w&&w.current&&b&&b(w)}),[w,b]);const[D,E]=r.useState(!1),v=e=>{p.forEach((t=>{t instanceof n.CometChatActionsIcon&&t.id===e?.id&&o&&t.onClick?.(parseInt(o))}))},S=()=>I()?F():e.alignment===n.MessageBubbleAlignment.left?n.Placement.right:n.Placement.left,I=()=>window.innerWidth<=768,F=()=>{const e=w.current;if(e){const t=e.getBoundingClientRect(),o=t.top<window.innerHeight/2,r=t.bottom>window.innerHeight/2;return o?n.Placement.bottom:r?n.Placement.top:n.Placement.bottom}return n.Placement.bottom};return g.jsxs("div",{className:"cc-message-bubble__wrapper",ref:w,style:{display:"flex",position:"relative",maxWidth:"65%",width:"fit-content",gap:"4px"},onMouseEnter:()=>{E(!0)},onMouseLeave:()=>{E(!1)},children:[(()=>{if(s&&h===n.MessageBubbleAlignment.left)return g.jsx("div",{className:"cc-message-bubble__avatar",style:{position:"relative",borderRadius:"inherit",display:"flex",width:"fit-content",alignSelf:"flex-start",marginTop:"5px",padding:"8px 4px"},children:s})})(),g.jsxs("div",{className:"cc-message-bubble",style:he(h,n.MessageBubbleAlignment),children:[(()=>{if(p&&p.length>0&&D)return g.jsx("div",{className:"cc-message-options",style:Ae(h,n.MessageBubbleAlignment,i,f),children:g.jsx(Ee,{moreIconURL:A,topMenuSize:x,ContextMenuStyle:xe(f),data:p,moreIconHoverText:"",onOptionClicked:v,placement:S()})})})(),(()=>{if(i)return g.jsx("div",{className:"cc-message-bubble__header",style:me(h,n.MessageBubbleAlignment),children:i})})(),g.jsxs("div",{className:"cc-message-bubble__content",style:{height:m.height,width:m.width},children:[g.jsxs("div",{style:{...m,...y},children:[a||null,l||null,u||null]}),c||null,d||null,C||null]})]})]})};const Ie={bot:void 0,sender:void 0,messageSendCallBack:void 0,closeCallback:void 0,configuration:void 0},Fe=h({tagName:"cometchat-text-input",elementClass:o.CometChatTextInput,react:r,events:{ccTextInputChanged:"cc-text-input-changed",ccTextInputEntered:"cc-text-input-entered"}}),ke=e=>{const i=r.useRef(!0),a=n.localize("COMETCHAT_ASK_BOT_SUBTITLE"),l=r.useRef(n.localize("COMETCHAT_BOT_FIRST_MESSAGE")),c=r.useRef(null),C=r.useRef(""),[d,u]=r.useState([]),{theme:p}=r.useContext(T),h=e.sender,m=e.bot;r.useEffect((()=>{A()}),[]);const A=r.useCallback((()=>{e.configuration?.botFirstMessageText&&(l.current=e.configuration.botFirstMessageText(m));const o=new s.CometChat.TextMessage(h.getUid(),l.current,n.CometChatUIKitConstants.MessageReceiverType.user);o.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),o.setMuid(t.CometChatUIKitUtility.ID()),o.setSender(m),u([o])}),[d,u]),x=r.useCallback((e=>{C.current=e}),[C]),b=r.useCallback((o=>{e.messageSendCallBack&&e.messageSendCallBack(C.current,m).then((e=>{const r=new s.CometChat.TextMessage(h.getUid(),e,n.CometChatUIKitConstants.MessageReceiverType.user);r.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),r.setMuid(t.CometChatUIKitUtility.ID()),r.setSender(m),r.setStatus("sent"),u((e=>{const t=e.map((e=>(e.getMuid()===o&&e.setStatus("sent"),e)));return t.push(r),t}))})).catch((e=>{u((e=>e.map((e=>(e.getMuid()===o&&e.setStatus("error"),e)))))}))}),[d,u,C]),y=r.useCallback((()=>{if(!C.current)return;const e=t.CometChatUIKitUtility.ID(),o=new s.CometChat.TextMessage(m.getUid(),C.current,n.CometChatUIKitConstants.MessageReceiverType.user);o.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),o.setMuid(e),o.setSender(h),o.setStatus("wait"),u((e=>[...e,o])),c?.current?.emptyInputField(),b(e)}),[d,u,b,C]),f=r.useMemo((()=>function(t,n){return g.jsx("div",{style:Z(t,h),children:g.jsx(Se,{id:t?.id,messageBubbleStyle:z(t,p,h,e.configuration),alignment:B(t,h),contentView:L(t,p,B(t,h),e.configuration),footerView:R(t,e.configuration,p),leadingView:void 0,headerView:void 0,replyView:void 0,bottomView:void 0,threadView:void 0,statusInfoView:void 0,options:[]})})}),[z,B,L,R]);return g.jsx("div",{style:G(p),children:g.jsxs("div",{style:V(e.configuration?.assistBotStyle,p),children:[g.jsxs("div",{style:H(p),children:[g.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[g.jsx("cometchat-avatar",{name:m?.getName(),avatarStyle:JSON.stringify((w=e.configuration?.avatarStyle,w||new o.AvatarStyle({borderRadius:"16px",width:"28px",height:"28px"}))),image:m?.getAvatar()}),g.jsxs("div",{children:[g.jsx("div",{style:Q(e.configuration?.assistBotStyle,p),children:m?.getName()}),g.jsx("div",{style:N(e.configuration?.assistBotStyle,p),children:a})]})]}),g.jsx("div",{children:g.jsx("cometchat-button",{iconURL:e.configuration?.closeIconURL||te,onClick:()=>{e.closeCallback&&e.closeCallback()},buttonStyle:JSON.stringify(K(e.configuration?.assistBotStyle,p))})})]}),g.jsx(pe,{listStyle:{height:"calc(100% - 90px)"},list:d,listItem:f,listItemKey:"getMuid",state:n.States.loaded,hideSearch:!0,showSectionHeader:!1,title:"",scrollToBottom:i?.current}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"40px",padding:"5px",boxSizing:"border-box"},children:[g.jsx(Fe,{style:{flex:.99},ref:c,textInputStyle:_(e.configuration?.textInputStyle,p),ccTextInputChanged:e=>x(e?.detail?.value),ccTextInputEntered:()=>y()}),g.jsx("cometchat-button",{iconURL:e.configuration?.sendIconURL||"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSend%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSend%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0.158865921%2C1.85985859%20C-0.108182698%2C1.38202197%20-0.0332622567%2C0.786017075%200.343741637%2C0.389140701%20C0.72074553%2C-0.00773567366%201.31211969%2C-0.113146836%201.80303259%2C0.129025252%20L17.6480326%2C8.17819192%20C17.857662%2C8.28481329%2017.9896898%2C8.50008892%2017.9896898%2C8.73527525%20C17.9896898%2C8.97046158%2017.857662%2C9.18573721%2017.6480326%2C9.29235859%20L1.80303259%2C17.3523586%20C1.31211969%2C17.5945307%200.72074553%2C17.4891195%200.343741637%2C17.0922431%20C-0.0332622567%2C16.6953668%20-0.108182698%2C16.0993619%200.158865921%2C15.6215253%20L4.37386592%2C8.73485859%20L0.158865921%2C1.85985859%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2217.9896993%22%20y1%3D%228.73485859%22%20x2%3D%224.36969925%22%20y2%3D%228.73485859%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:()=>y(),buttonStyle:JSON.stringify(J(e.configuration?.assistBotStyle,p))})]})]})});var w};ke.defaultProps=Ie;class Te extends k{constructor(e,t){super(e),this.bots=[],this.theme=new n.CometChatTheme({}),this.onMessageSent=async(e,t)=>new Promise((async(o,r)=>{try{let r,i=this.user?this.user?.getUid():this.group?.getGuid(),a=this.user?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group;this.configuration?.apiConfiguration&&(r=await(this.configuration?.apiConfiguration(t,this.user,this.group)));return o(await s.CometChat.askBot(i,a,t.getUid(),e,r||{}))}catch(e){r(e)}})),this.closeChat=()=>{n.CometChatUIEvents.ccHidePanel.next(n.PanelAlignment.messages)},this.onOptionClick=e=>{n.CometChatUIEvents.ccShowPanel.next({child:g.jsx(ke,{bot:e,sender:this.loggedInUser,configuration:this.configuration,messageSendCallBack:this.onMessageSent,closeCallback:this.closeChat}),position:n.PanelAlignment.messages})},this.newDataSource=e,this.configuration=t,setTimeout((()=>{this.addMessageListener(),this.getAllBots()}),1e3)}getId(){return"aiassistbot"}getAIOptions(e,t,o,r,s){this.user=e,this.group=t;const i=n.localize("COMETCHAT_ASK_AI_BOT"),a=n.localize("COMETCHAT_ASK_BOT"),l=this.bots?.length,c=l>1?i:`${a} ${this.bots[0]?.getName()}`;if(r?.parentMessageId)return super.getAIOptions(e,t,o,r,s);{let i;s&&(i={titleColor:this.configuration?.assistBotStyle?.buttonTextColor||s?.listItemTextColor,titleFont:this.configuration?.assistBotStyle?.buttonTextFont||s?.listItemTextFont,background:this.configuration?.assistBotStyle?.buttonBackground||s?.listItemBackground});const a=super.getAIOptions(e,t,o,r,s);if(1===l){const e=new n.CometChatMessageComposerAction({title:c,onClick:()=>{this.onOptionClick(this.bots[0])},id:"ai-assist-bot",iconURL:"",iconTint:"",titleColor:i?.titleColor,titleFont:i?.titleFont,background:i?.background});a.push(e)}else if(l>1){const e=this.bots.map((e=>new n.CometChatMessageComposerAction({title:e.getName(),onClick:()=>{this.onOptionClick(e)},id:e.getUid()}))),t=new n.CometChatActionsView({title:c,customView:t=>g.jsx(ee,{title:c,configuration:this.configuration,backCallback:t?.backAction,closeCallback:t?.closePopover,bots:e}),id:"ai-assist-bot",iconURL:"",iconTint:"",titleColor:i?.titleColor,titleFont:i?.titleFont,background:i?.background});a.push(t)}return a}}getAllBots(){(new s.CometChat.UsersRequestBuilder).setLimit(30).setTags(["aibot"]).build().fetchNext().then((e=>{this.bots=e}))}addMessageListener(){s.CometChat.getLoggedinUser().then((e=>{e&&(this.loggedInUser=e)})),n.CometChatUIEvents.ccActiveChatChanged.subscribe((()=>{this.closeChat()}))}}class Me extends F{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new Te(e,this.configuration)))}getExtensionId(){return"bots"}}const Be={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",overflow:"hidden"},Le=(e,t)=>({replyTextFont:t?.textFont||n.fontHelper(e.typography.caption1),replyTextColor:t?.textColor||e?.palette.getAccent(),replyBackground:t?.textBackground||"inherit",boxShadow:`0px 0px 1px ${e?.palette.getAccent600()}`,background:t?.background||"inherit",width:t?.width||"100%",height:t?.height||"100%",border:t?.textBorder||"none",borderRadius:t?.textBorderRadius||"8px",display:"flex",justifyContent:"flex-start"});var Re="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20standalone%3D%22no%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%2020010904%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FTR%2F2001%2FREC-SVG-20010904%2FDTD%2Fsvg10.dtd%22%3E%3Csvg%20version%3D%221.0%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100.000000pt%22%20height%3D%22100.000000pt%22%20viewBox%3D%220%200%20100.000000%20100.000000%22%20preserveAspectRatio%3D%22xMidYMid%20meet%22%3E%3Cg%20transform%3D%22translate%280.000000%2C100.000000%29%20scale%280.100000%2C-0.100000%29%22fill%3D%22%23000000%22%20stroke%3D%22none%22%3E%3Cpath%20d%3D%22M375%20847%20c-221%20-73%20-326%20-269%20-254%20-472%20l22%20-62%20-25%20-74%20c-14%20-41-23%20-80%20-21%20-86%206%20-17%2042%20-15%20138%206%2077%2017%2082%2017%20138%20-1%2072%20-22%20199%20-25%20216%20-46%207%209%2021%205%2030%20-5%2013%20-21%2016%20-79%2016%20-44%200%20-98%208%20-136%2019%20-58%2018%20-67%2019%20-123%206-89%20-21%20-88%20-23%20-65%2042%20l20%2058%20-26%2056%20c-52%20116%20-25%20240%2069%20327%2077%2071%20123%2087246%2087%20123%200%20169%20-16%20245%20-86%2064%20-59%2088%20-108%2094%20-199%205%20-68%208%20-75%2028%20-78%2036-5%2048%2038%2033%20118%20-22%20125%20-94%20215%20-218%20273%20-59%2028%20-79%2032%20-167%2034%20-63%202%20-115-2%20-140%20-10z%22%2F%3E%3Cpath%20d%3D%22M687%20313%20c-16%20-15%20-4%20-42%2038%20-83%20l45%20-44%20-45%20-46%20c-47%20-48%20-56%20-74-28%20-84%2011%20-5%2031%208%2064%2040%20l48%2047%2050%20-46%20c54%20-50%2061%20-53%2079%20-35%2018%2018%2015%2025-35%2079%20l-46%2050%2048%2049%20c41%2042%2046%2051%2035%2065%20-19%2023%20-30%2019%20-80%20-30%20l-46%20-45%20-4445%20c-41%2042%20-68%2054%20-83%2038z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E",Ue="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%22100%22%20height%3D%22100%22%20xml%3Aspace%3D%22preserve%22%20version%3D%221.1%22%20viewBox%3D%220%200%20100%20100%22%3E%20%20%20%20%3Cimage%20width%3D%22100%22%20height%3D%22100%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABqxJREFUeF7tnY2x5DQMgHUdcBUAFXBUAFQAVABXAVABUAFQAVDBQQVABRwVABUAFcB8MzEsef6RbHmjl9gzO%2B%2FmNnFkfZIs%2F6zzRFYJpYEnoaRZwsgCEswIFpAFJJgGgomzPGQBCaaBYOIsD1lAgmkgmDjLQxaQYBoIJs7ykAUkmAaCifMYPeQVEXlt%2B%2FDvXPlt%2B8%2BXIvJnMJ1XxYkOBMW%2FJyJviMizBoRSQwECID4%2FiciPIgKokCUaECz%2BbRF5dwNR8oBRZQIJMN9vf5NHjdY7fH8UIED4YDKEmrK%2BE5FvRYS%2Fh5YjgWD9hCNAACRCwVM%2B38Ac0vccBeRDEflCRGaFpFG4gPlKRL4crch6%2F72B4Alfb52zVdZ0PZb7101HnauHZADYrw5CTx7zTa%2Bw1vvuBQTlYG2EJ2shMyIrStmRtQPm2WRoGAOft6wCiAhACGXWZ5sfdQ8gVq%2FAA8h%2B6GCBMCOWIxNhk2xOGzaR45MNjlnR2htmA%2FlURD5TCoMnAAFrnAGhJAZg%2BGg9B08HzJQyCwhW90KZPQECaHjDkQWvQQ4NGELo%2BzNC2AwgdKjAIG7XCvEYSzs8998JSSpOBkg7WvK%2F4w3FGwiN%2BEHRGFJKrPGeocnqfchHyL0rFE8gGhh4xfMA4UkLR9smN0%2FxAkKfgWfUwhR9BeEgslfkQNE2vOWjCkUMzQWKFxBi7scVgQlRte%2B1Fnvkda0QRkf%2F5qiAHkBaqS0DKm3qO9qe2fe3oAynxKNAiLG%2FVrRwJhipmS0ohK7uFH4UCDBK6eEZwlTJ1mpQ6CNf7%2B0rR4DUQpVLPJ0dfwbrZ6xFkpIr3aGrF0gtVLllHIMKm3072dfPlQjRFbp6gTDfVJq5ZZxxt%2Bnq2Vpv1M90C%2Bl%2BrtCPAMVUeoDUvAMQALlSITyVxihmL%2BkBUvMOOrPpawbBaBO6SG5y0%2FhmL7ECqT38it6hSYWfWjIuKxDWDViCzZUrekfSQ81QTWMxKxA6sNwOkSt7R8tLCOEYq6pYgGAFfxRqNXdeKuke10W1ZIc5LtVuSQsQBkEMhvbFZAGPS8dmaUsRhIU41ZYiC5BSdrXC1X%2FcSlMqbNoojer%2FR90ChFFpbr2DteVoy7Bm03a6oTRQZH6LbKtZLED%2BXtlVU59cQD%2BbG5OoslAtEDwDD9kXNXlVU85x0VAk0QIpuSLLslE2SkfBWeprVXN8WiClAaG6s4qirTvIUZrbUg0QR4GsDOsh4VKm5Qqk9JAzrwr2OtNdgLBjhJ0l%2B7KAHOQhpT5khaxgQFan%2FhBIKZq4ZlmltPcKmxmsfUlurV29z0CbZZVmMtfAMI8LfdG58xejJRVWraRqgQxPCVjN7KrXW4CUpgRUsfGqCra22wKkNAJdmZZV65XrLUBqU8vdWycd23KKqixAagv5awnXyRwsQHhkaYnSvP%2FISf7TVWMFUlpXRzHLSxzMwwrEdZeeg%2Fynq8IKBAXUfhtxJS8hycFAGfipBn0a6%2BkBcnUv2f8OHxhs9FDtu2pB6QHS8hL1HqSWcEG%2Fzy3Ruk0h9QKpecnZN86VZixUu0paRtYLhHpLI%2FezzwBjcJzDtS%2BHA7nqxuuQQGobi8%2BeaYUEUlrSPXv%2FQZgKCeSq4SokkCuHq5BArhyuQgK5crgKB%2BTq4SocEI9wBVQm5viJA289oPCDH%2FZ4uU3StUbEA9%2BHyrKs4Sq97SC9biLNkOb0wXwQYNie6jJRN6D02q1hgLTCFUrE6pPlo%2FzWyZ6lhtPo28OUPXWLfBygjGwcWa7eM7UJEQZI7dCABMNTcamu9K6PX27WHrQehNLTi2A4jzfnoSiYny1rz4IMM7lYClczIGjqTG%2FO2SsyeaXFOy1LBrkFOrcZCu1sb%2BsoP40CI19j%2FVnF7Uy3et%2BuRgFaIGxuSGecaA%2BvLz0fi%2F795m0H6e06GnlnXdOz%2BxI98HHNDLVAkpuiTCuQW%2BWzXYgG5MIMYNjKn1LhWcrf18urjugfQxQtkNrJabcNQdG3b0LreW1dejMbXqk5GL9HkUlGDKT7BNGeB7fu0QKhnn1nhvJT5pNeuOLqvpvwaRCZMiY8SOulKTwi3%2B1Hm1G19Of%2BvQUID09KQfHa1NNd6K3C9FqjPZxkFDOMY1Zb%2Fq3XCmS6QFd%2FwALSbwFhNsr1N%2BEcd4bcKHcO1fa1IuRGub6mnOOuMHNZ51DneCtKc3qm42BLYqxO3Q4oN0hWHSyjedQCotHSw2vS79AZA6V3L%2FbVtLtrAXFRo18lC4ifLl1qWkBc1OhXyQLip0uXmhYQFzX6VfIP%2BqZ1dOfAgekAAAAASUVORK5CYII%3D%22%2F%3E%20%20%3C%2Fsvg%3E",Pe="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Icons%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20viewBox%3D%220%200%2032%2032%22%20style%3D%22enable-background%3Anew%200%200%2032%2032%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%20.st0%7Bfill%3Anone%3Bstroke%3A%23000000%3Bstroke-width%3A2%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3B%7D%3C%2Fstyle%3E%3Cline%20class%3D%22st0%22%20x1%3D%2216%22%20y1%3D%223%22%20x2%3D%2216%22%20y2%3D%228%22%2F%3E%3Cline%20class%3D%22st0%22%20x1%3D%226.8%22%20y1%3D%226.8%22%20x2%3D%2210.3%22%20y2%3D%2210.3%22%2F%3E%3Cline%20class%3D%22st0%22%20x1%3D%223%22%20y1%3D%2216%22%20x2%3D%228%22%20y2%3D%2216%22%2F%3E%3Cline%20class%3D%22st0%22%20x1%3D%226.8%22%20y1%3D%2225.2%22%20x2%3D%2210.3%22%20y2%3D%2221.7%22%2F%3E%3Cline%20class%3D%22st0%22%20x1%3D%2216%22%20y1%3D%2229%22%20x2%3D%2216%22%20y2%3D%2224%22%2F%3E%3Cline%20class%3D%22st0%22%20x1%3D%2225.2%22%20y1%3D%2225.2%22%20x2%3D%2221.7%22%20y2%3D%2221.7%22%2F%3E%3Cline%20class%3D%22st0%22%20x1%3D%2229%22%20y1%3D%2216%22%20x2%3D%2224%22%20y2%3D%2216%22%2F%3E%3Cline%20class%3D%22st0%22%20x1%3D%2225.2%22%20y1%3D%226.8%22%20x2%3D%2221.7%22%20y2%3D%2210.3%22%2F%3E%3C%2Fsvg%3E";const Oe={getConversationStarterCallback:void 0,editReplyCallback:void 0,configuration:void 0},je=h({tagName:"smart-replies",elementClass:t.SmartReplies,react:r,events:{ccReplyClicked:"cc-reply-clicked",ccCloseClicked:"cc-close-clicked"}}),Ge=h({tagName:"cometchat-ai-card",elementClass:t.CometChatAICard,react:r}),Ve=e=>{const[t,o]=r.useState(n.States.loading),[s,i]=r.useState(null),{theme:a}=r.useContext(T),l=n.localize("SOMETHING_WRONG"),c=n.localize("NO_MESSAGES_FOUND"),C=n.localize("GENERATING_ICEBREAKERS");return r.useEffect((()=>{o(n.States.loading),e&&e.getConversationStarterCallback&&e.getConversationStarterCallback(a).then((async t=>{t?(o(n.States.loaded),i(await async function(t){return new Promise(((n,o)=>{try{let r=e.configuration?.customView;if(!r){let o=g.jsx(je,{smartReplyStyle:Le(a,e.configuration?.conversationStarterStyle),replies:t,ccReplyClicked:t=>{e&&e.editReplyCallback&&e.editReplyCallback(t?.detail?.reply)},closeIconURL:""},"conversation-starter");return n(o)}e.configuration?.customView(t).then((e=>n(e))).catch((e=>o(e)))}catch(e){o(e)}}))}(t))):o(n.States.empty)})).catch((e=>{o(n.States.error)}))}),[]),g.jsx("div",{className:"slideable-container",style:{...(d=e.configuration?.conversationStarterStyle,{display:"flex",overflow:"hidden",width:d?.width||"100%",height:d?.height||"100%",justifyContent:"center",alignItems:"center",minHeight:"50px"}),minHeight:"50px",width:"100%"},children:g.jsx("div",{style:Be,children:g.jsx("div",{style:{height:"100%",width:"100%",marginTop:"12px",overflow:"hidden auto"},children:t===n.States.loaded?s:function(){let o=null;switch(t){case n.States.loading:o=function(){let t=e.configuration?.loadingStateView;return g.jsx(Ge,{state:n.States.loading,style:e.configuration?.conversationStarterStyle,loadingIconURL:e.configuration?.loadingIconURL||Pe,loadingStateText:C,children:t?g.jsx("div",{slot:"loadingView",children:g.jsx(t,{})}):null})}();break;case n.States.error:o=function(){let t=e.configuration?.errorStateView;return g.jsx(Ge,{state:n.States.error,style:e.configuration?.conversationStarterStyle,errorIconURL:e.configuration?.errorIconURL||Ue,errorStateText:l,children:t?g.jsx("div",{slot:"errorView",children:g.jsx(t,{})}):null})}();break;case n.States.empty:o=function(){let t=e.configuration?.emptyStateView;return g.jsx(Ge,{state:n.States.empty,style:e.configuration?.conversationStarterStyle,emptyIconURL:e.configuration?.emptyIconURL||Re,emptyStateText:c,children:t?g.jsx("div",{slot:"errorView",children:g.jsx(t,{})}):null})}();case n.States.loaded:}return o}()})})});var d};Ve.defaultProps=Oe;class He extends k{constructor(e,t){super(e),this.currentMessage=null,this.theme=new n.CometChatTheme({}),this.getConversationStarter=e=>(this.theme=e??new n.CometChatTheme({}),new Promise((async(e,t)=>{try{let t,o=this.user?this.user?.getUid():this.group?.getGuid(),r=this.user?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group;this.configuration?.apiConfiguration&&(t=await(this.configuration?.apiConfiguration(this.user,this.group)));return e(await s.CometChat.getConversationStarter(o,r,t||{}))}catch(e){t(e)}}))),this.newDataSource=e,this.configuration=t,setTimeout((()=>{this.addMessageListener()}),1e3)}getId(){return"aiconversationstarter"}editReply(e){n.CometChatUIEvents.ccComposeMessage.next(e),n.CometChatUIEvents.ccHidePanel.next(n.PanelAlignment.messageListFooter)}closeIfMessageReceived(e){e?.getReceiverId()!==this.loggedInUser?.getUid()||this.currentMessage||n.CometChatUIEvents.ccHidePanel.next(n.PanelAlignment.messageListFooter)}loadConversationStarter(){n.CometChatUIEvents.ccShowPanel.next({configuration:this.configuration,message:this.currentMessage,child:g.jsx(Ve,{configuration:this.configuration,getConversationStarterCallback:this.getConversationStarter,editReplyCallback:this.editReply}),position:n.PanelAlignment.messageListFooter})}addMessageListener(){s.CometChat.getLoggedinUser().then((e=>{e&&(this.loggedInUser=e)})),n.CometChatMessageEvents.onTextMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onCustomMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onMediaMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onFormMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onSchedulerMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onCardMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onCustomInteractiveMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatUIEvents.ccActiveChatChanged.subscribe((e=>{this.currentMessage=e.message,this.user=e.user,this.group=e.group,this.currentMessage||this.loadConversationStarter()})),n.CometChatMessageEvents.ccMessageSent.subscribe((()=>{this.currentMessage||(n.CometChatUIEvents.ccHidePanel.next(n.PanelAlignment.messageListFooter),this.currentMessage=null)}))}}class Qe extends F{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new He(e,this.configuration)))}getExtensionId(){return"conversation-starter"}}const Ne={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",overflow:"hidden"},Ke=(e,t)=>new o.PanelStyle({width:"100%",height:"fit-content",border:`1px solid ${e.palette.getPrimary()}`,borderRadius:"8px",background:e.palette.getBackground(),textColor:t?.textColor||e.palette.getAccent600(),titleColor:t?.titleTextColor||e.palette.getAccent(),textFont:t?.textFont||n.fontHelper(e.typography.text2),titleFont:t?.titleTextFont||n.fontHelper(e.typography.text1)}),ze={getConversationSummaryCallback:void 0,editReplyCallback:void 0,closeCallback:void 0,configuration:void 0};h({tagName:"smart-replies",elementClass:t.SmartReplies,react:r,events:{ccReplyClicked:"cc-reply-clicked",ccCloseClicked:"cc-close-clicked"}});const _e=h({tagName:"cometchat-ai-card",elementClass:t.CometChatAICard,react:r}),Je=h({tagName:"cometchat-panel",elementClass:o.CometChatPanel,react:r,events:{ccCloseClicked:"cc-close-clicked"}}),Ye=e=>{const[t,o]=r.useState(n.States.loading),[s,i]=r.useState(null),{theme:a}=r.useContext(T),l=n.localize("SOMETHING_WRONG"),c=n.localize("NO_MESSAGES_FOUND"),C=n.localize("GENERATING_SUMMARY"),d=n.localize("CONVERSATION_SUMMARY");return r.useEffect((()=>{o(n.States.loading),e&&e.getConversationSummaryCallback&&e.getConversationSummaryCallback(a).then((async t=>{t?(o(n.States.loaded),i(await async function(t){return new Promise(((n,o)=>{try{let r=e.configuration?.customView;if(!r){let o=g.jsx(Je,{panelStyle:Ke(a,e.configuration?.conversationSummaryStyle),title:d,text:t,closeIconUrl:e.configuration?.closeIconURL||te,ccCloseClicked:()=>e.closeCallback()});return n(o)}e.configuration?.customView(t,e?.closeCallback).then((e=>n(e))).catch((e=>o(e)))}catch(e){o(e)}}))}(t))):o(n.States.empty)})).catch((e=>{o(n.States.error)}))}),[]),g.jsx("div",{className:"slideable-container",style:{...(u=e.configuration?.conversationSummaryStyle,{display:"flex",overflow:"hidden",width:u?.width||"100%",height:u?.height||"100%",justifyContent:"center",alignItems:"center",minHeight:"50px"}),minHeight:"50px",width:"100%"},children:g.jsx("div",{style:Ne,children:g.jsx("div",{style:{height:"100%",width:"95%",marginTop:"12px",overflow:"hidden auto"},children:t===n.States.loaded?s:function(){let o=null;switch(t){case n.States.loading:o=function(){let t=e.configuration?.loadingStateView;return g.jsx(_e,{state:n.States.loading,style:e.configuration?.conversationSummaryStyle,loadingIconURL:e.configuration?.loadingIconURL||Pe,loadingStateText:C,children:t?g.jsx("div",{slot:"loadingView",children:g.jsx(t,{})}):null})}();break;case n.States.error:o=function(){let t=e.configuration?.errorStateView;return g.jsx(_e,{state:n.States.error,style:e.configuration?.conversationSummaryStyle,errorIconURL:e.configuration?.errorIconURL||Ue,errorStateText:l,children:t?g.jsx("div",{slot:"errorView",children:g.jsx(t,{})}):null})}();break;case n.States.empty:o=function(){let t=e.configuration?.emptyStateView;return g.jsx(_e,{state:n.States.empty,style:e.configuration?.conversationSummaryStyle,emptyIconURL:e.configuration?.emptyIconURL||Re,emptyStateText:c,children:t?g.jsx("div",{slot:"errorView",children:g.jsx(t,{})}):null})}();case n.States.loaded:}return o}()})})});var u};Ye.defaultProps=ze;class We extends k{constructor(e,t){super(e),this.currentMessage=null,this.unreadMessageCount=0,this.theme=new n.CometChatTheme({}),this.LISTENER_ID="aiconversationsummary__listener",this.closePanel=()=>{n.CometChatUIEvents.ccHidePanel.next(n.PanelAlignment.messageListFooter)},this.getConversationSummary=e=>(this.theme=e??new n.CometChatTheme({}),new Promise((async(e,t)=>{try{let t,o=this.user?this.user?.getUid():this.group?.getGuid(),r=this.user?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group;this.configuration?.apiConfiguration&&(t=await(this.configuration?.apiConfiguration(this.user,this.group)));return e(await s.CometChat.getConversationSummary(o,r,t||{}))}catch(e){t(e)}}))),this.newDataSource=e,this.configuration=t,setTimeout((()=>{this.addMessageListener()}),1e3)}getId(){return"aiconversationsummary"}loadConversationSummary(){n.CometChatUIEvents.ccShowPanel.next({configuration:this.configuration,message:this.currentMessage,child:g.jsx(Ye,{configuration:this.configuration,getConversationSummaryCallback:this.getConversationSummary,closeCallback:this.closePanel}),position:n.PanelAlignment.messageListFooter})}getAIOptions(e,t,o,r,s){if(this.user=e,this.group=t,r?.parentMessageId)return super.getAIOptions(e,t,o,r,s);{let i;s&&(i={titleColor:this.configuration?.conversationSummaryStyle?.buttonTextColor||s?.listItemTextColor,titleFont:this.configuration?.conversationSummaryStyle?.buttonTextFont||s?.listItemTextFont,background:this.configuration?.conversationSummaryStyle?.buttonBackground||s?.listItemBackground});const a=super.getAIOptions(e,t,o,r,s);let l=new n.CometChatMessageComposerAction({title:n.localize("CONVERSATION_SUMMARY"),onClick:()=>{this.loadConversationSummary()},id:"ai-conversation-summary",iconURL:"",iconTint:"",titleColor:i?.titleColor,titleFont:i?.titleFont,background:i?.background});return a.push(l),a}}addMessageListener(){s.CometChat.getLoggedinUser().then((e=>{e&&(this.loggedInUser=e)})),n.CometChatUIEvents.ccActiveChatChanged.subscribe((e=>{this.currentMessage=e.message,this.user=e.user,this.group=e.group,this.unreadMessageCount=e.unreadMessageCount??0,this.unreadMessageCount>(this.configuration?.unreadMessageThreshold??30)&&this.loadConversationSummary()}))}}class Ze extends F{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new We(e,this.configuration)))}getExtensionId(){return"conversation-summary"}}const Xe=(e,t)=>({display:"flex",overflow:"scroll",width:e?.width||"100%",height:e?.height||"100%",justifyContent:"center",alignItems:"center",minHeight:"50px",background:e?.background||t?.palette.getBackground(),borderRadius:e?.borderRadius||"8px"}),qe={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",overflow:"hidden",height:"100%"},$e=(e,t)=>({replyTextFont:t?.textFont||n.fontHelper(e.typography.caption1),replyTextColor:t?.textColor||e?.palette.getAccent(),replyBackground:t?.textBackground||"inherit",boxShadow:`0px 0px 1px ${e?.palette.getAccent600()}`,background:t?.background||"inherit",border:t?.textBorder||"none",borderRadius:t?.textBorderRadius||"8px",display:"flex",justifyContent:"flex-start"});function et(e,t){return{height:"24px",width:"24px",buttonIconTint:e?.backIconTint||t?.palette.getPrimary()||"",border:"none",borderRadius:"8px",background:"transparent",display:"flex",justifyContent:"flex-start"}}function tt(e,t){return{display:"flex",justifyContent:"space-between",alignItems:"center",font:e?.titleFont||n.fontHelper(t.typography.text2),color:e?.titleColor||t?.palette.getAccent()}}const nt={title:n.localize("SUGGEST_A_REPLY"),getSmartRepliesCallback:void 0,editReplyCallback:void 0,closeCallback:void 0,backCallback:void 0,configuration:void 0},ot=h({tagName:"smart-replies",elementClass:t.SmartReplies,react:r,events:{ccReplyClicked:"cc-reply-clicked",ccCloseClicked:"cc-close-clicked"}}),rt=h({tagName:"cometchat-ai-card",elementClass:t.CometChatAICard,react:r}),st=e=>{const[t,o]=r.useState(n.States.loading),[s,i]=r.useState(null),{theme:a}=r.useContext(T),l=n.localize("SOMETHING_WRONG"),c=n.localize("NO_MESSAGES_FOUND"),C=n.localize("GENERATING_REPLIES");return r.useEffect((()=>{o(n.States.loading),e&&e.getSmartRepliesCallback&&e.getSmartRepliesCallback(a).then((async t=>{t?(o(n.States.loaded),i(await async function(t){return new Promise(((n,o)=>{try{let r=e.configuration?.customView;if(!r){let o=[];Object.keys(t).forEach((e=>{t[e]&&""!==t[e]&&o.push(t[e])}));let r=g.jsxs("div",{style:{display:"flex",flexDirection:"column",padding:"10px",boxSizing:"border-box"},children:[g.jsxs("div",{style:tt(e.configuration?.smartRepliesStyle,a),children:[g.jsx("div",{children:g.jsx(De,{iconURL:X,onClick:()=>e.backCallback?e.backCallback():null,buttonStyle:et(e.configuration?.smartRepliesStyle,a)})}),g.jsx("div",{children:e.title}),g.jsx("div",{style:{flex:.2}})]}),g.jsx(ot,{smartReplyStyle:$e(a,e.configuration?.smartRepliesStyle),replies:o,ccReplyClicked:t=>{e&&e.editReplyCallback&&e.editReplyCallback(t?.detail?.reply),e&&e.closeCallback&&e.closeCallback()},closeIconURL:""},"smart-replies")]});return n(r)}e.configuration?.customView(t,e?.closeCallback,e?.backCallback).then((e=>n(e))).catch((e=>o(e)))}catch(e){o(e)}}))}(t))):o(n.States.empty)})).catch((e=>{o(n.States.error)}))}),[]),g.jsx("div",{className:"slideable-container",style:Xe(e?.configuration?.smartRepliesStyle,a),children:g.jsxs("div",{style:qe,children:[t===n.States.loaded?g.jsx("div",{style:{height:"100%",overflow:"scroll auto"},children:s}):null,t!==n.States.loaded?function(){let o=null;switch(t){case n.States.loading:o=function(){let t=e.configuration?.loadingStateView;return g.jsx(rt,{state:n.States.loading,style:e.configuration?.smartRepliesStyle,loadingIconURL:e.configuration?.loadingIconURL||Pe,loadingStateText:C,children:t?g.jsx("div",{slot:"loadingView",children:g.jsx(t,{})}):null})}();break;case n.States.error:o=function(){let t=e.configuration?.errorStateView;return g.jsx(rt,{state:n.States.error,style:e.configuration?.smartRepliesStyle,errorIconURL:e.configuration?.errorIconURL||Ue,errorStateText:l,children:t?g.jsx("div",{slot:"errorView",children:g.jsx(t,{})}):null})}();break;case n.States.empty:o=function(){let t=e.configuration?.emptyStateView;return g.jsx(rt,{state:n.States.empty,style:e.configuration?.smartRepliesStyle,emptyIconURL:e.configuration?.emptyIconURL||Re,emptyStateText:c,children:t?g.jsx("div",{slot:"errorView",children:g.jsx(t,{})}):null})}();case n.States.loaded:}return o}():null]})})};st.defaultProps=nt;class it extends k{constructor(e,t){super(e),this.theme=new n.CometChatTheme({}),this.childRefCallback=e=>{this.buttonRef=e},this.getSmartReplies=e=>(this.theme=e??new n.CometChatTheme({}),new Promise((async(e,t)=>{try{let t,o=this.user?this.user?.getUid():this.group?.getGuid(),r=this.user?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group;this.configuration?.apiConfiguration&&(t=await(this.configuration?.apiConfiguration(this.user,this.group)));return e(await s.CometChat.getSmartReplies(o,r,t||{}))}catch(e){t(e)}}))),this.newDataSource=e,this.configuration=t,setTimeout((()=>{this.addMessageListener()}),1e3)}getId(){return"aismartreplies"}editReply(e){n.CometChatUIEvents.ccComposeMessage.next(e)}closeIfMessageReceived(e){e?.getReceiverId()===this.loggedInUser?.getUid()&&this.closeCallback&&this.closeCallback()}getAIOptions(e,t,o,r,s){if(this.user=e,this.group=t,r?.parentMessageId)return super.getAIOptions(e,t,o,r,s);{let i;s&&(i={titleColor:this.configuration?.smartRepliesStyle?.buttonTextColor||s?.listItemTextColor,titleFont:this.configuration?.smartRepliesStyle?.buttonTextFont||s?.listItemTextFont,background:this.configuration?.smartRepliesStyle?.buttonBackground||s?.listItemBackground});const a=super.getAIOptions(e,t,o,r,s);let l=new n.CometChatActionsView({title:n.localize("SUGGEST_A_REPLY"),customView:e=>(this.closeCallback=e?.closePopover,g.jsx(st,{title:n.localize("SUGGEST_A_REPLY"),configuration:this.configuration,getSmartRepliesCallback:this.getSmartReplies,editReplyCallback:this.editReply,closeCallback:e.closePopover,backCallback:e.backAction})),id:"ai-smart-replies",iconURL:"",iconTint:"",titleColor:i?.titleColor,titleFont:i?.titleFont,background:i?.background});return a.push(l),a}}addMessageListener(){s.CometChat.getLoggedinUser().then((e=>{e&&(this.loggedInUser=e)})),n.CometChatMessageEvents.onTextMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onCustomMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onMediaMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onFormMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onSchedulerMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onCardMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)})),n.CometChatMessageEvents.onCustomInteractiveMessageReceived.subscribe((e=>{this.closeIfMessageReceived(e)}))}}class at extends F{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new it(e,this.configuration)))}getExtensionId(){return"smart-replies"}}const lt={resizeIconHoverText:n.localize("RESIZE"),sessionID:"",minimizeIconURL:"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M21%203L13.8%2010.2%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M10.2%2019.2V13.8H4.80005%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M13.8%204.8V10.2H19.2%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M10.2%2013.8L3%2021%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",maximizeIconURL:"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M10.2%2013.8L3%2021%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M21%208.4V3H15.6%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M3%2015.6V21H8.4%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M21%203L13.8%2010.2%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",callSettingsBuilder:void 0,ongoingCallStyle:{maxHeight:"100%",maxWidth:"100%",border:"none",borderRadius:"0",background:"grey",minHeight:"400px",minWidth:"400px",minimizeIconTint:"white",maximizeIconTint:"white"},onError:e=>{console.log(e)},callWorkflow:n.CallWorkflow.defaultCalling},ct=e=>{const[o,i]=r.useState(null),a=r.useRef(null),{resizeIconHoverText:l,sessionID:c,minimizeIconURL:C,maximizeIconURL:d,ongoingCallStyle:u,callSettingsBuilder:p,onError:h,callWorkflow:m}=e,A=r.useCallback((e=>{if(e instanceof s.CometChat.CometChatException)h?.(e);else{let t={code:e?.code,name:e?.name,message:e?.message,details:e?.details},n=new s.CometChat.CometChatException(t);h?.(n)}}),[h]),x=r.useCallback((()=>{if(p)return p;{let e=!1;return(new t.CometChatUIKitCalls.CallSettingsBuilder).enableDefaultLayout(!0).setIsAudioOnlyCall(e).setCallListener(new t.CometChatUIKitCalls.OngoingCallListener({onCallEnded:()=>{t.CometChatUIKitCalls.endSession(),m===n.CallWorkflow.defaultCalling&&n.CometChatCallEvents.ccCallEnded.next(null)},onCallEndButtonPressed:()=>{m===n.CallWorkflow.defaultCalling?s.CometChat.endCall(c).then((e=>{t.CometChatUIKitCalls.endSession(),n.CometChatCallEvents.ccCallEnded.next(e)})).catch((e=>{A(e)})):(n.CometChatCallEvents.ccCallEnded.next(null),t.CometChatUIKitCalls.endSession())},onError:e=>{A(e)}})).build()}}),[p,m,A,c]),b=r.useCallback((()=>{if(o){const e=o.getAuthToken();t.CometChatUIKitCalls.generateToken(c,e).then((e=>{t.CometChatUIKitCalls.startSession(e?.token,x(),a.current)}),(e=>{A(e)}))}else s.CometChat.getLoggedinUser().then((e=>{const n=e.getAuthToken();t.CometChatUIKitCalls.generateToken(c,n).then((e=>{t.CometChatUIKitCalls.startSession(e?.token,x(),a.current)}),(e=>{A(e)}))}))}),[c,x,o,A]);return function(e,t,n){r.useEffect((()=>{hn.getLoggedinUser().then((t=>{t&&e(t)}))}),[e]),r.useEffect((()=>{""!==t&&n()}),[t,n])}(i,c,b),""!==c?g.jsx("cometchat-callscreen-wrapper",{callscreenStyle:JSON.stringify(u),resizeIconHoverText:l,minimizeIconURL:C,maximizeIconURL:d,sessionID:c,children:g.jsx("div",{id:"cc-callscreen_ref",style:{width:"100%",height:"100%",inset:"0"},className:"cc-callscreen__view",ref:a})}):g.jsx(g.Fragment,{})};ct.defaultProps=lt;const Ct=e=>({height:e?.height,width:e?.width,background:e?.background,border:e?.border,borderRadius:e?.borderRadius,display:"flex",justifyContent:"center"}),gt={width:"360px",height:"581px",titleTextFont:"700 22px Inter",titleTextColor:"RGB(20, 20, 20)",subtitleTextFont:"400 15px Inter",subtitleTextColor:"RGBA(20, 20, 20, 0.58)",borderRadius:"8px"},dt={height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},ut=e=>new t.CallButtonsStyle({width:"100%",height:"100%",background:"transparent",border:"none",borderRadius:"0",voiceCallIconTint:e.palette.getPrimary(),videoCallIconTint:e.palette.getPrimary(),voiceCallIconTextFont:n.fontHelper(e.typography.caption1),videoCallIconTextFont:n.fontHelper(e.typography.caption1),voiceCallIconTextColor:e.palette.getPrimary(),videoCallIconTextColor:e.palette.getPrimary(),buttonPadding:"8px 32px",buttonBackground:e.palette.getAccent100(),buttonBorder:"0",buttonBorderRadius:"8px"}),pt=e=>new o.CallscreenStyle({maxHeight:"100%",maxWidth:"100%",border:"none",borderRadius:"0",background:"#1c2226",minHeight:"400px",minWidth:"400px",minimizeIconTint:e.palette.getAccent900(),maximizeIconTint:e.palette.getAccent900()});const ht=e=>({height:e?.height,width:e?.width,background:e?.background,border:e?.border,borderRadius:e?.borderRadius}),mt=e=>({textFont:e?.subtitleTextFont,textColor:e?.subtitleTextColor}),At={height:"fit-content",width:"fit-content",buttonTextFont:"400 12px Inter",buttonTextColor:"RGBA(20, 20, 20, 0.58)",borderRadius:"8px",border:"none",buttonIconTint:"white",background:"",iconBackground:"red"},xt={height:"100%",width:"100%",border:"inherite",borderRadius:"inherite",background:"transparent",titleFont:"700 22px Inter",titleColor:"black"},bt=e=>new o.AvatarStyle({borderRadius:"50%",width:"180px",height:"180px",border:`1px solid  ${e.palette.getAccent100()}`,backgroundColor:e.palette.getAccent700(),nameTextColor:e.palette.getAccent900(),backgroundSize:"cover",nameTextFont:n.fontHelper(e.typography.subtitle1)}),yt=e=>new t.OutgoingCallStyle({width:"100%",height:"100%",background:e.palette.getBackground(),border:"none",borderRadius:"0",titleTextFont:n.fontHelper(e.typography.title1),titleTextColor:e.palette.getAccent(),subtitleTextFont:n.fontHelper(e.typography.subtitle1),subtitleTextColor:e.palette.getAccent600(),declineButtonTextFont:n.fontHelper(e.typography.caption1),declineButtonTextColor:e.palette.getAccent600(),declineButtonIconTint:e.palette.getAccent("dark"),declineButtonIconBackground:e.palette.getError()});var ft="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";const wt=e=>{const{call:i,disableSoundForCalls:a=!1,customSoundForCalls:l="",declineButtonText:c=n.localize("CANCEL"),declineButtonIconURL:C=ft,customView:d=null,onError:u=(e=>{console.log(e)}),avatarStyle:p=new o.AvatarStyle({borderRadius:"50%",width:"180px",height:"180px"}),outgoingCallStyle:h=new t.OutgoingCallStyle({width:"100%",height:"100%",titleTextFont:"700 22px Inter",titleTextColor:"RGB(20, 20, 20)",subtitleTextFont:"400 15px Inter",subtitleTextColor:"RGBA(20, 20, 20, 0.58)",declineButtonTextFont:"400 12px Inter",declineButtonTextColor:"RGBA(20, 20, 20, 0.58)",declineButtonIconTint:"white",declineButtonIconBackground:"red"}),onCloseClicked:m=(()=>{})}=e,{theme:A}=r.useContext(T),x=n.IconButtonAlignment.top,b=r.useRef(p),y=r.useRef(h),f=r.useRef(At),w=r.useRef(null),D=r.useRef(null);w.current=i,b.current={...bt(A),...b?.current},y.current={...yt(A),...y?.current},f.current=(e=>({height:"fit-content",width:"fit-content",buttonTextFont:e?.declineButtonTextFont,buttonTextColor:e?.declineButtonTextColor,borderRadius:"8px",border:"none",buttonIconTint:e?.declineButtonIconTint,background:"",iconBackground:e?.declineButtonIconBackground}))(y?.current),xt.titleColor=y?.current?.titleTextColor,xt.titleFont=y?.current?.titleTextFont;let E=n.localize("CALLING");const v=r.useCallback((e=>{if(e instanceof s.CometChat.CometChatException)u(e);else{let t={code:e?.code,name:e?.name,message:e?.message,details:e?.details},n=new s.CometChat.CometChatException(t);u(n)}}),[u]),S=r.useCallback((()=>{try{t.CometChatSoundManager.pause(),m&&m()}catch(e){v(e)}}),[m,v]),I=r.useCallback((()=>{try{a||(l?t.CometChatSoundManager.play(t.CometChatSoundManager.Sound.incomingCall,l):t.CometChatSoundManager.play(t.CometChatSoundManager.Sound.incomingCall))}catch(e){v(e)}}),[a,l,v]);return function(e,n,o,s){r.useEffect((()=>()=>{t.CometChatSoundManager.pause()}),[]),r.useEffect((()=>(setTimeout((()=>{e()})),()=>{t.CometChatSoundManager.pause()})),[n,e]),r.useEffect((()=>{const e=s.current;if(e)return e.addEventListener("cc-button-clicked",o),()=>{e.removeEventListener("cc-button-clicked",o)}}),[o,s])}(I,i,S,D),g.jsx(g.Fragment,{children:g.jsx("div",{className:"cc-outgoingcall__wrapper",style:ht(y?.current),children:d?g.jsx("div",{className:"cc-outgoingcall__custom-view",children:d}):w.current?g.jsxs("cometchat-card",{title:w.current?.getReceiver()?.getName(),cardStyle:JSON.stringify(xt),avatarName:w.current?.getReceiver()?.getName(),avatarURL:w.current?.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user?w.current?.getReceiver()?.getAvatar():w.current?.getReceiver()?.getIcon(),avatarStyle:JSON.stringify(b?.current),children:[g.jsx("cometchat-label",{slot:"subtitleView",labelStyle:JSON.stringify(mt(y?.current)),text:E,children:" "}),g.jsx("div",{slot:"bottomView",children:g.jsx("cometchat-icon-button",{ref:D,text:c,iconURL:C,alignment:x,buttonStyle:JSON.stringify(f?.current)})})]}):null})})};const Dt={user:void 0,group:void 0,voiceCallIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FCall%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FCall%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22streamline-icon-phone-actions-voice-mail%4024x24%22%20transform%3D%22translate%283.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0.0679824131%2C6.18726899%20L1.15322891%2C7.27252708%20C1.71745406%2C7.8368527%202.48276427%2C8.15389548%203.28076591%2C8.15389548%20C4.07876755%2C8.15389548%204.84407776%2C7.8368527%205.40830291%2C7.27252708%20L7.00415829%2C5.67746515%20C7.28631808%2C5.39534955%207.44483777%2C5.01269036%207.44483777%2C4.61368527%20C7.44483777%2C4.21468018%207.28631808%2C3.83202099%207.00415829%2C3.5499054%20L3.90079098%2C0.446504908%20C3.59388219%2C0.136593264%203.16773676%2C-0.025114152%202.73249452%2C0.00317689658%20C2.29725227%2C0.0314679452%201.89562592%2C0.246981102%201.63141818%2C0.594015717%20C-1.61783738%2C5.00961401%200.349222543%2C9.660257%204.34493966%2C13.6552063%20C8.34065677%2C17.6501557%2012.9904395%2C19.6180471%2017.4059906%2C16.3687568%20C17.7530215%2C16.1045463%2017.9685324%2C15.7029156%2017.9968231%2C15.2676687%20C18.0251139%2C14.8324218%2017.8634082%2C14.4062718%2017.5534999%2C14.0993598%20L14.450943%2C10.9959593%20C14.1688305%2C10.7137965%2013.7861754%2C10.5552751%2013.3871745%2C10.5552751%20C12.9881737%2C10.5552751%2012.6055186%2C10.7137965%2012.323406%2C10.9959593%20L10.7275507%2C12.5918317%20C10.1632311%2C13.1560629%209.8461917%2C13.9213813%209.8461917%2C14.7193915%20C9.8461917%2C15.5174016%2010.1632311%2C16.28272%2010.7275507%2C16.8469512%20L11.8249545%2C17.9443668%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",voiceCallIconText:n.localize("VOICE_CALL"),voiceCallIconHoverText:n.localize("VOICE_CALL"),videoCallIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FVideo%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FVideo%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%206.500000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M1.79471961%2C-7.25088203e-17%20L11.9552804%2C7.25088203e-17%20C12.5793435%2C-4.21297127e-17%2012.8056439%2C0.0649779267%2013.033792%2C0.186992889%20C13.2619401%2C0.309007852%2013.4409921%2C0.488059851%2013.5630071%2C0.716207995%20C13.6850221%2C0.94435614%2013.75%2C1.1706565%2013.75%2C1.79471961%20L13.75%2C9.20528039%20C13.75%2C9.8293435%2013.6850221%2C10.0556439%2013.5630071%2C10.283792%20C13.4409921%2C10.5119401%2013.2619401%2C10.6909921%2013.033792%2C10.8130071%20C12.8056439%2C10.9350221%2012.5793435%2C11%2011.9552804%2C11%20L1.79471961%2C11%20C1.1706565%2C11%200.94435614%2C10.9350221%200.716207995%2C10.8130071%20C0.488059851%2C10.6909921%200.309007852%2C10.5119401%200.186992889%2C10.283792%20C0.0649779267%2C10.0556439%209.39485689e-17%2C9.8293435%20-1.61693481e-16%2C9.20528039%20L4.83392135e-17%2C1.79471961%20C-2.80864751e-17%2C1.1706565%200.0649779267%2C0.94435614%200.186992889%2C0.716207995%20C0.309007852%2C0.488059851%200.488059851%2C0.309007852%200.716207995%2C0.186992889%20C0.94435614%2C0.0649779267%201.1706565%2C4.21297127e-17%201.79471961%2C-7.25088203e-17%20Z%22%20id%3D%22Rectangle%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.2599167%2C8.63041667%20L19.6304167%2C9.81475%20C19.8435282%2C9.92114296%2020.096526%2C9.90964554%2020.299109%2C9.78436146%20C20.5016921%2C9.65907738%2020.625%2C9.43785985%2020.625%2C9.19966667%20L20.625%2C1.80033333%20C20.625%2C1.56214015%2020.5016921%2C1.34092262%2020.299109%2C1.21563854%20C20.096526%2C1.09035446%2019.8435282%2C1.07885704%2019.6304167%2C1.18525%20L17.2599167%2C2.36958333%20C16.7940465%2C2.60259636%2016.4998441%2C3.07885646%2016.4999999%2C3.59975%20L16.4999999%2C7.40025%20C16.4998441%2C7.92114354%2016.7940465%2C8.39740364%2017.2599167%2C8.63041667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",videoCallIconText:n.localize("VIDEO_CALL"),videoCallIconHoverText:n.localize("VIDEO_CALL"),callButtonsStyle:{width:"100%",height:"100%",border:"none",borderRadius:"0",background:"transparent"},onVoiceCallClick:void 0,onVideoCallClick:void 0,onError:e=>{console.log(e)}},Et=e=>{const{user:o,group:i,voiceCallIconURL:a,voiceCallIconText:l,voiceCallIconHoverText:c,videoCallIconURL:C,videoCallIconText:d,videoCallIconHoverText:u,callButtonsStyle:p,onVoiceCallClick:h,onVideoCallClick:m,onError:A}=e,{theme:x}=r.useContext(T),[b,y]=r.useState(null),f=r.useRef(null);f.current={...ut(x),...p};const w=r.useRef(null);var D;w.current=(D=f?.current,{buttonIconTint:D?.voiceCallIconTint??"RGB(51, 153, 255)",buttonTextFont:D?.voiceCallIconTextFont??"400 12px Inter",buttonTextColor:D?.voiceCallIconTextColor??"RGB(51, 153, 255)",padding:D?.buttonPadding??"8px 32px",background:D?.buttonBackground??"transparent",border:D?.border??"none",borderRadius:D?.buttonBorderRadius??"0",...dt});const E=r.useRef(null);E.current=(e=>({buttonIconTint:e?.videoCallIconTint??"RGB(51, 153, 255)",buttonTextFont:e?.videoCallIconTextFont??"400 12px Inter",buttonTextColor:e?.videoCallIconTextColor??"RGB(51, 153, 255)",padding:e?.buttonPadding??"8px 32px",background:e?.buttonBackground??"transparent",border:e?.border??"none",borderRadius:e?.buttonBorderRadius??"0",...dt}))(f?.current);const[v,S]=r.useState(o),[I,F]=r.useState(i),[k,M]=r.useState(!1),[B,L]=r.useState(!1),[R,U]=r.useState(!1),P=r.useRef(null),O=r.useRef(null),j=r.useRef(null),G=r.useRef(""),V=Ce(h),H=Ce(m);let Q="callbuttons_"+(new Date).getTime();const N=r.useCallback((e=>{if(e instanceof s.CometChat.CometChatException)A?.(e);else{let t={code:e?.code,name:e?.name,message:e?.message,details:e?.details},n=new s.CometChat.CometChatException(t);A?.(n)}}),[A]),K=r.useCallback((()=>{try{const e=n.CometChatCallEvents.ccCallRejected.subscribe((()=>{U(!1)})),t=n.CometChatCallEvents.ccOutgoingCall.subscribe((()=>{U(!0)})),o=n.CometChatCallEvents.ccCallEnded.subscribe((()=>{U(!1),j.current=null,G.current="",M(!1),L(!1)}));return()=>{try{o?.unsubscribe(),e?.unsubscribe(),t?.unsubscribe()}catch(e){N(e)}}}catch(e){N(e)}}),[N]),z=r.useCallback((()=>{try{s.CometChat.addCallListener(Q,new s.CometChat.CallListener({onIncomingCallReceived:()=>{U(!0)},onIncomingCallCancelled:()=>{U(!1)},onOutgoingCallRejected:()=>{L(!1),U(!1),j.current=null,G.current=""},onOutgoingCallAccepted:e=>{L(!1),M(!0),U(!0),j.current=e,G.current=e.getSessionId()}}))}catch(e){N(e)}}),[N,Q]),_=r.useCallback((()=>{try{s.CometChat.removeCallListener(Q)}catch(e){N(e)}}),[N,Q]),J=()=>{U(!1),j.current=null,G.current="",M(!1),L(!1)};const Y=r.useCallback((e=>{try{const t=v?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group,o=v?v?.getUid():I?.getGuid(),r=new s.CometChat.Call(o,e,t);s.CometChat.initiateCall(r).then((e=>{j.current=e,L(!0),n.CometChatCallEvents.ccOutgoingCall.next(e)}),(e=>{N(e)}))}catch(e){N(e)}}),[v,I,N]),W=r.useCallback((()=>{try{v&&Y(n.CometChatUIKitConstants.MessageTypes.audio)}catch(e){N(e)}}),[v,Y,N]),Z=r.useCallback((()=>{try{const e=v?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group,o=v?v?.getUid():I?.getGuid(),r=G.current,i={sessionID:r,sessionId:r,callType:n.CometChatUIKitConstants.MessageTypes.video},a=n.CometChatUIKitConstants.calls.meeting,l=`group_${r}`,c=new s.CometChat.CustomMessage(o,e,a,i);c.setSender(b),c.setConversationId(l),c.sentAt=t.CometChatUIKitUtility.getUnixTimestamp(),c.muid=t.CometChatUIKitUtility.ID(),n.CometChatMessageEvents.ccMessageSent.next({message:c,status:n.MessageStatus.inprogress}),s.CometChat.sendCustomMessage(c).then((e=>{n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success})}),(e=>{N(e)}))}catch(e){N(e)}}),[v,I,b,N]),X=r.useCallback((()=>{try{v&&Y(n.CometChatUIKitConstants.MessageTypes.video),I&&(G.current=I?.getGuid(),Z(),M(!0))}catch(e){N(e)}}),[v,I,Z,N,Y]),q=r.useCallback((()=>{const e=j.current;if(e)try{t.CometChatSoundManager.pause(),s.CometChat.rejectCall(e.getSessionId(),n.CometChatUIKitConstants.calls.cancelled).then((e=>{U(!1),L(!1),n.CometChatCallEvents.ccCallRejected.next(e),j.current=null}),(e=>{N(e)})),L(!1)}catch(e){N(e)}}),[N]),$=r.useCallback((()=>{if(w.current)return w.current.buttonIconTint=((e,t,n)=>e?n.palette.getAccent600():t?.voiceCallIconTint)(R,f.current??void 0,x),w.current}),[R,x]),ee=r.useCallback((()=>{if(E.current)return E.current.buttonIconTint=((e,t,n)=>e?n.palette.getAccent600():t?.videoCallIconTint)(R,f.current??void 0,x),E.current}),[R,x]);!function(e,t,n,o,i,a,l,c,C,g,d,u,p,h,m,A,x){r.useEffect((()=>{s.CometChat.getLoggedinUser().then((e=>{e&&t(e)}),(e=>{a(e)}))}),[t,a]),r.useEffect((()=>{let t;return e&&(t=i(),l()),()=>{t?.(),c()}}),[e,l,c,i]),r.useEffect((()=>{n&&(C(n),g(null))}),[n,C,g]),r.useEffect((()=>{o&&(C(null),g(o))}),[o,C,g]),r.useEffect((()=>{const e=d.current,t=u.current;if(!e&&!t)return;const n=()=>{const e=A.current;e?e():p()},o=()=>{const e=x.current;e?e():h()};return m?(e?.removeEventListener("cc-button-clicked",n),t?.removeEventListener("cc-button-clicked",o)):(e?.addEventListener("cc-button-clicked",n),t?.addEventListener("cc-button-clicked",o)),()=>{e?.removeEventListener("cc-button-clicked",n),t?.removeEventListener("cc-button-clicked",o)}}),[m,p,h,A,x,d,u])}(b,y,o,i,K,N,z,_,S,F,P,O,W,X,R,V,H);const te=R?{disabled:!0}:{};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"cc-call-buttons__wrapper",style:Ct(f.current),children:g.jsxs("div",{className:"cc-call-buttons",style:{display:"flex",gap:"16px"},children:[v?g.jsx("cometchat-button",{...te,buttonStyle:JSON.stringify($()),text:l,hoverText:c,iconURL:a,ref:P}):null,v||I?g.jsx("cometchat-button",{...te,buttonStyle:JSON.stringify(ee()),text:d,hoverText:u,iconURL:C,ref:O}):null]})}),k&&null!=G.current?g.jsx(ct,{ongoingCallStyle:pt(x),sessionID:G.current,callSettingsBuilder:function(){let e=j.current?.getType()===n.CometChatUIKitConstants.MessageTypes.audio;const o=G.current;return(new t.CometChatUIKitCalls.CallSettingsBuilder).enableDefaultLayout(!0).setIsAudioOnlyCall(e).setCallListener(new t.CometChatUIKitCalls.OngoingCallListener({onCallEnded:()=>{t.CometChatUIKitCalls.endSession(),J()},onCallEndButtonPressed:()=>{J(),j.current?.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user&&s.CometChat.endCall(o).then((e=>{t.CometChatUIKitCalls.endSession(),n.CometChatCallEvents.ccCallEnded.next(e)})).catch((e=>{N(e)}))},onError:e=>{N(e)}})).build()}()}):null,B&&j.current?g.jsx("cometchat-backdrop",{children:g.jsx(wt,{onCloseClicked:q,outgoingCallStyle:gt,call:j.current})}):null]})};Et.defaultProps=Dt;const vt=Object.freeze({meeting:"meeting",ongoing:"ongoing",ended:"ended",initiated:"initiated",cancelled:"cancelled",rejected:"rejected",unanswered:"unanswered"}),St=h({tagName:"cometchat-icon-button",elementClass:o.CometChatIconButton,react:r});class It extends k{constructor(e){super(e),this.loggedInUser=null,this.addLoginListener(),this.getLoggedInUser()}addLoginListener(){s.CometChat.addLoginListener("login_listener",new s.CometChat.LoginListener({logoutSuccess:()=>{try{let e=s.CometChat.getActiveCall();e&&s.CometChat.endCall(e.getSessionId())}catch(e){console.log("error in endCall on logout",e)}}}))}async getLoggedInUser(){this.loggedInUser=await s.CometChat.getLoggedinUser()}getAllMessageTypes(){const e=super.getAllMessageTypes();return e.includes(vt.meeting)||e.push(vt.meeting),e.includes(n.CometChatUIKitConstants.MessageTypes.audio)||e.push(n.CometChatUIKitConstants.MessageTypes.audio),e.includes(n.CometChatUIKitConstants.MessageTypes.video)||e.push(n.CometChatUIKitConstants.MessageTypes.video),e}getId(){return"calling"}getAllMessageCategories(){const e=super.getAllMessageCategories();return e.includes(n.CometChatUIKitConstants.MessageCategory.call)||e.push(n.CometChatUIKitConstants.MessageCategory.call),e.includes(n.CometChatUIKitConstants.MessageCategory.custom)||e.push(n.CometChatUIKitConstants.MessageCategory.custom),e}checkIfTemplateTypeExist(e,t){return e.some((e=>e.type===t))}checkIfTemplateCategoryExist(e,t){return e.some((e=>e.category===t))}getAllMessageTemplates(e,t){this.theme=e;const o=super.getAllMessageTemplates(e,t);return this.checkIfTemplateTypeExist(o,vt.meeting)||o.push(this.getDirectCallTemplate(this.theme)),this.checkIfTemplateCategoryExist(o,n.CometChatUIKitConstants.MessageCategory.call)||o.push(...this.getDefaultCallTemplate(this.theme)),o}getDirectCallTemplate(e){return new n.CometChatMessageTemplate({type:vt.meeting,category:n.CometChatUIKitConstants.MessageCategory.custom,contentView:(t,n)=>this.getDirectCallMessageBubble(t,n,e),options:(e,t,n,o)=>I.getDataSource().getCommonOptions(e,t,n,o),bottomView:(e,t)=>super.getBottomView(e,t)})}getDefaultCallTemplate(e){return[new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.audio,category:n.CometChatUIKitConstants.MessageCategory.call,contentView:(t,n)=>this.getDefaultAudioCallMessageBubble(t,n,e),bottomView:(e,t)=>super.getBottomView(e,t)}),new n.CometChatMessageTemplate({type:n.CometChatUIKitConstants.MessageTypes.video,category:n.CometChatUIKitConstants.MessageCategory.call,contentView:(t,n)=>this.getDefaultVideoCallMessageBubble(t,n,e),bottomView:(e,t)=>super.getBottomView(e,t)})]}getCallBubbleStyle(e,t){return e===n.MessageBubbleAlignment.left?{titleFont:n.fontHelper(t.typography.text2),titleColor:t.palette.getAccent(),iconTint:t.palette.getPrimary(),buttonTextFont:n.fontHelper(t.typography.text2),buttonTextColor:t.palette.getAccent("dark"),buttonBackground:t.palette.getPrimary(),width:"240px",borderRadius:"12px"}:{titleFont:n.fontHelper(t.typography.text2),titleColor:t.palette.getAccent("dark"),iconTint:t.palette.getAccent("dark"),buttonTextFont:n.fontHelper(t.typography.text2),buttonTextColor:t.palette.getPrimary(),buttonBackground:t.palette.getAccent("dark"),width:"240px",background:t.palette.getPrimary(),borderRadius:"12px"}}getSessionId(e){let t=e.getData();return t?.customData?.sessionID}getCallBubbleTitle(e){return e.getSender()&&e.getSender().getUid()!==this.loggedInUser?.getUid()?`${e.getSender().getName()}  ${n.localize("INITIATED_GROUP_CALL")}`:n.localize("YOU_INITIATED_GROUP_CALL")}getDirectCallMessageBubble(e,t,s){let i=n.DocumentIconAlignment.left,a=this.getCallBubbleStyle(t,s),l=this.getSessionId(e),c=this.getCallBubbleTitle(e),C=n.localize("JOIN");const d=h({tagName:"cometchat-document-bubble",elementClass:o.CometChatDocumentBubble,react:r});return g.jsx(d,{hideSeparator:!0,iconAlignment:i,documentStyle:a,URL:l,iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FVideo%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FVideo%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%206.500000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M1.79471961%2C-7.25088203e-17%20L11.9552804%2C7.25088203e-17%20C12.5793435%2C-4.21297127e-17%2012.8056439%2C0.0649779267%2013.033792%2C0.186992889%20C13.2619401%2C0.309007852%2013.4409921%2C0.488059851%2013.5630071%2C0.716207995%20C13.6850221%2C0.94435614%2013.75%2C1.1706565%2013.75%2C1.79471961%20L13.75%2C9.20528039%20C13.75%2C9.8293435%2013.6850221%2C10.0556439%2013.5630071%2C10.283792%20C13.4409921%2C10.5119401%2013.2619401%2C10.6909921%2013.033792%2C10.8130071%20C12.8056439%2C10.9350221%2012.5793435%2C11%2011.9552804%2C11%20L1.79471961%2C11%20C1.1706565%2C11%200.94435614%2C10.9350221%200.716207995%2C10.8130071%20C0.488059851%2C10.6909921%200.309007852%2C10.5119401%200.186992889%2C10.283792%20C0.0649779267%2C10.0556439%209.39485689e-17%2C9.8293435%20-1.61693481e-16%2C9.20528039%20L4.83392135e-17%2C1.79471961%20C-2.80864751e-17%2C1.1706565%200.0649779267%2C0.94435614%200.186992889%2C0.716207995%20C0.309007852%2C0.488059851%200.488059851%2C0.309007852%200.716207995%2C0.186992889%20C0.94435614%2C0.0649779267%201.1706565%2C4.21297127e-17%201.79471961%2C-7.25088203e-17%20Z%22%20id%3D%22Rectangle%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.2599167%2C8.63041667%20L19.6304167%2C9.81475%20C19.8435282%2C9.92114296%2020.096526%2C9.90964554%2020.299109%2C9.78436146%20C20.5016921%2C9.65907738%2020.625%2C9.43785985%2020.625%2C9.19966667%20L20.625%2C1.80033333%20C20.625%2C1.56214015%2020.5016921%2C1.34092262%2020.299109%2C1.21563854%20C20.096526%2C1.09035446%2019.8435282%2C1.07885704%2019.6304167%2C1.18525%20L17.2599167%2C2.36958333%20C16.7940465%2C2.60259636%2016.4998441%2C3.07885646%2016.4999999%2C3.59975%20L16.4999999%2C7.40025%20C16.4998441%2C7.92114354%2016.7940465%2C8.39740364%2017.2599167%2C8.63041667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",title:c,buttonText:C,ccClicked:()=>{this.startDirectCall(l,this.theme||s)}})}startDirectCall(e,t){const r=new o.CallscreenStyle({maxHeight:"100%",maxWidth:"100%",border:"none",borderRadius:"0",background:"#1c2226",minHeight:"400px",minWidth:"400px",minimizeIconTint:t.palette.getAccent900(),maximizeIconTint:t.palette.getAccent900()}),s=g.jsx(ct,{ongoingCallStyle:r,sessionID:e});n.CometChatUIEvents.ccShowOngoingCall.next({child:s})}callStatusStyle(e,o){return this.loggedInUser?{buttonTextFont:n.fontHelper(o.typography.subtitle2),buttonTextColor:t.CallingDetailsUtils.isMissedCall(e,this.loggedInUser)?o.palette.getError():o.palette.getAccent600(),borderRadius:"10px",border:t.CallingDetailsUtils.isMissedCall(e,this.loggedInUser)?"1px solid RGBA(255, 59, 48, 0.2)":`1px solid ${o.palette.getAccent100()}`,buttonIconTint:t.CallingDetailsUtils.isMissedCall(e,this.loggedInUser)?o.palette.getError():o.palette.getAccent600(),background:"transparent",iconBackground:"transparent",padding:"2px 12px 2px 0",gap:"0",height:"25px",justifyContent:"center"}:{}}getCallActionMessage(e){return t.CallingDetailsUtils.getCallStatus(e,this.loggedInUser)}getDefaultAudioCallMessageBubble(e,t,n){const o=this.callStatusStyle(e,n),r=this.getCallActionMessage(e);return g.jsx(St,{disabled:!0,iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2216px%22%20height%3D%2216px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FCall%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FCall%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22streamline-icon-phone-actions-voice-mail%4024x24%22%20transform%3D%22translate%283.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0.0679824131%2C6.18726899%20L1.15322891%2C7.27252708%20C1.71745406%2C7.8368527%202.48276427%2C8.15389548%203.28076591%2C8.15389548%20C4.07876755%2C8.15389548%204.84407776%2C7.8368527%205.40830291%2C7.27252708%20L7.00415829%2C5.67746515%20C7.28631808%2C5.39534955%207.44483777%2C5.01269036%207.44483777%2C4.61368527%20C7.44483777%2C4.21468018%207.28631808%2C3.83202099%207.00415829%2C3.5499054%20L3.90079098%2C0.446504908%20C3.59388219%2C0.136593264%203.16773676%2C-0.025114152%202.73249452%2C0.00317689658%20C2.29725227%2C0.0314679452%201.89562592%2C0.246981102%201.63141818%2C0.594015717%20C-1.61783738%2C5.00961401%200.349222543%2C9.660257%204.34493966%2C13.6552063%20C8.34065677%2C17.6501557%2012.9904395%2C19.6180471%2017.4059906%2C16.3687568%20C17.7530215%2C16.1045463%2017.9685324%2C15.7029156%2017.9968231%2C15.2676687%20C18.0251139%2C14.8324218%2017.8634082%2C14.4062718%2017.5534999%2C14.0993598%20L14.450943%2C10.9959593%20C14.1688305%2C10.7137965%2013.7861754%2C10.5552751%2013.3871745%2C10.5552751%20C12.9881737%2C10.5552751%2012.6055186%2C10.7137965%2012.323406%2C10.9959593%20L10.7275507%2C12.5918317%20C10.1632311%2C13.1560629%209.8461917%2C13.9213813%209.8461917%2C14.7193915%20C9.8461917%2C15.5174016%2010.1632311%2C16.28272%2010.7275507%2C16.8469512%20L11.8249545%2C17.9443668%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",buttonStyle:o,text:r})}getDefaultVideoCallMessageBubble(e,t,n){const o=this.callStatusStyle(e,n),r=this.getCallActionMessage(e);return g.jsx(St,{disabled:!0,iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2216px%22%20height%3D%2216px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FVideo%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FVideo%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%206.500000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M1.79471961%2C-7.25088203e-17%20L11.9552804%2C7.25088203e-17%20C12.5793435%2C-4.21297127e-17%2012.8056439%2C0.0649779267%2013.033792%2C0.186992889%20C13.2619401%2C0.309007852%2013.4409921%2C0.488059851%2013.5630071%2C0.716207995%20C13.6850221%2C0.94435614%2013.75%2C1.1706565%2013.75%2C1.79471961%20L13.75%2C9.20528039%20C13.75%2C9.8293435%2013.6850221%2C10.0556439%2013.5630071%2C10.283792%20C13.4409921%2C10.5119401%2013.2619401%2C10.6909921%2013.033792%2C10.8130071%20C12.8056439%2C10.9350221%2012.5793435%2C11%2011.9552804%2C11%20L1.79471961%2C11%20C1.1706565%2C11%200.94435614%2C10.9350221%200.716207995%2C10.8130071%20C0.488059851%2C10.6909921%200.309007852%2C10.5119401%200.186992889%2C10.283792%20C0.0649779267%2C10.0556439%209.39485689e-17%2C9.8293435%20-1.61693481e-16%2C9.20528039%20L4.83392135e-17%2C1.79471961%20C-2.80864751e-17%2C1.1706565%200.0649779267%2C0.94435614%200.186992889%2C0.716207995%20C0.309007852%2C0.488059851%200.488059851%2C0.309007852%200.716207995%2C0.186992889%20C0.94435614%2C0.0649779267%201.1706565%2C4.21297127e-17%201.79471961%2C-7.25088203e-17%20Z%22%20id%3D%22Rectangle%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.2599167%2C8.63041667%20L19.6304167%2C9.81475%20C19.8435282%2C9.92114296%2020.096526%2C9.90964554%2020.299109%2C9.78436146%20C20.5016921%2C9.65907738%2020.625%2C9.43785985%2020.625%2C9.19966667%20L20.625%2C1.80033333%20C20.625%2C1.56214015%2020.5016921%2C1.34092262%2020.299109%2C1.21563854%20C20.096526%2C1.09035446%2019.8435282%2C1.07885704%2019.6304167%2C1.18525%20L17.2599167%2C2.36958333%20C16.7940465%2C2.60259636%2016.4998441%2C3.07885646%2016.4999999%2C3.59975%20L16.4999999%2C7.40025%20C16.4998441%2C7.92114354%2016.7940465%2C8.39740364%2017.2599167%2C8.63041667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",buttonStyle:o,text:r})}getLastConversationMessage(e,t,o){let r="";if(e.getLastMessage()&&e.getLastMessage().category===n.CometChatUIKitConstants.MessageCategory.call){let o=e.getLastMessage();switch(o.getStatus()){case vt.initiated:r=n.localize("CALL_INITIATED"),o.getType()===n.CometChatUIKitConstants.MessageTypes.audio?o.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user?r=o.getSender().getUid()===t?.getUid()?n.localize("OUTGOING_AUDIO_CALL"):n.localize("INCOMING_AUDIO_CALL"):o.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group&&(o.getAction()===vt.initiated?r=o.getSender().getUid()===t?.getUid()?n.localize("OUTGOING_AUDIO_CALL"):n.localize("INCOMING_AUDIO_CALL"):o.getAction()===vt.rejected&&(r=o.getSender().getUid()===t?.getUid()?n.localize("CALL_REJECTED"):`${o.getSender().getName()} ${n.localize("REJECTED_CALL")}`)):o.getType()===n.CometChatUIKitConstants.MessageTypes.video&&(o.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user?r=o.getSender().getUid()===t?.getUid()?n.localize("OUTGOING_VIDEO_CALL"):n.localize("INCOMING_VIDEO_CALL"):o.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group&&(o.getAction()===vt.initiated?r=o.getSender().getUid()===t?.getUid()?n.localize("OUTGOING_VIDEO_CALL"):n.localize("INCOMING_VIDEO_CALL"):o.getAction()===vt.rejected&&(r=o.getSender().getUid()===t?.getUid()?n.localize("CALL_REJECTED"):`${o.getSender().getName()} ${n.localize("REJECTED_CALL")}`)));break;case vt.ongoing:o.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user?r=n.localize("CALL_ACCEPTED"):o.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group&&(o.getAction()===vt.ongoing?r=o.getSender().getUid()===t?.getUid()?n.localize("CALL_ACCEPTED"):`${o.getSender().getName()} ${n.localize("JOINED")}`:o.getAction()===vt.rejected?r=o.getSender().getUid()===t?.getUid()?n.localize("CALL_REJECTED"):`${o.getSender().getName()}  ${n.localize("REJECTED_CALL")}`:"left"===o.getAction()&&(r=o.getSender().getUid()===t?.getUid()?`${n.localize("YOU")} ${n.localize("LEFT_THE_CALL")}`:`${o.getSender().getName()} ${n.localize("LEFT_THE_CALL")}`));break;case vt.unanswered:r=n.localize("CALL_UNANSWERED"),o.getType()!==n.CometChatUIKitConstants.MessageTypes.audio||o.getReceiverType()!==n.CometChatUIKitConstants.MessageReceiverType.user&&o.getReceiverType()!==n.CometChatUIKitConstants.MessageReceiverType.group?o.getType()!==n.CometChatUIKitConstants.MessageTypes.video||o.getReceiverType()!==n.CometChatUIKitConstants.MessageReceiverType.user&&o.getReceiverType()!==n.CometChatUIKitConstants.MessageReceiverType.group||(r=o.getSender().getUid()===t?.getUid()?n.localize("UNANSWERED_VIDEO_CALL"):n.localize("MISSED_VIDEO_CALL")):r=o.getSender().getUid()===t?.getUid()?n.localize("UNANSWERED_AUDIO_CALL"):n.localize("MISSED_AUDIO_CALL");break;case vt.rejected:r=n.localize("CALL_REJECTED");break;case s.CometChat.CALL_STATUS.ENDED:r=n.localize("CALL_ENDED");break;case s.CometChat.CALL_STATUS.CANCELLED:r=n.localize("CALL_CANCELLED");break;case s.CometChat.CALL_STATUS.BUSY:r=n.localize("CALL_BUSY")}}else{if(e.getLastMessage()&&e.getLastMessage().type===vt.meeting){let i=e.getLastMessage();r=i.getSender()&&i.getSender().getUid()!==t.getUid()?`${i.getSender().getName()}  ${n.localize("INITIATED_GROUP_CALL")}`:n.localize("YOU_INITIATED_GROUP_CALL");let a=e.getLastMessage();return a&&a.getMentionedUsers().length&&a instanceof s.CometChat.TextMessage&&o&&!o.disableMentions&&(r=this.getMentionsFormattedText(a,r,o)),r}r=super.getLastConversationMessage(e,t,o)}return r}getAuxiliaryHeaderMenu(e,t){let n=[],o=g.jsx(Et,{user:e,group:t,callButtonsStyle:{width:"100%",height:"100%",border:"none",borderRadius:"0",background:"transparent",buttonPadding:"0",buttonBackground:"transparent",buttonBorder:"0 4px",buttonBorderRadius:"8px"},voiceCallIconText:"",videoCallIconText:""},"callbuttons");return n.push(o),n}}class Ft{enable(){s.CometChat.isExtensionEnabled(this.getExtensionId()).then((e=>{e&&this.addExtension()}),(e=>{}))}}class kt extends Ft{enable(){I.enable((e=>new It(e)))}addExtension(){I.enable((e=>new It(e)))}getExtensionId(){return"calling"}}var Tt="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%20Extensions%2FCollaborative%20Document%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24-Extensions%2FCollaborative-Document%22%20fill%3D%22%23000000%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M21.019664%2C11.0497498%20C20.2968766%2C11.0497498%2019.6037718%2C11.3372517%2019.0931699%2C11.8488579%20L11.9722287%2C18.9696649%20C11.8675218%2C19.07437%2011.7961523%2C19.207727%2011.7671152%2C19.3529288%20L11.0671938%2C22.8529288%20C10.9622469%2C23.3777219%2011.4249469%2C23.8404018%2011.9497354%2C23.7354323%20L15.4493424%2C23.0354323%20C15.5945931%2C23.0063789%2015.7279879%2C22.9349647%2015.8327036%2C22.830196%20L22.9504376%2C15.7088627%20C24.0147495%2C14.6469387%2024.0170552%2C12.9221237%2022.9548584%2C11.8566265%20L22.9136114%2C11.8181375%20C22.4355563%2C11.3372517%2021.7424514%2C11.0497498%2021.019664%2C11.0497498%20Z%20M21.019664%2C12.5497498%20C21.2977603%2C12.5497498%2021.5660731%2C12.6445675%2021.7814054%2C12.816289%20L21.9254022%2C12.9466625%20L22.00838%2C13.0404351%20C22.3677898%2C13.4966868%2022.3370963%2C14.2018865%2021.890239%2C14.6477416%20L14.931%2C21.609%20L12.758%2C22.043%20L13.193%2C19.869%20L20.1543459%2C12.9090017%20C20.3840891%2C12.6788071%2020.6952184%2C12.5497498%2021.019664%2C12.5497498%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.3982707%2C1.25%20C18.5339913%2C1.25%2019.463993%2C2.13072139%2019.5427157%2C3.24645803%20L19.5481135%2C3.4%20L19.5481135%2C9.7%20C19.5481135%2C10.1142136%2019.2123271%2C10.45%2018.7981135%2C10.45%20C18.4184177%2C10.45%2018.1046226%2C10.1678461%2018.0549601%2C9.80177056%20L18.0481135%2C9.7%20L18.0481135%2C3.4%20C18.0481135%2C3.07363278%2017.8076479%2C2.80347042%2017.4942955%2C2.75704724%20L17.3982707%2C2.75%20L3.39984279%2C2.75%20C3.07358878%2C2.75%202.80346372%2C2.99049261%202.75704639%2C3.30394351%20L2.75%2C3.4%20L2.75%2C18.8%20C2.75%2C19.1263672%202.99046561%2C19.3965296%203.30381804%2C19.4429528%20L3.39984279%2C19.45%20L8.99921396%2C19.45%20C9.41342753%2C19.45%209.74921396%2C19.7857864%209.74921396%2C20.2%20C9.74921396%2C20.5796958%209.46706008%2C20.893491%209.10098452%2C20.9431534%20L8.99921396%2C20.95%20L3.39984279%2C20.95%20C2.26412221%2C20.95%201.33412057%2C20.0692786%201.25539778%2C18.953542%20L1.25%2C18.8%20L1.25%2C3.4%20C1.25%2C2.26423244%202.13062249%2C1.33412985%203.24630755%2C1.25539838%20L3.39984279%2C1.25%20L17.3982707%2C1.25%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14.5985851%2C5.45%20C15.0127987%2C5.45%2015.3485851%2C5.78578644%2015.3485851%2C6.2%20C15.3485851%2C6.57969577%2015.0664313%2C6.89349096%2014.7003557%2C6.94315338%20L14.5985851%2C6.95%20L8.99921396%2C6.95%20C8.5850004%2C6.95%208.24921396%2C6.61421356%208.24921396%2C6.2%20C8.24921396%2C5.82030423%208.53136785%2C5.50650904%208.89744341%2C5.45684662%20L8.99921396%2C5.45%20L14.5985851%2C5.45%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14.5985851%2C9.65%20C15.0127987%2C9.65%2015.3485851%2C9.98578644%2015.3485851%2C10.4%20C15.3485851%2C10.7796958%2015.0664313%2C11.093491%2014.7003557%2C11.1431534%20L14.5985851%2C11.15%20L6.19952838%2C11.15%20C5.78531482%2C11.15%205.44952838%2C10.8142136%205.44952838%2C10.4%20C5.44952838%2C10.0203042%205.73168226%2C9.70650904%206.09775782%2C9.65684662%20L6.19952838%2C9.65%20L14.5985851%2C9.65%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M13.1987423%2C13.85%20C13.6129559%2C13.85%2013.9487423%2C14.1857864%2013.9487423%2C14.6%20C13.9487423%2C14.9796958%2013.6665885%2C15.293491%2013.3005129%2C15.3431534%20L13.1987423%2C15.35%20L6.19952838%2C15.35%20C5.78531482%2C15.35%205.44952838%2C15.0142136%205.44952838%2C14.6%20C5.44952838%2C14.2203042%205.73168226%2C13.906509%206.09775782%2C13.8568466%20L6.19952838%2C13.85%20L13.1987423%2C13.85%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";const Mt=h({tagName:"cometchat-document-bubble",elementClass:o.CometChatDocumentBubble,react:r});class Bt extends k{constructor(e,t){super(e),this.newDataSource=e,this.configuration=t}getAllMessageTypes(){const e=super.getAllMessageTypes();return e.includes(t.CollaborativeDocumentConstants.extension_document)||e.push(t.CollaborativeDocumentConstants.extension_document),e}getId(){return"collaborativedocument"}getAllMessageCategories(){const e=super.getAllMessageCategories();return e.includes(n.CometChatUIKitConstants.MessageCategory.custom)||e.push(n.CometChatUIKitConstants.MessageCategory.custom),e}checkIfTemplateExist(e,t){return e.some((e=>e.type===t))}getAllMessageTemplates(e,n){this.theme=e;const o=super.getAllMessageTemplates(this.theme,n);return this.checkIfTemplateExist(o,t.CollaborativeDocumentConstants.extension_document)||o.push(this.getDocumentTemplate(this.theme)),o}getDocumentTemplate(e){return new n.CometChatMessageTemplate({type:t.CollaborativeDocumentConstants.extension_document,category:n.CometChatUIKitConstants.MessageCategory.custom,contentView:(t,n)=>{let o=t;return o.getDeletedAt()?super.getDeleteMessageBubble(o,e):this.getDocumentContentView(o,e)},options:(e,t,n,o)=>super.getCommonOptions(e,t,n,o),bottomView:(e,t)=>super.getBottomView(e,t)})}getDocumentContentView(e,t){let o=n.DocumentIconAlignment.right,r=this.configuration?.getDocumentBubbleStyle(),s={titleFont:r?.titleFont||n.fontHelper(this.theme.typography.text2),titleColor:r?.titleColor||this.theme.palette.getAccent(),subtitleFont:r?.subtitleFont||n.fontHelper(this.theme.typography.subtitle2),subtitleColor:r?.subtitleColor||this.theme.palette.getAccent600(),iconTint:r?.iconTint||this.theme.palette.getAccent700(),buttonTextFont:r?.buttonTextFont||n.fontHelper(this.theme.typography.text2),buttonTextColor:r?.buttonTextColor||this.theme.palette.getPrimary(),buttonBackground:r?.buttonBackground||"transparent",separatorColor:r?.separatorColor||this.theme.palette.getAccent200()};const i=this.getDocumentURL(e),a=n.localize("COLLABORATIVE_DOCUMENT"),l=n.localize("OPEN_DOCUMENT"),c=n.localize("DRAW_DOCUMENT_TOGETHER");return g.jsx(Mt,{iconURL:this.configuration?.getIconURL()?this.configuration?.getIconURL():Tt,title:a,URL:i,subtitle:c,buttonText:l,documentStyle:s,hideSeparator:!1,iconAlignment:o,ccClicked:this.launchCollaborativeDocument})}launchCollaborativeDocument(e){window.open(e,"","fullscreen=yes, scrollbars=auto")}getDocumentURL(e){try{if(e?.getData()){const n=e.getData();if(n?.metadata){const e=n?.metadata;if(t.CometChatUIKitUtility.checkHasOwnProperty(e,"@injected")){const n=e["@injected"];if(n?.extensions){const e=n.extensions;return e[t.CollaborativeDocumentConstants.document]?e[t.CollaborativeDocumentConstants.document].document_url:e[t.CollaborativeDocumentConstants.document].board_url}}}}}catch(e){console.log("error in fetching document url",e)}}getAttachmentOptions(e,o){if(o?.parentMessageId)return super.getAttachmentOptions(e,o);{let r=this.configuration?.getOptionStyle(),i=!!o?.user,a=i?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group,l=i?o.user:o.group;const c=super.getAttachmentOptions(e,o);let C=new n.CometChatMessageComposerAction({id:t.CollaborativeDocumentConstants.document,title:n.localize("COLLABORATIVE_DOCUMENT"),iconURL:this.configuration?.getOptionIconURL()?this.configuration?.getOptionIconURL():Tt,iconTint:r?.iconTint||e.palette.getAccent700(),titleColor:r?.titleColor||e.palette.getAccent600(),titleFont:r?.titleFont||n.fontHelper(e.typography.subtitle1),background:r?.background||e.palette.getAccent100(),onClick:()=>{s.CometChat.callExtension(t.CollaborativeDocumentConstants.document,t.CollaborativeDocumentConstants.post,t.CollaborativeDocumentConstants.v1_create,{receiver:l,receiverType:a}).then((e=>{}),(e=>{}))}});return c.push(C),c}}getLastConversationMessage(e,o,r){const s=e.getLastMessage();return null!=s&&s.getType()===t.CollaborativeDocumentConstants.extension_document&&s.getCategory()===n.CometChatUIKitConstants.MessageCategory.custom?n.localize("CUSTOM_MESSAGE_DOCUMENT"):super.getLastConversationMessage(e,o,r)}}class Lt extends Ft{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new Bt(e,this.configuration)))}getExtensionId(){return t.ExtensionsId.document}}var Rt="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%20Extensions%2FCollaborative%20Whiteboard%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24-Extensions%2FCollaborative-Whiteboard%22%20fill%3D%22%23000000%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M6.2%2C1.25%20C4.2473527%2C1.25%202.65%2C2.77128829%202.65%2C4.66666667%20C2.65%2C6.56204505%204.2473527%2C8.08333333%206.2%2C8.08333333%20C8.1526473%2C8.08333333%209.75%2C6.56204505%209.75%2C4.66666667%20C9.75%2C2.77128829%208.1526473%2C1.25%206.2%2C1.25%20Z%20M6.2%2C2.75%20C7.3401473%2C2.75%208.25%2C3.61652638%208.25%2C4.66666667%20C8.25%2C5.71680695%207.3401473%2C6.58333333%206.2%2C6.58333333%20C5.0598527%2C6.58333333%204.15%2C5.71680695%204.15%2C4.66666667%20C4.15%2C3.61652638%205.0598527%2C2.75%206.2%2C2.75%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M6.2%2C7.91666667%20C6.57969577%2C7.91666667%206.89349096%2C8.19882055%206.94315338%2C8.56489611%20L6.95%2C8.66666667%20L6.95%2C14%20C6.95%2C14.4142136%206.61421356%2C14.75%206.2%2C14.75%20C5.82030423%2C14.75%205.50650904%2C14.4678461%205.45684662%2C14.1017706%20L5.45%2C14%20L5.45%2C8.66666667%20C5.45%2C8.2524531%205.78578644%2C7.91666667%206.2%2C7.91666667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M6.2%2C7.91666673%20C3.47415406%2C7.91666673%201.25%2C10.0349087%201.25%2C12.6666667%20L1.25%2C15.3333333%20L1.25684662%2C15.4351039%20C1.30650904%2C15.8011795%201.62030423%2C16.0833333%202%2C16.0833333%20L2.725%2C16.083%20L3.3541005%2C22.0783194%20C3.39418895%2C22.4601142%203.71610639%2C22.75%204.1%2C22.75%20L8.3%2C22.75%20L8.40299648%2C22.7429615%20C8.74009489%2C22.6965339%209.00945546%2C22.4254056%209.0458995%2C22.0783194%20L9.674%2C16.083%20L10.4%2C16.0833333%20C10.8142136%2C16.0833333%2011.15%2C15.7475469%2011.15%2C15.3333333%20L11.15%2C12.6666667%20C11.15%2C10.0349087%208.92584594%2C7.91666673%206.2%2C7.91666673%20Z%20M6.39003599%2C9.42150275%20C8.21408216%2C9.514591%209.65%2C10.9396974%209.65%2C12.6666667%20L9.649%2C14.583%20L9%2C14.5833333%20L8.89700352%2C14.5903718%20C8.55990511%2C14.6367994%208.29054454%2C14.9079278%208.2541005%2C15.2550139%20L7.624%2C21.25%20L4.775%2C21.25%20L4.1458995%2C15.2550139%20L4.12814397%2C15.1533155%20C4.04676841%2C14.8229084%203.74899419%2C14.5833333%203.4%2C14.5833333%20L2.75%2C14.583%20L2.75%2C12.6666667%20C2.75%2C10.8801468%204.28665405%2C9.41666673%206.2%2C9.41666673%20L6.39003599%2C9.42150275%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M21.6%2C1.25%20C22.7281683%2C1.25%2023.6652093%2C2.09570502%2023.7445585%2C3.18354707%20L23.75%2C3.33333333%20L23.75%2C14.6666667%20C23.75%2C15.7752741%2022.8620097%2C16.6691795%2021.7525939%2C16.7448147%20L21.6%2C16.75%20L13.2%2C16.75%20C12.7857864%2C16.75%2012.45%2C16.4142136%2012.45%2C16%20C12.45%2C15.6203042%2012.7321539%2C15.306509%2013.0982294%2C15.2568466%20L13.2%2C15.25%20L21.6%2C15.25%20C21.9335897%2C15.25%2022.1978428%2C15.0272126%2022.2431318%2C14.7509728%20L22.25%2C14.6666667%20L22.25%2C3.33333333%20C22.25%2C3.04809641%2022.0160733%2C2.79937841%2021.6978472%2C2.75651429%20L21.6%2C2.75%20L11.8%2C2.75%20C11.3857864%2C2.75%2011.05%2C2.41421356%2011.05%2C2%20C11.05%2C1.62030423%2011.3321539%2C1.30650904%2011.6982294%2C1.25684662%20L11.8%2C1.25%20L21.6%2C1.25%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";const Ut=h({tagName:"cometchat-document-bubble",elementClass:o.CometChatDocumentBubble,react:r});class Pt extends k{constructor(e,t){super(e),this.newDataSource=e,this.configuration=t}getAllMessageTypes(){let e=super.getAllMessageTypes();return e.some((e=>e===t.CollaborativeWhiteboardConstants.extension_whiteboard))||e.push(t.CollaborativeWhiteboardConstants.extension_whiteboard),e}getId(){return"collaborativewhiteboard"}getAllMessageCategories(){const e=super.getAllMessageCategories();return e.includes(n.CometChatUIKitConstants.MessageCategory.custom)||e.push(n.CometChatUIKitConstants.MessageCategory.custom),e}checkIfTemplateExist(e,t){return e.some((e=>e.type===t))}getAllMessageTemplates(e,n){this.theme=e;const o=super.getAllMessageTemplates(this.theme,n);return this.checkIfTemplateExist(o,t.CollaborativeWhiteboardConstants.extension_whiteboard)||o.push(this.getWhiteBoardTemplate(this.theme)),o}getWhiteBoardTemplate(e){return new n.CometChatMessageTemplate({type:t.CollaborativeWhiteboardConstants.extension_whiteboard,category:n.CometChatUIKitConstants.MessageCategory.custom,contentView:(t,n)=>{let o=t;return o.getDeletedAt()?super.getDeleteMessageBubble(o,e):this.getWhiteboardContentView(o,e)},options:(e,t,n,o)=>super.getCommonOptions(e,t,n,o),bottomView:(e,t)=>super.getBottomView(e,t)})}getWhiteboardContentView(e,t){let o=n.DocumentIconAlignment.right,r=this.configuration?.getWhiteboardBubbleStyle(),s={titleFont:r?.titleFont||n.fontHelper(this.theme.typography.text2),titleColor:r?.titleColor||this.theme.palette.getAccent(),subtitleFont:r?.subtitleFont||n.fontHelper(this.theme.typography.subtitle2),subtitleColor:r?.subtitleColor||this.theme.palette.getAccent600(),iconTint:r?.iconTint||this.theme.palette.getAccent700(),buttonTextFont:r?.buttonTextFont||n.fontHelper(this.theme.typography.text2),buttonTextColor:r?.buttonTextColor||this.theme.palette.getPrimary(),buttonBackground:r?.buttonBackground||"transparent",separatorColor:r?.separatorColor||this.theme.palette.getAccent200()};const i=this.getWhiteboardDocument(e),a=n.localize("COLLABORATIVE_WHITEBOARD"),l=n.localize("OPEN_WHITEBOARD"),c=n.localize("DRAW_WHITEBOARD_TOGETHER");return g.jsx(Ut,{hideSeparator:!1,iconAlignment:o,iconURL:this.configuration?.getIconURL()?this.configuration?.getIconURL():Rt,title:a,URL:i,subtitle:c,buttonText:l,documentStyle:s,ccClicked:this.launchCollaborativeWhiteboardDocument})}launchCollaborativeWhiteboardDocument(e){window.open(e,"","fullscreen=yes, scrollbars=auto")}getWhiteboardDocument(e){try{if(e?.getData()){const n=e.getData();if(n?.metadata){const e=n?.metadata;if(t.CometChatUIKitUtility.checkHasOwnProperty(e,"@injected")){const n=e["@injected"];if(n?.extensions){const e=n.extensions;return e[t.CollaborativeWhiteboardConstants.whiteboard]?e[t.CollaborativeWhiteboardConstants.whiteboard].board_url:e[t.CollaborativeWhiteboardConstants.whiteboard].document_url}}}}}catch(e){console.log("error in getting whiteboard details",e)}}getAttachmentOptions(e,o){if(o?.parentMessageId)return super.getAttachmentOptions(e,o);{let r=this.configuration?.getOptionStyle(),i=!!o?.user,a=i?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group,l=i?o.user:o.group;const c=super.getAttachmentOptions(e,o);let C=new n.CometChatMessageComposerAction({id:t.CollaborativeWhiteboardConstants.whiteboard,title:n.localize("COLLABORATIVE_WHITEBOARD"),iconURL:this.configuration?.getOptionIconURL()?this.configuration?.getOptionIconURL():Rt,iconTint:r?.iconTint||e.palette.getAccent700(),titleColor:r?.titleColor||e.palette.getAccent600(),titleFont:r?.titleFont||n.fontHelper(e.typography.subtitle1),background:r?.background||e.palette.getAccent100(),onClick:()=>{s.CometChat.callExtension(t.CollaborativeWhiteboardConstants.whiteboard,t.CollaborativeWhiteboardConstants.post,t.CollaborativeWhiteboardConstants.v1_create,{receiver:l,receiverType:a}).then((e=>{}),(e=>{console.log("error in sending whiteboard",e)}))}});return c.push(C),c}}getLastConversationMessage(e,o,r){const s=e.getLastMessage();return null!=s&&s.getType()===t.CollaborativeWhiteboardConstants.extension_whiteboard&&s.getCategory()===n.CometChatUIKitConstants.MessageCategory.custom?n.localize("CUSTOM_MESSAGE_WHITEBOARD"):super.getLastConversationMessage(e,o,r)}}class Ot extends Ft{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new Pt(e,this.configuration)))}getExtensionId(){return t.ExtensionsId.whiteboard}}const jt=h({tagName:"image-moderation",elementClass:t.ImageModeration,react:r,events:{CCShowDialog:"cc-show-dialog"}}),Gt=h({tagName:"cometchat-backdrop",elementClass:o.CometChatBackdrop,react:r}),Vt=h({tagName:"cometchat-confirm-dialog",elementClass:o.CometChatConfirmDialog,react:r,events:{ccCancelClicked:"cc-cancel-clicked",ccConfirmClicked:"cc-confirm-clicked"}}),Ht=h({tagName:"cometchat-image-bubble",elementClass:o.CometChatImageBubble,react:r,events:{ccImageClicked:"cc-image-clicked"}}),Qt=h({tagName:"cometchat-full-screen-viewer",elementClass:o.CometChatFullScreenViewer,react:r,events:{ccCloseClicked:"cc-close-clicked"}});class Nt extends k{constructor(e,t){super(e),this.newDataSource=e,this.configuration=t}getId(){return"imagemoderation"}getImageMessageContentView(e,t,o){this.theme=o;let r=e.getMetadata();const s=this.getImageModerationStyle(o);let i=e.getAttachments()[0]?.getUrl()||"";I.names.includes("thumbnailgeneration")&&r&&"object"==typeof r&&r.hasOwnProperty("@injected")&&r["@injected"].hasOwnProperty("extensions")&&r["@injected"].extensions.hasOwnProperty("thumbnail-generation")&&r["@injected"].extensions["thumbnail-generation"].url_small&&(i=e.getMetadata()["@injected"].extensions["thumbnail-generation"].url_small);const a=g.jsx(Qt,{URL:i,closeIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",fullScreenViewerStyle:{closeIconTint:"blue"},ccCloseClicked:()=>{n.CometChatUIEvents.ccHideDialog.next()}});return g.jsx(jt,{message:e,imageModerationStyle:s,CCShowDialog:e=>{this.showDialog(e)},children:g.jsx(Ht,{src:i,placeholderImage:"data:image/png;base64,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",ccImageClicked:()=>{n.CometChatUIEvents.ccShowDialog.next({child:a,confirmCallback:null})}})})}showDialog(e){const t=this.getConfirmationModal(e);n.CometChatUIEvents.ccShowDialog.next({confirmCallback:e?.detail?.onConfirm,child:t})}getConfirmationModal(e){let t=this.configuration?.getBackDropStyle(),o=this.configuration?.getConfirmDialogSyle(),r={height:t?.height||"100%",width:t?.width||"100%",background:t?.background||"rgba(0, 0, 0, 0.5)",border:t?.border,borderRadius:t?.borderRadius},s=n.localize("SHOW_UNSAFE_CONTENT"),i=n.localize("YES"),a=n.localize("NO"),l={confirmButtonBackground:o?.confirmButtonBackground||this.theme.palette.getError(),cancelButtonBackground:o?.cancelButtonBackground||this.theme.palette.getSecondary(),confirmButtonTextColor:o?.confirmButtonTextColor||this.theme.palette.getAccent900("light"),confirmButtonTextFont:o?.confirmButtonTextFont||n.fontHelper(this.theme.typography.text2),cancelButtonTextColor:o?.cancelButtonTextColor||this.theme.palette.getAccent900("dark"),cancelButtonTextFont:o?.cancelButtonTextFont||n.fontHelper(this.theme.typography.text2),titleFont:o?.titleFont||n.fontHelper(this.theme.typography.title1),titleColor:o?.titleColor||this.theme.palette.getAccent(),messageTextFont:o?.messageTextFont||n.fontHelper(this.theme.typography.subtitle2),messageTextColor:o?.messageTextColor||this.theme.palette.getAccent600(),background:o?.background||this.theme.palette.getBackground(),height:o?.height||"100%",width:o?.width||"100%",border:o?.border||`1px solid ${this.theme.palette.getAccent100()}`,borderRadius:o?.borderRadius||"8px"};return g.jsx(Gt,{backdropStyle:r,children:g.jsx(Vt,{title:"",messageText:s,cancelButtonText:a,confirmButtonText:i,confirmDialogStyle:l,ccCancelClicked:this.onCancelClicked,ccConfirmClicked:()=>{this.onConfirmClicked(e)}})})}onConfirmClicked(e){e?.detail?.onConfirm&&e?.detail?.onConfirm(),n.CometChatUIEvents.ccHideDialog.next()}onCancelClicked(){n.CometChatUIEvents.ccHideDialog.next()}getImageModerationStyle(e){let t=this.configuration?.getImageModerationStyle();return{filterColor:t?.filterColor||e.palette.getPrimary(),height:t?.height||"100%",width:t?.width||"100%",border:t?.border||"none",warningTextColor:t?.warningTextColor||e.palette.getAccent("dark"),warningTextFont:t?.warningTextFont||n.fontHelper(e.typography.title2)}}}class Kt extends Ft{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new Nt(e,this.configuration)))}getExtensionId(){return t.ExtensionsId.imageModeration}}const zt=h({tagName:"link-preview",elementClass:t.LinkPreview,react:r,events:{ccLinkClicked:"cc-link-clicked"}}),_t=h({tagName:"cometchat-text-bubble",elementClass:o.CometChatTextBubble,react:r});class Jt extends k{constructor(e,t){super(e),this.newDataSource=e,this.configuration=t}getId(){return"linkpreview"}getTextMessageContentView(e,o,r,s){const i=this.getLinkPreview(e);if(i&&!e.getDeletedAt()&&e.getType()!==n.CometChatUIKitConstants.MessageTypes.groupMember){let n,a={...s,textFormatters:s?.textFormatters&&s?.textFormatters.length?[...s.textFormatters]:this.getAllTextFormatters({theme:r,alignment:o,disableMentions:s.disableMentions})},l=a.textFormatters;if(a&&!a.disableMentions){let s;for(let o=0;o<l.length&&!(l[o]instanceof t.CometChatMentionsTextFormatter&&(s=l[o],s.setMessage(e),e.getMentionedUsers().length&&s.setCometChatUserGroupMembers(e.getMentionedUsers()),s.setLoggedInUser(t.CometChatUIKitLoginListener.getLoggedInUser()),n))&&!(l[o]instanceof t.CometChatUrlTextFormatter&&(n=l[o],s));o++);s||(s=I.getDataSource().getMentionsTextFormatter({message:e,...a,alignment:o,theme:r}),l.push(s))}else for(let e=0;e<l.length;e++)if(l[e]instanceof t.CometChatUrlTextFormatter){n=l[e];break}n||(n=I.getDataSource().getUrlTextFormatter({theme:r,alignment:o}),l.push(n));for(let t=0;t<l.length;t++)l[t].setMessageBubbleAlignment(o),l[t].setMessage(e);return g.jsx(zt,{style:this.getLinkPreviewWrapperStyle(),title:this.getLinkPreviewDetails(i,"title"),description:this.getLinkPreviewDetails(i,"description"),URL:this.getLinkPreviewDetails(i,"url"),image:this.getLinkPreviewDetails(i,"image"),favIconURL:this.getLinkPreviewDetails(i,"favicon"),linkPreviewStyle:this.getLinkPreviewStyle(r),ccLinkClicked:this.openLink,children:g.jsx(_t,{textStyle:this.getTextMessageStyle(o,r),text:e.getText(),textFormatters:l})})}return super.getTextMessageContentView(e,o,r,s)}getLinkPreviewWrapperStyle(){return{height:"inherit",width:"inherit"}}openLink(e){window.open(e?.detail?.url,"_blank")}getLinkPreviewStyle(e){let o=this.configuration?.getLinkPreviewStyle();return new t.LinkPreviewStyle({titleColor:o?.titleColor||e.palette.getAccent(),titleFont:o?.titleFont||n.fontHelper(e.typography.title2),descriptionColor:o?.descriptionColor||e.palette.getAccent600(),descriptionFont:o?.descriptionFont||n.fontHelper(e.typography.subtitle2),background:o?.background||"transparent",height:o?.height||"100%",width:o?.width||"100%"})}getTextMessageStyle(e,t){return e!==n.MessageBubbleAlignment.left?{textFont:n.fontHelper(t.typography.text3),textColor:t.palette.getAccent900()||""}:{textFont:n.fontHelper(t.typography.text3),textColor:t.palette.getAccent()||""}}getLinkPreview(e){try{if(!e?.getMetadata())return null;{const n=e.getMetadata()[t.LinkPreviewConstants.injected];if(n&&n?.extensions){const e=n.extensions;if(e&&t.CometChatUIKitUtility.checkHasOwnProperty(e,t.LinkPreviewConstants.link_preview)){const n=e[t.LinkPreviewConstants.link_preview];return n&&t.CometChatUIKitUtility.checkHasOwnProperty(n,t.LinkPreviewConstants.links)&&n[t.LinkPreviewConstants.links].length?n[t.LinkPreviewConstants.links][0]:null}return null}}}catch(e){console.log("error in getting link preview details",e)}}getLinkPreviewDetails(e,t){return Object.keys(e).length>0?e[t]:""}}class Yt extends Ft{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new Jt(e,this.configuration)))}getExtensionId(){return t.ExtensionsId.linkPreview}}const Wt=h({tagName:"message-translation-bubble",elementClass:t.MessageTranslationBubble,react:r}),Zt=h({tagName:"cometchat-text-bubble",elementClass:o.CometChatTextBubble,react:r});class Xt extends k{constructor(e,o){super(e),this.getTranslationStyle=(e,o)=>{let r=this.configuration?.getMessageTranslationStyle();return e!==n.MessageBubbleAlignment.left?new t.MessageTranslationStyle({translatedTextFont:r?.translatedTextFont||n.fontHelper(o.typography.text3),translatedTextColor:r?.translatedTextColor||o.palette.getAccent("dark"),helpTextColor:r?.helpTextColor||o.palette.getAccent700("dark"),helpTextFont:r?.helpTextFont||n.fontHelper(o.typography.caption2),background:r?.background||"transparent"}):new t.MessageTranslationStyle({translatedTextFont:r?.translatedTextFont||n.fontHelper(o.typography.text3),translatedTextColor:r?.translatedTextColor||o.palette.getAccent(),helpTextColor:r?.helpTextColor||o.palette.getAccent700(),helpTextFont:r?.helpTextFont||n.fontHelper(o.typography.caption2),background:r?.background||"transparent"})},this.newDataSource=e,this.configuration=o}getTextMessageOptions(e,t,o,r){let i=this.configuration?.getOptionStyle(),a=super.getTextMessageOptions(e,t,o,r);if(!this.checkIfOptionExist(a,n.CometChatUIKitConstants.MessageOption.translateMessage)){let e=new n.CometChatActionsIcon({id:n.CometChatUIKitConstants.MessageOption.translateMessage,title:n.localize("TRANSLATE_MESSAGE"),iconURL:this.configuration?.getOptionIconURL()?this.configuration?.getOptionIconURL():"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%20Extensions%2FMessage%20Translation%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24-Extensions%2FMessage-Translation%22%20fill%3D%22%23000000%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M6.66666667%2C4.91666667%20C7.7672341%2C4.91666667%208.66848034%2C5.77006215%208.74476911%2C6.85121684%20L8.75%2C7%20L8.75%2C9.66666667%20C8.75%2C10.0808802%208.41421356%2C10.4166667%208%2C10.4166667%20C7.62030423%2C10.4166667%207.30650904%2C10.1345128%207.25684662%2C9.76843722%20L7.25%2C9.66666667%20L7.25%2C7%20C7.25%2C6.6778339%206.98883277%2C6.41666667%206.66666667%2C6.41666667%20C6.37671717%2C6.41666667%206.13617677%2C6.62821212%206.09096818%2C6.9053803%20L6.08333333%2C7%20L6.08333333%2C9.66666667%20C6.08333333%2C10.0808802%205.7475469%2C10.4166667%205.33333333%2C10.4166667%20C4.95363757%2C10.4166667%204.63984237%2C10.1345128%204.59017995%2C9.76843722%20L4.58333333%2C9.66666667%20L4.58333333%2C7%20C4.58333333%2C5.84940677%205.51607344%2C4.91666667%206.66666667%2C4.91666667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M8%2C7.58333333%20C8.41421356%2C7.58333333%208.75%2C7.91911977%208.75%2C8.33333333%20C8.75%2C8.7130291%208.46784612%2C9.02682429%208.10177056%2C9.07648672%20L8%2C9.08333333%20L5.33333333%2C9.08333333%20C4.91911977%2C9.08333333%204.58333333%2C8.7475469%204.58333333%2C8.33333333%20C4.58333333%2C7.95363757%204.86548721%2C7.63984237%205.23156278%2C7.59017995%20L5.33333333%2C7.58333333%20L8%2C7.58333333%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16%2C10.9166667%20C16.3796958%2C10.9166667%2016.693491%2C11.1988205%2016.7431534%2C11.5648961%20L16.75%2C11.6666667%20L16.75%2C13%20C16.75%2C13.4142136%2016.4142136%2C13.75%2016%2C13.75%20C15.6203042%2C13.75%2015.306509%2C13.4678461%2015.2568466%2C13.1017706%20L15.25%2C13%20L15.25%2C11.6666667%20C15.25%2C11.2524531%2015.5857864%2C10.9166667%2016%2C10.9166667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M18.6666667%2C12.25%20C19.0808802%2C12.25%2019.4166667%2C12.5857864%2019.4166667%2C13%20C19.4166667%2C13.3796958%2019.1345128%2C13.693491%2018.7684372%2C13.7431534%20L18.6666667%2C13.75%20L13.3333333%2C13.75%20C12.9191198%2C13.75%2012.5833333%2C13.4142136%2012.5833333%2C13%20C12.5833333%2C12.6203042%2012.8654872%2C12.306509%2013.2315628%2C12.2568466%20L13.3333333%2C12.25%20L18.6666667%2C12.25%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16.6218209%2C12.7628292%20C16.7528067%2C12.3698717%2017.1775467%2C12.1575017%2017.5705042%2C12.2884875%20C17.9634616%2C12.4194734%2018.1758316%2C12.8442133%2018.0448458%2C13.2371708%20L17.9816285%2C13.4141354%20L17.8896351%2C13.6471999%20L17.768692%2C13.9296038%20C17.5442054%2C14.4346986%2017.2746722%2C14.9400735%2016.9573711%2C15.4160251%20C15.999232%2C16.8532338%2014.8035437%2C17.75%2013.3333333%2C17.75%20C12.9191198%2C17.75%2012.5833333%2C17.4142136%2012.5833333%2C17%20C12.5833333%2C16.6203042%2012.8654872%2C16.306509%2013.2315628%2C16.2568466%20L13.3333333%2C16.25%20C14.1964563%2C16.25%2015.000768%2C15.6467662%2015.7092956%2C14.5839749%20C15.9753278%2C14.1849265%2016.2057946%2C13.7528014%2016.3979747%2C13.3203962%20L16.4992538%2C13.0842816%20L16.6012322%2C12.8221175%20C16.6092157%2C12.7998646%2016.6160798%2C12.7800523%2016.6218209%2C12.7628292%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.5822706%2C14.8366574%20C15.9262877%2C14.6059518%2016.3921926%2C14.697809%2016.6228982%2C15.0418261%20C17.0961654%2C15.7475396%2017.8695647%2C16.1943066%2018.717337%2C16.2517136%20C19.1306041%2C16.279698%2019.4429375%2C16.6374031%2019.4149531%2C17.0506703%20C19.3869686%2C17.4639375%2019.0292635%2C17.7762708%2018.6159964%2C17.7482864%20C17.3049794%2C17.6595107%2016.1089745%2C16.9686186%2015.3771018%2C15.877285%20C15.1463962%2C15.5332678%2015.2382534%2C15.067363%2015.5822706%2C14.8366574%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M20.6666667%2C8.91666667%20L11.3333333%2C8.91666667%20C10.1827401%2C8.91666667%209.25%2C9.84940677%209.25%2C11%20L9.25%2C17.6666667%20L9.25523089%2C17.8154498%20C9.33151966%2C18.8966045%2010.2327659%2C19.75%2011.3333333%2C19.75%20L15.022%2C19.749%20L18.8030032%2C23.5303301%20L18.8802248%2C23.598293%20C19.3582766%2C23.9666561%2020.0833333%2C23.6330113%2020.0833333%2C23%20L20.083%2C19.749%20L20.6666667%2C19.75%20C21.8172599%2C19.75%2022.75%2C18.8172599%2022.75%2C17.6666667%20L22.75%2C11%20C22.75%2C9.84940677%2021.8172599%2C8.91666667%2020.6666667%2C8.91666667%20Z%20M11.3333333%2C10.4166667%20L20.6666667%2C10.4166667%20C20.9888328%2C10.4166667%2021.25%2C10.6778339%2021.25%2C11%20L21.25%2C17.6666667%20C21.25%2C17.9888328%2020.9888328%2C18.25%2020.6666667%2C18.25%20L19.3333333%2C18.25%20L19.2315628%2C18.2568466%20C18.8654872%2C18.306509%2018.5833333%2C18.6203042%2018.5833333%2C19%20L18.583%2C21.189%20L15.8636634%2C18.4696699%20C15.7230111%2C18.3290176%2015.5322457%2C18.25%2015.3333333%2C18.25%20L11.3333333%2C18.25%20C11.0111672%2C18.25%2010.75%2C17.9888328%2010.75%2C17.6666667%20L10.75%2C11%20C10.75%2C10.6778339%2011.0111672%2C10.4166667%2011.3333333%2C10.4166667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M12.6666667%2C2.25%20C13.7672341%2C2.25%2014.6684803%2C3.10339548%2014.7447691%2C4.18455017%20L14.75%2C4.33333333%20L14.75%2C7%20C14.75%2C7.41421356%2014.4142136%2C7.75%2014%2C7.75%20C13.6203042%2C7.75%2013.306509%2C7.46784612%2013.2568466%2C7.10177056%20L13.25%2C7%20L13.25%2C4.33333333%20C13.25%2C4.04338384%2013.0384545%2C3.80284343%2012.7612864%2C3.75763485%20L12.6666667%2C3.75%20L3.33333333%2C3.75%20C3.04338384%2C3.75%202.80284343%2C3.96154546%202.75763485%2C4.23871364%20L2.75%2C4.33333333%20L2.75%2C11%20C2.75%2C11.2899495%202.96154546%2C11.5304899%203.23871364%2C11.5756985%20L3.33333333%2C11.5833333%20L4.66666667%2C11.5833333%20C5.04636243%2C11.5833333%205.36015763%2C11.8654872%205.40982005%2C12.2315628%20L5.41666667%2C12.3333333%20L5.416%2C14.523%20L6.80300325%2C13.1363366%20C7.06926981%2C12.87007%207.48593349%2C12.845864%207.77954499%2C13.0637184%20L7.86366342%2C13.1363366%20C8.12992998%2C13.4026031%208.15413603%2C13.8192668%207.93628157%2C14.1128783%20L7.86366342%2C14.1969968%20L5.19699675%2C16.8636634%20C4.74939014%2C17.31127%204.00077515%2C17.0344999%203.92321348%2C16.4359943%20L3.91666667%2C16.3333333%20L3.916%2C13.083%20L3.33333333%2C13.0833333%20C2.2327659%2C13.0833333%201.33151966%2C12.2299379%201.25523089%2C11.1487832%20L1.25%2C11%20L1.25%2C4.33333333%20C1.25%2C3.2327659%202.10339548%2C2.33151966%203.18455017%2C2.25523089%20L3.33333333%2C2.25%20L12.6666667%2C2.25%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onClick:function(){s.CometChat.callExtension("message-translation","POST","v2/translate",{msgId:t.getId(),text:t.getText(),languages:navigator.languages}).then((e=>{if(e&&e.hasOwnProperty("translations")){let o=e.translations?.[0]?.message_translated;if(o&&o.trim()){let e=t.getMetadata()||{};e.translated_message=o,t.setMetadata(e),n.CometChatMessageEvents.ccMessageTranslated.next({message:t,status:n.MessageStatus.success})}}})).catch((e=>{console.log("error",e)}))},iconTint:i?.iconTint||o.palette.getAccent600(),titleColor:i?.titleColor||o.palette.getAccent600(),titleFont:i?.titleFont||n.fontHelper(o.typography.subtitle1),backgroundColor:i?.background||"transparent"});a.push(e)}return a}getTextMessageStyle(e,t){return e!==n.MessageBubbleAlignment.left?{textFont:n.fontHelper(t.typography.text3),textColor:t.palette.getAccent900("light")||""}:{textFont:n.fontHelper(t.typography.text3),textColor:t.palette.getAccent()||""}}getTextMessageContentView(e,o,r,s){const i=e.getMetadata();if(i&&Object.prototype.hasOwnProperty.call(i,"translated_message")&&!e.getDeletedAt()&&e.getType()!==n.CometChatUIKitConstants.MessageTypes.groupMember){const n=i.translated_message;let a,l={...s,textFormatters:s?.textFormatters&&s?.textFormatters.length?[...s.textFormatters]:this.getAllTextFormatters({theme:r,alignment:o,disableMentions:s.disableMentions})},c=l.textFormatters;if(l&&!l.disableMentions){let n;for(let o=0;o<c.length&&!(c[o]instanceof t.CometChatMentionsTextFormatter&&(n=c[o],n.setMessage(e),e.getMentionedUsers().length&&n.setCometChatUserGroupMembers(e.getMentionedUsers()),n.setLoggedInUser(t.CometChatUIKitLoginListener.getLoggedInUser()),a))&&!(c[o]instanceof t.CometChatUrlTextFormatter&&(a=c[o],n));o++);n||(n=I.getDataSource().getMentionsTextFormatter({message:e,...l,alignment:o,theme:r}),c.push(n))}else for(let e=0;e<c.length;e++)if(c[e]instanceof t.CometChatUrlTextFormatter){a=c[e];break}a||(a=I.getDataSource().getUrlTextFormatter({theme:r,alignment:o}),c.push(a));for(let t=0;t<c.length;t++)c[t].setMessageBubbleAlignment(o),c[t].setMessage(e);return g.jsx(Wt,{translatedText:n,alignment:o,messageTranslationStyle:this.getTranslationStyle(o,r),textFormatters:c,children:g.jsx(Zt,{textStyle:this.getTextMessageStyle(o,r),text:e.getText(),textFormatters:c})})}return super.getTextMessageContentView(e,o,r,s)}checkIfOptionExist(e,t){return e.some((e=>e.id===t))}getId(){return"messagetranslation"}}class qt extends Ft{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new Xt(e,this.configuration)))}getExtensionId(){return t.ExtensionsId.messageTranslation}}const $t=h({tagName:"polls-bubble",elementClass:t.PollsBubble,react:r}),en=h({tagName:"create-poll",elementClass:t.CreatePoll,react:r,events:{ccCloseClicked:"cc-close-clicked"}});class tn extends k{constructor(e,t){super(e),this.loggedInUser=null,this.getLoggedInUser(),this.newDataSource=e,this.configuration=t}async getLoggedInUser(){this.loggedInUser=await s.CometChat.getLoggedinUser()}getId(){return"polls"}getAllMessageTypes(){const e=super.getAllMessageTypes();return e.includes(t.PollsConstants.extension_poll)||e.push(t.PollsConstants.extension_poll),e}getAllMessageCategories(){const e=super.getAllMessageCategories();return e.includes(n.CometChatUIKitConstants.MessageCategory.custom)||e.push(n.CometChatUIKitConstants.MessageCategory.custom),e}checkIfTemplateExist(e,t){return e.some((e=>e.type===t))}getAllMessageTemplates(e,n){this.theme=e;const o=super.getAllMessageTemplates(this.theme,n);return this.checkIfTemplateExist(o,t.PollsConstants.extension_poll)||o.push(this.getPollsTemplate(this.theme)),o}getPollsTemplate(e){return new n.CometChatMessageTemplate({type:t.PollsConstants.extension_poll,category:n.CometChatUIKitConstants.MessageCategory.custom,contentView:(t,n)=>{let o=t;return o.getDeletedAt()?super.getDeleteMessageBubble(o,e):this.getPollsContentView(o,e)},options:(e,t,n,o)=>super.getCommonOptions(e,t,n,o),bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}getPollsContentView(e,t){let o=this.configuration?.getPollsBubbleStyle(),r={borderRadius:o?.borderRadius||"8px",background:o?.background||"transparent",votePercentTextFont:o?.votePercentTextFont||n.fontHelper(t.typography.subtitle2),votePercentTextColor:o?.votePercentTextColor||t.palette.getAccent600(),pollQuestionTextFont:o?.pollQuestionTextFont||n.fontHelper(t.typography.subtitle1),pollQuestionTextColor:o?.pollQuestionTextColor||t.palette.getAccent(),pollOptionTextFont:o?.pollOptionTextFont||n.fontHelper(t.typography.text2),pollOptionTextColor:o?.pollOptionTextColor||t.palette.getAccent(),pollOptionBackground:o?.pollOptionBackground||"transparent",optionsIconTint:o?.optionsIconTint||t.palette.getAccent600(),totalVoteCountTextFont:o?.totalVoteCountTextFont||n.fontHelper(t.typography.subtitle2),totalVoteCountTextColor:o?.totalVoteCountTextColor||t.palette.getAccent600(),selectedPollOptionBackground:o?.selectedPollOptionBackground||t.palette.getAccent200(),userSelectedOptionBackground:o?.userSelectedOptionBackground||t.palette.getPrimary(),pollOptionBorder:o?.pollOptionBorder||`1px solid ${t.palette.getAccent100()}`,pollOptionBorderRadius:o?.pollOptionBorderRadius||"8px"};return g.jsx($t,{pollStyle:r,pollQuestion:this.getPollBubbleData(e,"question"),pollId:this.getPollBubbleData(e,"id"),senderUid:this.getPollBubbleData(e),loggedInUser:this.loggedInUser??void 0,metadata:e?.getMetadata()})}getPollBubbleData(e,t){let n=e.getCustomData();return t?"options"===t?Object.values(n[t]):n[t]:e.getSender().getUid()}getAttachmentOptions(e,o){if(this.theme=e,o?.parentMessageId)return super.getAttachmentOptions(e,o);{let r=this.configuration?.getOptionStyle();const s=super.getAttachmentOptions(e,o);let i=new n.CometChatMessageComposerAction({id:t.PollsConstants.extension_poll,title:n.localize("POLLS"),iconURL:this.configuration?.getOptionIconURL()?this.configuration?.getOptionIconURL():"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%20Extensions%2FPolls%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24-Extensions%2FPolls%22%20fill%3D%22%23000000%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M13.779983%2C1.25%20C14.2709124%2C1.25043259%2014.7438187%2C1.42418565%2015.1167078%2C1.73706699%20L15.2516928%2C1.86085235%20L20.4715927%2C7.08218001%20C20.8991636%2C7.51561025%2021.1196388%2C8.11205589%2021.0768145%2C8.71941733%20C21.0476811%2C9.13260508%2020.689109%2C9.44394267%2020.2759212%2C9.41480928%20C19.8971658%2C9.38810367%2019.6039928%2C9.08457801%2019.580201%2C8.71591608%20L19.5805293%2C8.613916%20C19.5905393%2C8.47194719%2019.5513165%2C8.33202895%2019.4730888%2C8.21873863%20L19.4072645%2C8.13914765%20L14.1905599%2C2.92103945%20C14.1031809%2C2.83352807%2013.9908865%2C2.77665655%2013.8706878%2C2.75733888%20L13.7793226%2C2.75%20L4.33297476%2C2.75%20C4.04324415%2C2.75%203.80281908%2C2.96150888%203.75763137%2C3.23870267%20L3.75%2C3.33333333%20L3.75%2C20.6666667%20C3.75%2C20.9566568%203.961452%2C21.1971647%204.2384242%2C21.2423664%20L4.33297476%2C21.25%20L9.6648738%2C21.25%20C10.0790874%2C21.25%2010.4148738%2C21.5857864%2010.4148738%2C22%20C10.4148738%2C22.3796958%2010.1327199%2C22.693491%209.76664435%2C22.7431534%20L9.6648738%2C22.75%20L4.33297476%2C22.75%20C3.23255355%2C22.75%202.33150187%2C21.8965632%202.25522974%2C20.8154444%20L2.25%2C20.6666667%20L2.25%2C3.33333333%20C2.25%2C2.23280908%203.10320728%2C1.33152341%204.18421182%2C1.25523113%20L4.33297476%2C1.25%20L13.779983%2C1.25%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M13.6637981%2C1.25%20C14.0434938%2C1.25%2014.357289%2C1.53215388%2014.4069515%2C1.89822944%20L14.4137981%2C2%20L14.4137981%2C7.33333333%20C14.4137981%2C7.62332346%2014.6252501%2C7.86383136%2014.9022223%2C7.90903304%20L14.9967728%2C7.91666667%20L20.3286719%2C7.91666667%20C20.7428854%2C7.91666667%2021.0786719%2C8.2524531%2021.0786719%2C8.66666667%20C21.0786719%2C9.04636243%2020.796518%2C9.36015763%2020.4304424%2C9.40982005%20L20.3286719%2C9.41666667%20L14.9967728%2C9.41666667%20C13.8963516%2C9.41666667%2012.9952999%2C8.56322987%2012.9190278%2C7.4821111%20L12.9137981%2C7.33333333%20L12.9137981%2C2%20C12.9137981%2C1.58578644%2013.2495845%2C1.25%2013.6637981%2C1.25%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M8.99777572%2C9.420279%20C9.24921801%2C9.09111393%209.71989329%2C9.02810717%2010.0490584%2C9.27954946%20C10.3482993%2C9.50813337%2010.4275748%2C9.91790155%2010.2506031%2C10.2378223%20L10.1897879%2C10.3308321%20L8.25879925%2C12.8586842%20C8.01208284%2C13.1778547%207.64305532%2C13.3791966%207.21567496%2C13.4156509%20C6.86419538%2C13.4339623%206.52012946%2C13.3223779%206.23838713%2C13.0959918%20L6.12161623%2C12.9919845%20L5.12632841%2C11.9608734%20C4.838658%2C11.6628489%204.84705165%2C11.1880493%205.14507615%2C10.9003789%20C5.41600752%2C10.6388603%205.83303397%2C10.6220228%206.1227489%2C10.845033%20L6.20557062%2C10.9191266%20L7.125%2C11.871%20L8.99777572%2C9.420279%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M8.99777572%2C15.420279%20C9.24921801%2C15.0911139%209.71989329%2C15.0281072%2010.0490584%2C15.2795495%20C10.3482993%2C15.5081334%2010.4275748%2C15.9179016%2010.2506031%2C16.2378223%20L10.1897879%2C16.3308321%20L8.25879925%2C18.8586842%20C8.01208284%2C19.1778547%207.64305532%2C19.3791966%207.21567496%2C19.4156509%20C6.86419538%2C19.4339623%206.52012946%2C19.3223779%206.23838713%2C19.0959918%20L6.12161623%2C18.9919845%20L5.12632841%2C17.9608734%20C4.838658%2C17.6628489%204.84705165%2C17.1880493%205.14507615%2C16.9003789%20C5.41600752%2C16.6388603%205.83303397%2C16.6220228%206.1227489%2C16.845033%20L6.20557062%2C16.9191266%20L7.125%2C17.871%20L8.99777572%2C15.420279%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.6632602%2C11.9166667%20C16.0774738%2C11.9166667%2016.4132602%2C12.2524531%2016.4132602%2C12.6666667%20C16.4132602%2C13.0463624%2016.1311063%2C13.3601576%2015.7650308%2C13.4098201%20L15.6632602%2C13.4166667%20L12.3308233%2C13.4166667%20C11.9166098%2C13.4166667%2011.5808233%2C13.0808802%2011.5808233%2C12.6666667%20C11.5808233%2C12.2869709%2011.8629772%2C11.9731757%2012.2290528%2C11.9235133%20L12.3308233%2C11.9166667%20L15.6632602%2C11.9166667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M21.1106837%2C10.5779533%20C20.4095395%2C10.5779533%2019.7375424%2C10.8584991%2019.2444627%2C11.3570467%20L12.4669093%2C18.1364079%20C12.3622379%2C18.2411074%2012.2908946%2C18.3744435%2012.2618676%2C18.5196176%20L11.5953802%2C21.8529509%20C11.4904492%2C22.3777472%2011.953163%2C22.8404132%2012.4779485%2C22.7354279%20L15.8103854%2C22.0687612%20C15.9555979%2C22.0397109%2016.0889603%2C21.9683215%2016.1936616%2C21.8635921%20L22.9740599%2C15.0813699%20C23.4695748%2C14.5910412%2023.75%2C13.9189715%2023.75%2C13.2177778%20C23.75%2C12.516584%2023.4695748%2C11.8445143%2022.9711997%2C11.35134%20L22.8310414%2C11.2210775%20C22.3327458%2C10.7984458%2021.7321255%2C10.5779533%2021.1106837%2C10.5779533%20Z%20M21.1106837%2C12.0779533%20C21.3769595%2C12.0779533%2021.6343527%2C12.1724444%2021.8371937%2C12.3440921%20L21.9342889%2C12.4349375%20C22.129767%2C12.628969%2022.25%2C12.9171205%2022.25%2C13.2177778%20L22.242717%2C13.345678%20C22.2137413%2C13.5991981%2022.0992456%2C13.8367894%2021.9161173%2C14.0180067%20L15.293%2C20.642%20L13.287%2C21.043%20L13.688%2C19.035%20L20.3081104%2C12.4147032%20C20.5222805%2C12.1981735%2020.8102464%2C12.0779533%2021.1106837%2C12.0779533%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",iconTint:r?.iconTint||e.palette.getAccent700(),titleColor:r?.titleColor||e.palette.getAccent600(),titleFont:r?.titleFont||n.fontHelper(e.typography.subtitle1),background:r?.background||e.palette.getAccent100(),onClick:(...t)=>{this.onPollsButtonClicked(e,...t)}});return s.push(i),s}}onPollsButtonClicked(e,...t){const[o]=t;let r=o[0],s=o[1],i=this.configuration?.getCreatePollStyle(),a={placeholderTextFont:i?.placeholderTextFont||n.fontHelper(e.typography.subtitle1),placeholderTextColor:i?.placeholderTextColor||e.palette.getAccent600(),deleteIconTint:i?.deleteIconTint||e.palette.getAccent600(),titleFont:i?.titleFont||n.fontHelper(e.typography.title1),titleColor:i?.titleColor||e.palette.getAccent(),closeIconTint:i?.closeIconTint||e.palette.getPrimary(),questionInputBackground:i?.questionInputBackground||e.palette.getAccent100(),optionInputBackground:i?.optionInputBackground||e.palette.getAccent100(),answerHelpTextFont:i?.answerHelpTextFont||n.fontHelper(e.typography.caption1),answerHelpTextColor:i?.answerHelpTextColor||e.palette.getAccent400(),addAnswerIconTint:i?.addAnswerIconTint||e.palette.getPrimary(),createPollButtonTextFont:i?.createPollButtonTextFont||n.fontHelper(e.typography.text2),createPollButtonTextColor:i?.createPollButtonTextColor||e.palette.getAccent("dark"),createPollButtonBackground:i?.createPollButtonBackground||e.palette.getPrimary(),addAnswerTextFont:i?.addAnswerTextFont||n.fontHelper(e.typography.text2),addAnswerTextColor:i?.addAnswerTextColor||e.palette.getPrimary(),errorTextFont:i?.errorTextFont||n.fontHelper(e.typography.subtitle1),errorTextColor:i?.errorTextColor||e.palette.getError(),optionPlaceholderTextFont:i?.optionPlaceholderTextFont||n.fontHelper(e.typography.subtitle1),optionPlaceholderTextColor:i?.optionPlaceholderTextColor||e.palette.getAccent600(),questionInputTextFont:i?.questionInputTextFont||n.fontHelper(e.typography.subtitle2),questionInputTextColor:i?.questionInputTextColor||e.palette.getAccent600(),optionInputTextFont:i?.optionInputTextFont||n.fontHelper(e.typography.subtitle2),optionInputTextColor:i?.optionInputTextColor||e.palette.getAccent600(),width:i?.width||"360px",height:i?.height||"440px",border:i?.border||"",borderRadius:i?.borderRadius||"8px",background:i?.background||e.palette.getAccent900(),position:"absolute",zIndex:1};n.CometChatUIEvents.ccShowModal.next({child:this.getPollView(r,s,a)})}getPollView(e,t,n){return g.jsx("cometchat-backdrop",{children:g.jsx(en,{user:e,group:t,ccCloseClicked:this.triggerCloseEvent,createPollStyle:n,deleteIconURL:this.configuration?.getDeleteIconURL()||"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FDelete%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FDelete%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%223.6363627%22%20x2%3D%2220%22%20y2%3D%223.6363627%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M12.0454545%2C0%20L7.95454545%2C0%20C7.20142989%2C0%206.59090909%2C0.610520639%206.59090909%2C1.36363601%20L6.59090909%2C3.6363627%20L13.4090909%2C3.6363627%20L13.4090909%2C1.36363601%20C13.4090909%2C0.610520639%2012.7985701%2C0%2012.0454545%2C0%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%227.95454545%22%20y1%3D%2215.2272688%22%20x2%3D%227.95454545%22%20y2%3D%228.40908875%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2212.0454545%22%20y1%3D%2215.2272688%22%20x2%3D%2212.0454545%22%20y2%3D%228.40908875%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16.2363636%2C18.7454497%20C16.1838968%2C19.4542339%2015.5925391%2C20.0019341%2014.8818182%2C20%20L5.11818182%2C20%20C4.40746088%2C20.0019341%203.81610324%2C19.4542339%203.76363636%2C18.7454497%20L2.5%2C3.6363627%20L17.5%2C3.6363627%20L16.2363636%2C18.7454497%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",closeIconURL:this.configuration?.getCloseIconURL()||"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",addAnswerIconURL:this.configuration?.getAddAnswerIconURL()||"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FPlus%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FPlus%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2210%22%20y1%3D%226%22%20x2%3D%2210%22%20y2%3D%2214%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%226%22%20y1%3D%2210%22%20x2%3D%2214%22%20y2%3D%2210%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%2C10%20C0%2C15.5228475%204.4771525%2C20%2010%2C20%20C15.5228475%2C20%2020%2C15.5228475%2020%2C10%20C20%2C4.4771525%2015.5228475%2C0%2010%2C0%20C4.4771525%2C0%200%2C4.4771525%200%2C10%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E"})})}triggerCloseEvent(){n.CometChatUIEvents.ccHideModal.next()}getLastConversationMessage(e,o,r){const s=e.getLastMessage();return null!=s&&s.getType()===t.PollsConstants.extension_poll&&s.getCategory()===n.CometChatUIKitConstants.MessageCategory.custom?n.localize("CUSTOM_MESSAGE_POLL"):super.getLastConversationMessage(e,o,r)}}class nn extends Ft{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new tn(e,this.configuration)))}getExtensionId(){return t.ExtensionsId.polls}}const on=h({tagName:"smart-replies",elementClass:t.SmartReplies,react:r,events:{ccReplyClicked:"cc-reply-clicked",ccCloseClicked:"cc-close-clicked"}});class rn extends k{constructor(e,t,o){super(e),this.LISTENER_ID="smartreply__listener",this.currentMessage=null,this.configuration=t,this.theme=o||new n.CometChatTheme({}),this.addMessageListener()}addMessageListener(){s.CometChat.getLoggedinUser().then((e=>{e&&(this.loggedInUser=e)})),n.CometChatMessageEvents.onTextMessageReceived.subscribe((e=>{null!=e&&(this.currentMessage=e,e.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user&&null!=this.activeUser?null!==e.getSender()&&null!==e.getSender().getUid()&&this.activeUser.getUid()===e.getSender().getUid()&&n.CometChatUIEvents.ccShowPanel.next({configuration:this.configuration,message:e,child:this.getSmartReplyView(e),position:n.PanelAlignment.messageListFooter}):e.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group&&null!=this.activeGroup&&null!==this.activeGroup.getGuid()&&this.activeGroup.getGuid()===e.getReceiverId()&&n.CometChatUIEvents.ccShowPanel.next({configuration:this.configuration,message:e,child:this.getSmartReplyView(e),position:n.PanelAlignment.messageListFooter}))})),n.CometChatUIEvents.ccActiveChatChanged.subscribe((e=>{this.currentMessage=e.message,this.activeUser=e.user,this.activeGroup=e.group,this.currentMessage instanceof s.CometChat.TextMessage&&null!==this.currentMessage&&null!==this.currentMessage.getSender()&&null!==this.loggedInUser&&null!==this.currentMessage.getSender().getUid()&&this.currentMessage.getSender().getUid()!==this.loggedInUser.getUid()&&n.CometChatUIEvents.ccShowPanel.next({configuration:this.configuration,message:this.currentMessage,child:this.getSmartReplyView(this.currentMessage)})})),n.CometChatMessageEvents.ccMessageSent.subscribe((()=>{n.CometChatUIEvents.ccHidePanel.next(n.PanelAlignment.messageListFooter),this.currentMessage=null}))}getReplies(e){let n=e;const o=n?.metadata?.[t.SmartRepliesConstants.injected]?.extensions?.[t.SmartRepliesConstants.smart_reply];if(o?.reply_positive&&o?.reply_neutral&&o?.reply_negative){const{reply_positive:e,reply_neutral:t,reply_negative:n}=o;return[e,t,n]}return null}getSmartReplyStyle(){const e=this.configuration?.getSmartRepliesStyle();return{replyTextFont:e?.replyTextFont||n.fontHelper(this.theme.typography.caption1),replyTextColor:e?.replyTextColor||this.theme?.palette.getAccent(),replyBackground:e?.replyBackground||"inherit",boxShadow:e?.boxShadow||`0px 0px 1px ${this.theme?.palette.getAccent600()}`,closeIconTint:e?.closeIconTint||this.theme?.palette.getAccent600(),background:e?.background||"inherit",width:e?.width||"100%",height:e?.height||"100%",border:e?.border||"none",display:"flex",justifyContent:"flex-start"}}sendSmartReply(e){let o=this.activeUser?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group,r=e?.detail?.reply,i=this.currentMessage;if(r&&r.trim().length>0&&i){let e;if(i.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user)e=new s.CometChat.TextMessage(i.getSender().getUid(),r.trim(),o),e.setReceiver(this.activeUser);else{const t=i.getReceiver();e=new s.CometChat.TextMessage(t.getGuid(),r.trim(),o),e.setReceiver(this.activeGroup)}i.getParentMessageId()>0&&e.setParentMessageId(i.getParentMessageId()),e.setCategory(n.CometChatUIKitConstants.MessageCategory.message),e.setSender(this.loggedInUser),e.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),e.setMuid(t.CometChatUIKitUtility.ID()),n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.inprogress}),s.CometChat.sendMessage(e).then((e=>{n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success})}),(t=>{e.setMetadata({error:!0}),n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.error})}))}}closeSmartReply(){n.CometChatUIEvents.ccHidePanel.next(n.PanelAlignment.messageListFooter),this.currentMessage=null}getSmartReplyButtonStyle(){return{background:"inherit"}}getSmartReplyView(e){return this.getReplies(e)?g.jsx("div",{className:"cc-messagelist__smartreplies",style:{width:"100%",background:"inherit"},children:g.jsx(on,{smartReplyStyle:this.getSmartReplyStyle(),replies:this.getReplies(e)??void 0,ccReplyClicked:t=>{t.msg=e,this.sendSmartReply(t)},ccCloseClicked:this.closeSmartReply})}):null}getId(){return"smartreply"}}class sn extends Ft{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new rn(e,this.configuration,this.theme)))}getExtensionId(){return t.ExtensionsId.smartReply}}const an=h({tagName:"stickers-keyboard",elementClass:t.StickersKeyboard,react:r,events:{ccStickerClicked:"cc-sticker-clicked"}}),ln=h({tagName:"cometchat-image-bubble",elementClass:o.CometChatImageBubble,react:r});class cn extends k{constructor(e,t){super(e),this.showStickerKeyboard=!1,this.newDataSource=e,this.configuration=t}getDataSource(){return this.newDataSource}getAllMessageTemplates(e,n){this.theme=e;let o=super.getAllMessageTemplates(this.theme,n);return this.checkIfTemplateExist(o,t.StickersConstants.sticker)||o.push(this.getStickerTemplate(this.theme)),o}getAuxiliaryOptions(e,t,n,o){this.id=e,this.user=n,this.group=o;let r=super.getAuxiliaryOptions(e,t,n,o);return r.push(this.getStickerAuxiliaryButton(e,t,n,o)),r}getStickerAuxiliaryButton(e,t,r,s){let i=this.configuration?.getStickersStyle(),a={height:i?.sticketButtonHeight||"24px",width:i?.stickerButtonWidth||"24px",border:"none",borderRadius:"0",buttonIconTint:i?.stickerButtonIconTint||t.palette.getAccent500(),background:"transparent"},l=new o.PopoverStyle({width:i?.width||"300px",height:i?.height||"400px",background:t?.palette?.getBackground(),borderRadius:"12px",boxShadow:"0px 0px 0px 1px rgba(20, 20, 20, 0.04), 0px 16px 32px 0px rgba(20, 20, 20, 0.2)"}),c={width:i?.width||"300px",height:i?.height||"400px",border:i?.border||"none",emptyStateTextFont:i?.emptyStateTextFont||n.fontHelper(t.typography.title1),emptyStateTextColor:i?.emptyStateTextColor||t.palette.getAccent600(),errorStateTextFont:i?.errorStateTextFont||n.fontHelper(t.typography.title1),errorStateTextColor:i?.errorStateTextColor||t.palette.getAccent600(),loadingIconTint:i?.loadingIconTint||t.palette.getAccent600(),background:i?.background||t.palette.getBackground(),borderRadius:i?.borderRadius||"12px"},C=this.configuration?.getStickerIconURL()||"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FStickers%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FStickers%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M5.67349142%2C7.33338221%20C5.86012572%2C7.33338221%206.01142272%2C7.48460989%206.01142272%2C7.67115869%20C6.01142272%2C7.85770748%205.86012572%2C8.00893516%205.67349142%2C8.00893516%20C5.48685711%2C8.00893516%205.33556012%2C7.85770748%205.33556012%2C7.67115869%20C5.33556012%2C7.58157479%205.37116349%2C7.49566003%205.4345379%2C7.43231465%20C5.49791231%2C7.36896927%205.58386646%2C7.33338221%205.67349142%2C7.33338221%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4.23283692%2C13.0400269%20C5.36112225%2C15.1816508%207.58282264%2C16.5229567%2010.0043478%2C16.5244579%20C10.2778756%2C16.5227578%2010.5510655%2C16.5049493%2010.8224973%2C16.4711247%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M20%2C9.57337357%20C19.7666207%2C4.11103074%2015.187631%2C-0.151378825%209.72001617%2C0.00412271646%20C4.25240139%2C0.159624258%20-0.0767041446%2C4.67538425%200.00103066029%2C10.1421537%20C0.0787654651%2C15.6089231%204.5345202%2C20%2010.0043478%2C20%20L10.4489943%2C20%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M12.1831154%2C7.92004661%20C12.559175%2C7.32283168%2013.215699%2C6.96047481%2013.921683%2C6.96047481%20C14.6276671%2C6.96047481%2015.2841911%2C7.32283168%2015.6602507%2C7.92004661%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2220%22%20y1%3D%229.57337357%22%20x2%3D%2210.4489943%22%20y2%3D%2219.9911111%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M10.4489943%2C19.9911111%20L10.4489943%2C19.1022257%20C10.4588042%2C13.8367116%2014.7320632%2C9.57337357%2020%2C9.57337357%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",d=this.configuration?.getCloseIconURL()||"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";return g.jsxs("cometchat-popover",{placement:n.Placement.top,popoverStyle:JSON.stringify(l),children:[g.jsx("div",{slot:"children",children:g.jsx("cometchat-button",{hoverText:n.localize("STICKER"),iconURL:this.showStickerKeyboard?d:C,buttonStyle:JSON.stringify(a)})}),g.jsx("div",{slot:"content",children:g.jsx(an,{stickerStyle:c,ccStickerClicked:e=>this.sendSticker(e)})})]},"stickers-extension-popover")}sendSticker(e){try{let o=e?.detail,r={name:o?.stickerName,URL:o?.stickerURL};const i=this.user?.getUid()||this.group?.getGuid(),a=this.user?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group,{parentMessageId:l}=this.id,c={sticker_url:r.URL,sticker_name:r.name},C=t.StickersConstants.sticker,g=new s.CometChat.CustomMessage(i,a,C,c);l&&g.setParentMessageId(l),g.setMetadata({incrementUnreadCount:!0}),g.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),g.setMuid(t.CometChatUIKitUtility.ID()),n.CometChatMessageEvents.ccMessageSent.next({message:g,status:n.MessageStatus.inprogress}),s.CometChat.sendCustomMessage(g).then((e=>{n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success})}),(e=>{g.setMetadata({error:!0}),n.CometChatMessageEvents.ccMessageSent.next({message:g,status:n.MessageStatus.error})}))}catch(e){console.log("error in sending sticker",e)}}getSticker(e){let n;return t.CometChatUIKitUtility.checkHasOwnProperty(e,t.StickersConstants.data)&&t.CometChatUIKitUtility.checkHasOwnProperty(e.getData(),t.StickersConstants.custom_data)?(n=e.getCustomData(),t.CometChatUIKitUtility.checkHasOwnProperty(n,t.StickersConstants.sticker_url)?n?.sticker_url:""):""}getStickerMessageContentView(e,t){return g.jsx(ln,{src:this.getSticker(e),imageStyle:{height:"128px",width:"128px",border:"none",borderRadius:"0",background:"transparent"}})}getStickerTemplate(e){return new n.CometChatMessageTemplate({type:t.StickersConstants.sticker,category:n.CometChatUIKitConstants.MessageCategory.custom,contentView:(t,n)=>{let o=t;return o.getDeletedAt()?super.getDeleteMessageBubble(o,e):this.getStickerMessageContentView(o,e)},options:(e,t,n,o)=>super.getCommonOptions(e,t,n,o),bottomView:(e,t)=>I.getDataSource().getBottomView(e,t)})}checkIfTemplateExist(e,t){return e.some((e=>e.type===t))}getAllMessageCategories(){let e=super.getAllMessageCategories();return e.some((e=>e===n.CometChatUIKitConstants.MessageCategory.custom))||e.push(n.CometChatUIKitConstants.MessageCategory.custom),e}getAllMessageTypes(){let e=super.getAllMessageTypes();return e.some((e=>e===t.StickersConstants.sticker))||e.push(t.StickersConstants.sticker),e}getId(){return"stickers"}getLastConversationMessage(e,o,r){const s=e.getLastMessage();return null!=s&&s.getType()===t.StickersConstants.sticker&&s.getCategory()===n.CometChatUIKitConstants.MessageCategory.custom?n.localize("CUSTOM_MESSAGE_STICKER"):super.getLastConversationMessage(e,o,r)}}class Cn extends Ft{constructor(e){super(),this.configuration=e}addExtension(){I.enable((e=>new cn(e,this.configuration)))}getExtensionId(){return t.ExtensionsId.stickers}}class gn extends k{getId(){return"textmoderator"}getModeratedtext(e){let n=t.CometChatUIKitUtility.getExtensionData(e);return n?.trim()?.length>0?n:e.getText()}getLastConversationMessage(e,o,r){const i=e.getLastMessage();if(i&&!i.getDeletedAt()&&i.getType()===n.CometChatUIKitConstants.MessageTypes.text&&i.getCategory()===n.CometChatUIKitConstants.MessageCategory.message){let o=this.getModeratedtext(i),a=e.getLastMessage(),l={...r,textFormatters:r?.textFormatters&&r?.textFormatters.length?[...r.textFormatters]:[this.getMentionsTextFormatter({theme:r.theme,disableMentions:r.disableMentions})]},c=l.textFormatters;if(l&&!l.disableMentions){let e;for(let n=0;n<c.length&&!(c[n]instanceof t.CometChatMentionsTextFormatter&&(e=c[n],e.setMessage(a),a.getMentionedUsers().length&&e.setCometChatUserGroupMembers(a.getMentionedUsers()),e.setLoggedInUser(t.CometChatUIKitLoginListener.getLoggedInUser()),e));n++);e||(e=I.getDataSource().getMentionsTextFormatter({messageObj:a,...l,alignment:null,theme:r.theme}),c.push(e))}if(a&&a instanceof s.CometChat.TextMessage)for(let e=0;e<c.length;e++)o=c[e].getFormattedText(o,{mentionsTargetElement:n.MentionsTargetElement.conversation});return i&&e?.getConversationType()!=s.CometChat.RECEIVER_TYPE.USER&&(o=i?.getSender().getUid()==t.CometChatUIKitLoginListener?.getLoggedInUser()?.getUid()?`${n.localize("YOU")}: ${o}`:`${i?.getSender().getName()}:  ${o}`),o}return super.getLastConversationMessage(e,o,r)}getTextMessageContentView(e,t,n,o){let r=this.getModeratedtext(e);return this.getModeratedtext(e)!==e.getText()&&e.setText(r),super.getTextMessageContentView(e,t,n,o)}}class dn extends Ft{addExtension(){I.enable((e=>new gn(e)))}getExtensionId(){return t.ExtensionsId.profanityFilter}enable(){const e=s.CometChat.isExtensionEnabled(t.ExtensionsId.profanityFilter),n=s.CometChat.isExtensionEnabled(t.ExtensionsId.dataMasking);Promise.all([e,n]).then((e=>{e.includes(!0)&&this.addExtension()})).catch((e=>{}))}}class un extends k{getId(){return"thumbnailgeneration"}getImageMessageBubble(e,t,n,o,r,s){if(I.names.includes("imagemoderation"))return super.getImageMessageBubble(e,t,n,o);{let e=n.getAttachments()[0].getUrl(),t=n.getMetadata();return t&&t.hasOwnProperty("@injected")&&t["@injected"].hasOwnProperty("extensions")&&t["@injected"].extensions.hasOwnProperty("thumbnail-generation")&&t["@injected"].extensions["thumbnail-generation"].url_small&&(e=t["@injected"].extensions["thumbnail-generation"].url_small),super.getImageMessageBubble(e,"data:image/png;base64,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",n,o)}}getVideoMessageBubble(e,t,n,o,r,s){let i=t.getMetadata(),a=o;return i&&i.hasOwnProperty("@injected")&&i["@injected"].hasOwnProperty("extensions")&&i["@injected"].extensions.hasOwnProperty("thumbnail-generation")&&i["@injected"].extensions["thumbnail-generation"].url_small&&(a=i["@injected"].extensions["thumbnail-generation"].url_small),super.getVideoMessageBubble(e,t,n,a)}}class pn extends Ft{addExtension(){I.enable((e=>new un(e)))}getExtensionId(){return t.ExtensionsId.thumbnailGeneration}}class hn{static init(e){if(hn.uiKitSettings=e,!hn.checkAuthSettings())return;const n=new s.CometChat.AppSettingsBuilder;e.getRoles()?n.subscribePresenceForRoles(e.getRoles()):"ALL_USERS"===e.getSubscriptionType()?n.subscribePresenceForAllUsers():"FRIENDS"===e.getSubscriptionType()&&n.subscribePresenceForFriends(),n.autoEstablishSocketConnection(e.isAutoEstablishSocketConnection()),n.setRegion(e.getRegion()),n.overrideAdminHost(e.getAdminHost()),n.overrideClientHost(e.getClientHost());const o=n.build();return s.CometChat.setSource&&s.CometChat.setSource("uikit-v4","web","reactjs"),t.CometChatUIKitSharedSettings.uikitSettings=hn.uiKitSettings,new Promise(((n,r)=>{window.CometChatUiKit={name:"@cometchat/chat-uikit-react",version:"4.3.2"},s.CometChat.init(e?.appId,o).then((()=>{s.CometChat.getLoggedinUser().then((e=>(e&&(t.CometChatUIKitLoginListener.setLoggedInUser(e),I.init(),this.initiateAfterLogin()),n(e)))).catch((e=>(console.log(e),r(e))))})).catch((e=>r(e)))}))}static enableCalling(){try{if(t.CometChatUIKitCalls){const e=(new t.CometChatUIKitCalls.CallAppSettingsBuilder).setAppId(hn.uiKitSettings?.appId).setRegion(hn.uiKitSettings?.region).build();t.CometChatUIKitCalls.init(e).then((()=>{(new kt).enable()}),(e=>{console.log("CometChatCalls initialization failed with error:",e)}))}}catch(e){console.log(e)}}static initiateAfterLogin(){if(null!=hn.uiKitSettings){let e=this.uiKitSettings?.extensions||this.defaultExtensions;n.ChatSdkEventInitializer.attachListeners(),t.CometChatUIKitLoginListener.attachListener();let o=this.uiKitSettings?.aiFeatures||this.defaultAIFeatures;e.length>0&&e.forEach((e=>{e?.enable()})),o.length>0&&o.forEach((e=>{e.enable()})),this.enableCalling()}}static login(e){return new Promise(((n,o)=>{if(!hn.checkAuthSettings())return o("uiKitSettings not available");hn.getLoggedinUser()?.then((r=>{if(r)return t.CometChatUIKitLoginListener.setLoggedInUser(r),this.initiateAfterLogin(),n(r);s.CometChat.login(e,hn.uiKitSettings.authKey).then((e=>(t.CometChatUIKitLoginListener.setLoggedInUser(e),I.init(),t.CometChatUIKitLoginListener.setLoggedInUser(e),this.initiateAfterLogin(),n(e)))).catch((e=>o(e)))}))}))}static loginWithAuthToken(e){return new Promise(((n,o)=>{if(!hn.checkAuthSettings())return o("uiKitSettings not available");s.CometChat.login(e).then((e=>(t.CometChatUIKitLoginListener.setLoggedInUser(e),I.init(),this.initiateAfterLogin(),n(e)))).catch((e=>o(e)))}))}static getLoggedinUser(){return new Promise(((e,n)=>{if(!hn.checkAuthSettings())return n("uiKitSettings not available");s.CometChat.getLoggedinUser().then((n=>(n&&t.CometChatUIKitLoginListener.setLoggedInUser(n),e(n)))).catch((e=>n(e)))}))}static createUser(e){return new Promise(((t,n)=>{if(!hn.checkAuthSettings())return n("uiKitSettings not available");s.CometChat.createUser(e,hn.uiKitSettings.authKey).then((e=>t(e))).catch((e=>n(e)))}))}static updateUser(e){return new Promise(((t,n)=>{if(!hn.checkAuthSettings())return n("uiKitSettings not available");s.CometChat.updateUser(e,hn.uiKitSettings.authKey).then((e=>t(e))).catch((e=>n(e)))}))}static logout(){return new Promise(((e,n)=>{if(!hn.checkAuthSettings()){return n({code:"ERROR_UIKIT_NOT_INITIALISED",message:"UIKItSettings not available"})}s.CometChat.logout().then((n=>(t.CometChatUIKitLoginListener.removeLoggedInUser(),e(n)))).catch((e=>n(e)))}))}static checkAuthSettings(){return null!=hn.uiKitSettings&&null!=hn.uiKitSettings.appId}static sendFormMessage(e,t=!1){t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.inprogress}),s.CometChat.sendInteractiveMessage(e).then((e=>{t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success})})).catch((o=>{e.setMetadata({error:o}),t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.error})}))}static sendCardMessage(e,t=!1){t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.inprogress}),s.CometChat.sendInteractiveMessage(e).then((e=>{t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success})})).catch((o=>{e.setMetadata({error:o}),t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.error})}))}static sendCustomInteractiveMessage(e,t=!1){t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.inprogress}),s.CometChat.sendInteractiveMessage(e).then((e=>{t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success})})).catch((o=>{e.setMetadata({error:o}),t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.error})}))}static sendCustomMessage(e){return new Promise(((t,o)=>{n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.inprogress}),s.CometChat.sendCustomMessage(e).then((e=>(n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success}),t(e)))).catch((t=>(e.setMetadata({error:t}),n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.error}),o(t))))}))}static sendTextMessage(e){return new Promise(((t,o)=>{n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.inprogress}),s.CometChat.sendMessage(e).then((e=>(n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success}),t(e)))).catch((t=>(e.setMetadata({error:t}),n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.error}),o(t))))}))}static sendMediaMessage(e){return new Promise(((t,o)=>{n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.inprogress}),s.CometChat.sendMediaMessage(e).then((e=>(n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success}),t(e)))).catch((t=>(e.setMetadata({error:t}),n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.error}),o(t))))}))}static sendSchedulerMessage(e,t=!1){return new Promise(((o,r)=>{t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.inprogress}),s.CometChat.sendInteractiveMessage(e).then((e=>{t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.success}),o(e)})).catch((o=>{e.setMetadata({error:o}),t||n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.error}),r(o)}))}))}static getDataSource(){return I.getDataSource()}}hn.SoundManager=t.CometChatSoundManager,hn.Localize=n.CometChatLocalize,hn.defaultExtensions=[new Cn,new sn,new Ot,new Lt,new qt,new dn,new pn,new Yt,new nn,new Kt],hn.defaultAIFeatures=[new at,new Qe,new Ze,new Me];const mn=(e,t)=>{let o;return o=t===n.TabAlignment.top||t===n.TabAlignment.left?{top:"0",left:"0"}:t===n.TabAlignment.bottom?{bottom:"2px",left:"2px"}:{top:"0",right:"0"},{...o,position:"absolute",zIndex:"2",height:e?.tabListHeight||"100%",width:e?.tabListWidth||"100%",border:e?.tabListBorder||"0 none",borderRadius:e?.tabListBorderRadius||"0",background:e?.tabListBackground||"transparent",boxShadow:e?.tabListBoxShadow||"0",padding:e?.tabListPadding||"0",boxSizing:"border-box"}};function An(e){return{height:e?.tabPaneHeight||"100%",width:e?.tabPaneWidth||"100%",display:"flex",position:"absolute",bottom:"0"}}const xn=(e,t,o,r)=>{let s=o?.id===t?.id,i=t?.style,a=e===n.TabAlignment.top||e===n.TabAlignment.bottom?"row":"column",l=i?.borderRadius,c="first"===r?`${l} 0 0 ${l}`:"last"===r?`0 ${l} ${l} 0`:"0";s&&i.activeBorderRadius&&(c=i.activeBorderRadius);let C="0";return s&&i?.boxShadow&&(C=i.boxShadow),{display:"flex",flexDirection:a,justifyContent:"center",width:i?.width,height:i?.height,backgroundColor:s?i?.activeBackground??i?.background:i?.background,borderRadius:c,boxShadow:C}},bn=e=>{let{borderRadius:t}=e??{};return{height:"100%",width:"100%",borderRadius:t}};function yn(e,t){return e.id!==t?.id?{display:"none"}:{display:"flex",height:"100%",width:"100%"}}const fn={tabAlignment:n.TabAlignment.bottom,tabsStyle:{},tabs:[],keepAlive:!1,tabIconAlignment:n.IconButtonAlignment.top},wn=h({tagName:"cometchat-icon-button",elementClass:o.CometChatIconButton,react:r,events:{ccButtonClicked:"cc-button-clicked"}}),Dn=e=>{const{tabAlignment:t,tabIconAlignment:n,tabsStyle:o,tabs:s,keepAlive:i}=e,[a,l]=r.useState(null),[c,C]=r.useState(""),d=r.useRef(null),u=r.useCallback((e=>{if(s&&s.length>0){d.current=null;let t=s.findIndex((t=>t.id===e.id));t>-1&&(l(e),C(e.id),d.current=s[t].childView)}}),[d,s]);r.useEffect((()=>{if(c){const e=s?.find((e=>e.id===c));e&&u(e)}else{const e=s?.find((e=>e.isActive));e&&u(e)}}),[c,u,s]);const p=r.useCallback((e=>{const{style:t,iconURL:n}=e||{},{id:o}=a||{};return((e,t,n)=>({background:"inherit",buttonTextFont:t?e?.activeTitleTextFont??e?.titleTextFont:e?.titleTextFont,buttonTextColor:t?e?.activeTitleTextColor??e?.titleTextColor:e?.titleTextColor,buttonIconTint:t?e?.activeIconTint??e?.iconTint:e?.iconTint,height:"100%",width:"100%",border:e?.border,borderRadius:e?.borderRadius,gap:"8px",padding:"0",justifyContent:n?"":"center"}))(t,o===e?.id,n)}),[a]),h=r.useCallback((()=>s?.map(((e,o)=>{const r=0===o?"first":o===s.length-1?"last":"";let i=`${e.id}-${Math.floor(10*Math.random()+1)}`;return g.jsx("div",{className:"cc-tab-item",style:xn(t,e,a,r),children:g.jsx(wn,{alignment:n,iconURL:e.iconURL,text:e.title,buttonStyle:p(e),ccButtonClicked:t=>u(e)})},i)}))),[a]),m=r.useCallback((()=>i?s.map((e=>g.jsx("div",{className:"cc-tab-pane-content",style:yn(e,a),children:e?.childView?g.jsx("div",{className:"cc-tab-pane-content-view",style:bn(o),children:e?.childView}):null},e.id))):d?.current?g.jsx("div",{className:"cc-tab-pane-content",style:bn(o),children:d?.current}):null),[a]);return g.jsxs("div",{className:"cc-tabs",style:(A=o,{height:A?.height||"100%",width:A?.width||"100%",borderRadius:A?.borderRadius||"0",border:A?.border||"0 none",background:A?.background||"transparent",display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative"}),children:[g.jsx("div",{className:"cc-tab-list",style:mn(o,t),children:g.jsx("div",{className:"cc-tab-item__wrapper",style:{display:"flex",justifyContent:"center",height:"100%",width:"100%"},children:h()})}),g.jsx("div",{className:"cc-tab-pane",style:An(o),children:m()})]});var A};Dn.defaultProps=fn;class En{constructor(e){let{style:t,createPollStyle:n,createPollIconURL:o,deleteIconURL:r,closeIconURL:s,optionIconURL:i,addAnswerIconURL:a,optionStyle:l}=e;this.style=t,this.createPollStyle=n,this.createPollIconURL=o,this.deleteIconURL=r,this.closeIconURL=s,this.optionIconURL=i,this.addAnswerIconURL=a,this.optionStyle=l}getPollsBubbleStyle(){return this.style}getCreatePollStyle(){return this.createPollStyle}getCreatePollIconURL(){return this.createPollIconURL}getDeleteIconURL(){return this.deleteIconURL}getCloseIconURL(){return this.closeIconURL}getOptionIconURL(){return this.optionIconURL}getAddAnswerIconURL(){return this.addAnswerIconURL}getOptionStyle(){return this.optionStyle}}const vn=e=>({height:e?.height,width:e?.width,background:e?.background,border:e?.border,borderRadius:e?.borderRadius,padding:"8px",position:"absolute",left:"8px",top:"8px",minHeight:"95px",minWidth:"230px",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"flex-start",gap:"8px",alignItems:"flex-start"}),Sn={display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"6px"},In=e=>({textFont:e?.subtitleTextFont,textColor:e?.subtitleTextColor}),Fn={width:"100%",marginLeft:"-4px"},kn={position:"relative"},Tn={display:"flex",gap:"8px",paddingLeft:"8px",paddingRight:"8px"},Mn={height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"8px 28px"},Bn=e=>new o.AvatarStyle({borderRadius:"16px",width:"38px",height:"38px",border:"none",backgroundColor:e.palette.getAccent700(),nameTextColor:e.palette.getAccent900(),backgroundSize:"cover",nameTextFont:n.fontHelper(e.typography.subtitle1)}),Ln=e=>new t.IncomingCallStyle({width:"fit-content",height:"fit-content",background:e.palette.getAccent800(),border:"none",borderRadius:"8px",titleTextFont:n.fontHelper(e.typography.title2),titleTextColor:e.palette.getAccent("dark"),subtitleTextFont:n.fontHelper(e.typography.subtitle2),subtitleTextColor:e.palette.getAccent("dark"),acceptButtonTextFont:n.fontHelper(e.typography.text2),acceptButtonTextColor:e.palette.getAccent("dark"),acceptButtonBackground:e.palette.getPrimary(),acceptButtonBorderRadius:"8px",acceptButtonBorder:"none",declineButtonTextFont:n.fontHelper(e.typography.text2),declineButtonTextColor:e.palette.getAccent("dark"),declineButtonBackground:e.palette.getError(),declineButtonBorderRadius:"8px",declineButtonBorder:"none"}),Rn=(e,t)=>new o.ListItemStyle({height:"100%",width:"100%",background:"transparent",activeBackground:"transparent",borderRadius:"0",titleFont:e?.titleTextFont,titleColor:e?.titleTextColor,border:"none",separatorColor:t.palette.getAccent200(),hoverBackground:"transparent"}),Un=e=>new o.CallscreenStyle({maxHeight:"100%",maxWidth:"100%",border:"none",borderRadius:"0",background:"#1c2226",minHeight:"400px",minWidth:"400px",minimizeIconTint:e.palette.getAccent900(),maximizeIconTint:e.palette.getAccent900()});function Pn(e,t){const n=e.getInitiator()?.getUid();return!n||n===t?.getUid()}function On(e,t){const o=e.getStatus(),r=Pn(e,t);if(r&&o===n.CometChatUIKitConstants.calls.unanswered)return!1;const s=[n.CometChatUIKitConstants.calls.unanswered,n.CometChatUIKitConstants.calls.cancelled,n.CometChatUIKitConstants.calls.busy,n.CometChatUIKitConstants.calls.rejected];return!r&&s.includes(o)}function jn(e,t){return e.getInitiator().getUid()===t.getUid()?e.getReceiver():e.getInitiator()}function Gn(e,t,o=!1){if(!e||!t)return"";let r="";const s=e.getStatus(),i=Pn(e,t),a="_";if(On(e,t))r=`MISSED${a}CALL`;else switch(s){case n.CometChatUIKitConstants.calls.initiated:r=i?`OUTGOING${a}CALL`:`INCOMING${a}CALL`;break;case n.CometChatUIKitConstants.calls.ongoing:r=`ONGOING${a}CALL`;break;case n.CometChatUIKitConstants.calls.ended:r=i?`OUTGOING${a}CALL`:`INCOMING${a}CALL`;break;case n.CometChatUIKitConstants.calls.unanswered:r=i?`UNANSWERED${a}CALL`:`MISSED${a}CALL`;break;case n.CometChatUIKitConstants.calls.cancelled:r=i?`CANCELLED${a}CALL`:`MISSED${a}CALL`;break;case n.CometChatUIKitConstants.calls.rejected:r=i?`REJECTED${a}CALL`:`MISSED${a}CALL`;break;case n.CometChatUIKitConstants.calls.busy:r=i?`UNANSWERED${a}CALL`:`MISSED${a}CALL`;break;default:r=`INCOMING${a}CALL`}return n.localize(r)}function Vn(e){const t=Math.floor(e/60),n=Math.floor(e%60),o=Math.floor(60*(e-Math.floor(e)));let r="",s="",i="";return t>0&&(r=`${t}h`),n>0&&(s=`${n}m`),o>=0&&(i=`${o}s`),`${r} ${s} ${i}`}function Hn(e,t){return{display:"flex",color:t?.callStatusTextColor||e.palette.getAccent600(),font:t?.callStatusTextFont||n.fontHelper(e.typography.caption1),alignItems:"center",gap:"4px"}}function Qn(e,t){return new o.AvatarStyle({borderRadius:t?.borderRadius||"24px",width:t?.width||"36px",height:t?.height||"36px",border:t?.border||"none",backgroundColor:t?.backgroundColor||e.palette.getAccent700(),nameTextColor:t?.nameTextColor||e.palette.getAccent900(),backgroundSize:t?.backgroundSize||"cover",nameTextFont:t?.nameTextFont||n.fontHelper(e.typography.subtitle1),outerViewBorderWidth:t?.outerViewBorderWidth||"",outerViewBorderSpacing:t?.outerViewBorderSpacing||"",outerViewBorderColor:t?.outerViewBorderColor||"",outerViewBorderRadius:t?.outerViewBorderRadius||""})}function Nn(e,t,r,s){const i=On(e,s)?t.palette.getError():t.palette.getAccent();return new o.ListItemStyle({height:r?.height||"50px",width:r?.width||"100%",background:r?.background||t.palette.getBackground(),activeBackground:r?.activeBackground||t.palette.getAccent100(),borderRadius:r?.borderRadius||"0",titleFont:r?.titleFont||n.fontHelper(t.typography.title2),titleColor:r?.titleColor||i,border:r?.border||"none",separatorColor:r?.separatorColor||t.palette.getAccent200(),hoverBackground:r?.hoverBackground||t.palette.getAccent50(),padding:r?.padding||"0"})}function Kn(e,t){return{height:t?.height||"100%",width:t?.width||"100%",background:t?.background||e.palette.getBackground(),borderRadius:t?.borderRadius||"0",border:t?.border||"none"}}function zn(e,o){return new t.ListStyle({height:"100%",titleTextFont:o.titleFont||n.fontHelper(e.typography.title1),titleTextColor:o.titleColor||e.palette.getAccent(),emptyStateTextColor:o.emptyStateTextColor||e.palette.getAccent600(),emptyStateTextFont:o.emptyStateTextFont||n.fontHelper(e.typography.caption1),errorStateTextColor:o.errorStateTextColor||e.palette.getAccent600(),errorStateTextFont:o.errorStateTextFont||n.fontHelper(e.typography.caption1),loadingIconTint:o.loadingIconTint||e.palette.getAccent600()})}function _n(e,t){return{textColor:t?.dateTextColor||e.palette.getAccent500(),textFont:t?.dateTextFont||n.fontHelper(e.typography.caption1),background:"transparent"}}function Jn(e,t,n,o){let r;return r=On(e,o)?n?.missedCallIconTint||t.palette.getAccent600():e.getInitiator().getUid()===o.getUid()?n?.outgoingCallIconTint||t.palette.getAccent600():n?.incomingCallIconTint||t.palette.getAccent600(),{height:"18px",width:"18px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:r}}function Yn(e,t){return{height:"20px",width:"20px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:t?.infoIconTint||e.palette.getPrimary()}}function Wn(e,t){return{textFont:t?.dateSeparatorTextFont||n.fontHelper(e.typography.text2),textColor:t?.dateSeparatorTextColor||e.palette.getAccent700(),background:"transparent",padding:"0"}}var Zn="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function Xn(e){const{id:t,avatarURL:o,avatarName:s,statusIndicatorColor:i,statusIndicatorIcon:a,title:l,isActive:c,subtitleView:C,tailView:d,menuView:u,hideSeparator:p,avatarStyle:h,statusIndicatorStyle:m,listItemStyle:A,onClick:x,subtitleViewClassName:b,tailViewClassName:y,menuViewClassName:f,loadingIconURL:w=Zn,userPresencePlacement:D=n.UserPresencePlacement.bottom}=e,E=r.useRef();function v(e){return void 0!==e?{className:e}:{}}function S(e,t){return e?{[t]:JSON.stringify(e)}:{}}return function(e){const{ref:t,onListItemClickPropRef:n}=e;r.useEffect((()=>{const e=t.current,o="cc-listitem-clicked",r=e=>n.current?.(e);return e.addEventListener(o,r),()=>{e.removeEventListener(o,r)}}),[t,n])}({ref:E,onListItemClickPropRef:Ce(x)}),g.jsxs("cometchat-list-item",{ref:E,id:t,avatarURL:o,avatarName:s,title:l,statusIndicatorColor:i,statusIndicatorIcon:a,loadingIconURL:w,userPresencePlacement:D,...c?{isActive:c}:{},...p?{hideSeparator:p}:{},...S(h,"avatarStyle"),...S(m,"statusIndicatorStyle"),...S(A,"listItemStyle"),children:[C?g.jsx("div",{slot:"subtitleView",...v(b),children:C}):null,d?g.jsx("div",{slot:"tailView",...v(y),children:d}):null,u?g.jsx("div",{slot:"menuView",...v(f),children:u}):null]})}const qn={title:n.localize("CALLS"),titleAlignment:n.TitleAlignment.left,listItemView:null,subtitleView:null,tailView:null,emptyStateView:null,errorStateView:null,loadingStateView:null,emptyStateText:n.localize("NO_CALLS_FOUND"),errorStateText:n.localize("SOMETHING_WRONG"),loadingIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",incomingAudioCallIconUrl:"data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M3.78531%209.33083L4.34856%209.89458C4.64141%2010.1873%205.03856%2010.3518%205.45265%2010.3518C5.86675%2010.3518%206.2639%2010.1873%206.55675%209.89458L7.38496%209.06639C7.45752%208.99388%207.51508%208.90778%207.55435%208.81301C7.59362%208.71825%207.61383%208.61667%207.61383%208.51409C7.61383%208.41151%207.59362%208.30993%207.55435%208.21517C7.51508%208.1204%207.45752%208.0343%207.38496%207.96179L5.77488%206.35123C5.69603%206.27169%205.601%206.21005%205.49623%206.17048C5.39146%206.13091%205.27941%206.11434%205.16767%206.1219C5.05593%206.12945%204.94713%206.16095%204.84864%206.21426C4.75015%206.26757%204.66428%206.34145%204.59686%206.43087C2.90974%208.72127%203.93211%2011.1335%206.00548%2013.2073C8.07886%2015.2812%2010.4927%2016.3025%2012.7847%2014.6154C12.8739%2014.5477%2012.9475%2014.4617%2013.0005%2014.3631C13.0536%2014.2645%2013.0848%2014.1556%2013.092%2014.0439C13.0993%2013.9322%2013.0824%2013.8202%2013.0426%2013.7155C13.0028%2013.6109%2012.9409%2013.516%2012.8612%2013.4374L11.2506%2011.8268C11.1781%2011.7543%2011.092%2011.6967%2010.9972%2011.6574C10.9025%2011.6182%2010.8009%2011.598%2010.6983%2011.598C10.5957%2011.598%2010.4941%2011.6182%2010.3994%2011.6574C10.3046%2011.6967%2010.2185%2011.7543%2010.146%2011.8268L9.31778%2012.655C9.17274%2012.8%209.05768%2012.9722%208.97918%2013.1617C8.90068%2013.3512%208.86028%2013.5543%208.86028%2013.7594C8.86028%2013.9645%208.90068%2014.1676%208.97918%2014.357C9.05768%2014.5465%209.17274%2014.7187%209.31778%2014.8637L9.89039%2015.4332%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M10.3872%208.82531L15.4626%203.75%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M13.5105%208.82517H10.3872V5.7019%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",incomingVideoCallIconUrl:"data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M3.43018%2015.8583C2.56723%2015.8583%201.86768%2015.1588%201.86768%2014.2958V5.70435C1.86768%204.8414%202.56723%204.14185%203.43018%204.14185H12.1884C13.0513%204.14185%2013.7509%204.8414%2013.7509%205.70435V14.2958C13.7509%2015.1588%2013.0513%2015.8583%2012.1884%2015.8583H3.43018Z%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M14.1571%2011.9541C13.9068%2011.817%2013.7512%2011.5543%2013.7512%2011.2689V8.73246C13.7512%208.44707%2013.9068%208.18437%2014.1571%208.04726L16.9754%206.50343C17.4961%206.21822%2018.132%206.59497%2018.132%207.18861V12.8128C18.132%2013.4064%2017.4961%2013.7832%2016.9754%2013.4979L14.1571%2011.9541Z%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M8.41384%2012.5186H5.1875V9.29224%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M10.3776%207.31396L5.28149%2012.41%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",outgoingAudioCallIconUrl:"data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M3.78531%209.33083L4.34854%209.89458C4.64139%2010.1873%205.03853%2010.3518%205.45262%2010.3518C5.86671%2010.3518%206.26385%2010.1873%206.5567%209.89458L7.38488%209.06639C7.45744%208.99388%207.515%208.90778%207.55427%208.81301C7.59354%208.71825%207.61376%208.61667%207.61376%208.51409C7.61376%208.41151%207.59354%208.30993%207.55427%208.21517C7.515%208.1204%207.45744%208.0343%207.38488%207.96179L5.77484%206.35123C5.69599%206.27169%205.60096%206.21005%205.4962%206.17048C5.39143%206.13091%205.27938%206.11434%205.16764%206.1219C5.05591%206.12945%204.9471%206.16095%204.84862%206.21426C4.75013%206.26757%204.66426%206.34145%204.59684%206.43087C2.90976%208.72127%203.93211%2011.1335%206.00544%2013.2073C8.07877%2015.2812%2010.4925%2016.3025%2012.7845%2014.6154C12.8737%2014.5477%2012.9473%2014.4617%2013.0003%2014.3631C13.0534%2014.2645%2013.0846%2014.1556%2013.0918%2014.0439C13.0991%2013.9322%2013.0822%2013.8202%2013.0424%2013.7155C13.0026%2013.6109%2012.9407%2013.516%2012.861%2013.4374L11.2504%2011.8268C11.1779%2011.7543%2011.0918%2011.6967%2010.9971%2011.6574C10.9023%2011.6182%2010.8007%2011.598%2010.6982%2011.598C10.5956%2011.598%2010.494%2011.6182%2010.3992%2011.6574C10.3045%2011.6967%2010.2184%2011.7543%2010.1459%2011.8268L9.31767%2012.655C9.17263%2012.8%209.05757%2012.9722%208.97908%2013.1617C8.90058%2013.3512%208.86018%2013.5543%208.86018%2013.7594C8.86018%2013.9645%208.90058%2014.1676%208.97908%2014.357C9.05757%2014.5465%209.17263%2014.7187%209.31767%2014.8637L9.89027%2015.4332%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M15.4623%203.75L10.387%208.82531%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M12.3391%203.75H15.4624V6.87327%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",outgoingVideoCallIconUrl:"data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M3.43018%2015.8583C2.56723%2015.8583%201.86768%2015.1588%201.86768%2014.2958V5.70435C1.86768%204.8414%202.56723%204.14185%203.43018%204.14185H12.1884C13.0513%204.14185%2013.7509%204.8414%2013.7509%205.70435V14.2958C13.7509%2015.1588%2013.0513%2015.8583%2012.1884%2015.8583H3.43018Z%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M14.1571%2011.9541C13.9068%2011.817%2013.7512%2011.5543%2013.7512%2011.2689V8.73246C13.7512%208.44707%2013.9068%208.18437%2014.1571%208.04726L16.9754%206.50343C17.4961%206.21822%2018.132%206.59497%2018.132%207.18861V12.8128C18.132%2013.4064%2017.4961%2013.7832%2016.9754%2013.4979L14.1571%2011.9541Z%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M7.15111%207.31395H10.3774V10.5403%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M5.18738%2012.5186L10.2834%207.42248%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",missedAudioCallIconUrl:"data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M3.78531%209.33083L4.34854%209.89458C4.64139%2010.1873%205.03853%2010.3518%205.45262%2010.3518C5.86671%2010.3518%206.26385%2010.1873%206.5567%209.89458L7.38488%209.06639C7.45744%208.99388%207.515%208.90778%207.55427%208.81301C7.59354%208.71825%207.61376%208.61667%207.61376%208.51409C7.61376%208.41151%207.59354%208.30993%207.55427%208.21517C7.515%208.1204%207.45744%208.0343%207.38488%207.96179L5.77484%206.35123C5.69599%206.27169%205.60096%206.21005%205.4962%206.17048C5.39143%206.13091%205.27938%206.11434%205.16764%206.1219C5.05591%206.12945%204.9471%206.16095%204.84862%206.21426C4.75013%206.26757%204.66426%206.34145%204.59684%206.43087C2.90976%208.72127%203.93211%2011.1335%206.00544%2013.2073C8.07877%2015.2812%2010.4925%2016.3025%2012.7845%2014.6154C12.8737%2014.5477%2012.9473%2014.4617%2013.0003%2014.3631C13.0534%2014.2645%2013.0846%2014.1556%2013.0918%2014.0439C13.0991%2013.9322%2013.0822%2013.8202%2013.0424%2013.7155C13.0026%2013.6109%2012.9407%2013.516%2012.861%2013.4374L11.2504%2011.8268C11.1779%2011.7543%2011.0918%2011.6967%2010.9971%2011.6574C10.9023%2011.6182%2010.8007%2011.598%2010.6982%2011.598C10.5956%2011.598%2010.494%2011.6182%2010.3992%2011.6574C10.3045%2011.6967%2010.2184%2011.7543%2010.1459%2011.8268L9.31767%2012.655C9.17263%2012.8%209.05757%2012.9722%208.97908%2013.1617C8.90058%2013.3512%208.86018%2013.5543%208.86018%2013.7594C8.86018%2013.9645%208.90058%2014.1676%208.97908%2014.357C9.05757%2014.5465%209.17263%2014.7187%209.31767%2014.8637L9.89027%2015.4332%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M15.4622%204.53082L12.3389%207.65409L8.43481%203.75%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M8.43481%206.09245V3.75H10.7773%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",missedVideoCallIconUrl:"data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M14.1573%2011.9539C13.907%2011.8167%2013.7515%2011.5541%2013.7515%2011.2687V8.73221C13.7515%208.44682%2013.907%208.18413%2014.1573%208.04701L16.9757%206.50318C17.4963%206.21798%2018.1322%206.59473%2018.1322%207.18836V12.8125C18.1322%2013.4061%2017.4963%2013.7829%2016.9757%2013.4977L14.1573%2011.9539Z%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M11.3834%209.1351L8.17601%2012.3425L4.16675%208.33325%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M4.16675%2010.7388V8.33325H6.5723%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M3.22925%2015.883C2.3663%2015.883%201.66675%2015.1834%201.66675%2014.3205V5.729C1.66675%204.86606%202.3663%204.1665%203.22925%204.1665H11.9874C12.8503%204.1665%2013.5499%204.86606%2013.5499%205.729V14.3205C13.5499%2015.1834%2012.8503%2015.883%2011.9874%2015.883H3.22925Z%22%20stroke%3D%22black%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",infoIconUrl:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FInfo%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FInfo%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22streamline-icon-information-circle%4024x24%22%20transform%3D%22translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M12%2C14%20L11.3333333%2C14%20C10.5969537%2C14%2010%2C13.4030463%2010%2C12.6666667%20L10%2C9.33333333%20C10%2C8.9651435%209.70152317%2C8.66666667%209.33333333%2C8.66666667%20L8.66666667%2C8.66666667%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9.66666667%2C5.33333333%20C9.48257175%2C5.33333333%209.33333333%2C5.48257175%209.33333333%2C5.66666667%20C9.33333333%2C5.85076158%209.48257175%2C6%209.66666667%2C6%20C9.85076158%2C6%2010%2C5.85076158%2010%2C5.66666667%20C10%2C5.48257175%209.85076158%2C5.33333333%209.66666667%2C5.33333333%20L9.66666667%2C5.33333333%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%2C10%20C0%2C15.5228475%204.4771525%2C20%2010%2C20%20C15.5228475%2C20%2020%2C15.5228475%2020%2C10%20C20%2C4.4771525%2015.5228475%2C0%2010%2C0%20C4.4771525%2C0%200%2C4.4771525%200%2C10%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",callLogRequestBuilder:void 0,onItemClick:void 0,onInfoClick:void 0,onError:e=>{console.log(e)},hideSeparator:!0,activeCall:void 0,datePattern:n.DatePatterns.time,dateSeparatorPattern:n.DatePatterns.DayDate,callLogsStyle:{},avatarStyle:{},listItemStyle:{},outgoingCallConfiguration:{}},$n=e=>{const{title:i,titleAlignment:a,listItemView:l,subtitleView:c,tailView:C,errorStateView:d,emptyStateView:u,loadingStateView:p,emptyStateText:h,errorStateText:m,loadingIconURL:A,incomingAudioCallIconUrl:x,incomingVideoCallIconUrl:b,outgoingAudioCallIconUrl:y,outgoingVideoCallIconUrl:f,missedAudioCallIconUrl:w,missedVideoCallIconUrl:D,infoIconUrl:E,activeCall:v,callLogRequestBuilder:S,onItemClick:I,onInfoClick:F,onError:k,hideSeparator:M,datePattern:B,dateSeparatorPattern:L,callLogsStyle:R,avatarStyle:U,listItemStyle:P,outgoingCallConfiguration:O}=e,{theme:j}=r.useContext(T),[G,V]=r.useState([]),[H,Q]=r.useState(null),[N,K]=r.useState(n.States.loading),[z,_]=r.useState(!1),[J,Y]=r.useState(void 0),[W,Z]=r.useState(void 0),[X,q]=r.useState(null),[$,ee]=r.useState(!1),te="callLogsScreen_"+(new Date).getTime(),ne=r.useRef(null),oe=r.useRef(void 0);oe.current=J;const re=r.useCallback((e=>{if(e instanceof s.CometChat.CometChatException)k?.(e);else{let t={code:e?.code,name:e?.name,message:e?.message,details:e?.details},n=new s.CometChat.CometChatException(t);k?.(n)}}),[k]),se=r.useCallback((()=>{try{if(S)return S.build();{const e=H.getAuthToken();return(new t.CometChatUIKitCalls.CallLogRequestBuilder).setLimit(30).setCallCategory("call").setAuthToken(e).build()}}catch(e){re(e)}}),[S,H,re]),ie=r.useCallback((async()=>{try{return await(ne?.current?.fetchNext())}catch(e){return re(e),[]}}),[ne,re]),ae=r.useCallback((async()=>{try{const e=await ie();e&&e.length?(V((t=>[...t,...e])),K(n.States.loaded)):0===G.length&&K(n.States.empty)}catch(e){0===G.length&&K(n.States.error),re(e)}}),[ie,G,V,K,re]),le=r.useCallback((()=>{s.CometChat.rejectCall(W?.getSessionId(),n.CometChatUIKitConstants.calls.cancelled).then((()=>{Z(void 0),_(!1),n.CometChatMessageEvents.ccMessageSent.next({message:W,status:n.MessageStatus.success})})).catch((e=>{_(!1),re(e)}))}),[W,Z,_,re]),ce=r.useCallback(((e,t)=>{const o=n.CometChatUIKitConstants.MessageReceiverType.user,r=t;let i="";i=e===s.CometChat.CALL_TYPE.AUDIO?s.CometChat.CALL_TYPE.AUDIO:s.CometChat.CALL_TYPE.VIDEO;const a=new s.CometChat.Call(r,i,o);s.CometChat.initiateCall(a).then((e=>{Y(e),Z(e),_(!0),n.CometChatMessageEvents.ccMessageSent.next({message:e,status:n.MessageStatus.inprogress})})).catch((e=>{re(e)}))}),[Z,_,re,Y]),Ce=r.useCallback((e=>{try{if(I)I(e);else{const t=jn(e,H);t.uid&&ce(e?.type,t.uid)}}catch(e){re(e)}}),[I,H,ce,re]),ge=r.useCallback((e=>{try{F&&F(e)}catch(e){re(e)}}),[F,re]),de=r.useCallback((e=>{try{return!(!v||v.getSessionID()!==e.getSessionID())}catch(e){return re(e),!1}}),[v,re]),ue=r.useCallback((e=>{try{const t=On(e,H);let n,o=e.getType();return o=e.getType()===s.CometChat.CALL_TYPE.AUDIO?s.CometChat.CALL_TYPE.AUDIO:s.CometChat.CALL_TYPE.VIDEO,n=t?o===s.CometChat.CALL_TYPE.AUDIO?w:D:Pn(e,H)?o===s.CometChat.CALL_TYPE.AUDIO?y:f:o===s.CometChat.CALL_TYPE.AUDIO?x:b,n}catch(e){re(e)}}),[H,w,D,y,f,x,b,re]),he=r.useCallback(((e,t)=>{try{let n,o;return n=new Date(1e3*e),o=new Date(1e3*t),n.getDate()!==o.getDate()||n.getMonth()!==o.getMonth()||n.getFullYear()!==o.getFullYear()}catch(e){re(e)}}),[re]),me=r.useCallback(((e,t)=>{try{return 0===t||he(G[t-1]?.getInitiatedAt(),e.getInitiatedAt())?g.jsx("div",{style:{margin:"5px 0",display:"flex"},children:g.jsx("cometchat-date",{timestamp:e.getInitiatedAt(),pattern:L,dateStyle:JSON.stringify(Wn(j,R))})}):null}catch(e){return re(e),null}}),[L,R,he,G,j,re]),Ae=r.useCallback((()=>new t.OutgoingCallStyle({background:O?.outgoingCallStyle?.background||j.palette.getBackground(),border:O?.outgoingCallStyle?.border||"none",borderRadius:O?.outgoingCallStyle?.borderRadius||"8px",declineButtonIconBackground:O?.outgoingCallStyle?.declineButtonIconBackground||j.palette.getError(),declineButtonIconTint:O?.outgoingCallStyle?.declineButtonIconTint||j.palette.getBackground(),declineButtonTextColor:O?.outgoingCallStyle?.declineButtonTextColor||j.palette.getAccent600(),declineButtonTextFont:O?.outgoingCallStyle?.declineButtonTextFont||n.fontHelper(j.typography.caption2),height:O?.outgoingCallStyle?.height||"580px",width:O?.outgoingCallStyle?.width||"320px",subtitleTextColor:O?.outgoingCallStyle?.subtitleTextColor||j.palette.getAccent600(),subtitleTextFont:O?.outgoingCallStyle?.subtitleTextFont||n.fontHelper(j.typography.subtitle1),titleTextColor:O?.outgoingCallStyle?.titleTextColor||j.palette.getAccent(),titleTextFont:O?.outgoingCallStyle?.titleTextFont||n.fontHelper(j.typography.heading)})),[O,j]),xe=r.useCallback((()=>new o.CallscreenStyle({maxHeight:"100%",maxWidth:"100%",border:"none",borderRadius:"0",background:"#1c2226",minHeight:"400px",minWidth:"400px",minimizeIconTint:j.palette.getAccent900(),maximizeIconTint:j.palette.getAccent900()})),[j]),be=r.useCallback((e=>{_(!1),Z(e),q(e?.getSessionId()),ee(!0)}),[_,Z,q,ee]),ye=r.useCallback((()=>{try{s.CometChat.addCallListener(te,new s.CometChat.CallListener({onOutgoingCallRejected:e=>{oe.current&&e.getSessionId()==oe.current.getSessionId()&&(Z(void 0),_(!1),ee(!1),Y(void 0))},onOutgoingCallAccepted:e=>{oe.current&&e.getSessionId()==oe.current.getSessionId()&&(Z(void 0),be(e),_(!1),Y(void 0))}}))}catch(e){re(e)}}),[te,be,re]),fe=r.useCallback((()=>{ee(!1),q(null),Z(void 0)}),[ee,q,Z]),we=r.useCallback((()=>{try{const e=n.CometChatCallEvents.ccCallEnded.subscribe((()=>{fe()}));return()=>{try{e?.unsubscribe()}catch(e){re(e)}}}catch(e){re(e)}}),[fe,re]),Ee=r.useCallback((()=>{try{s.CometChat.removeCallListener(te)}catch(e){re(e)}}),[te,re]),ve=r.useCallback((e=>null!==c?g.jsx(g.Fragment,{children:c(e)}):g.jsx(g.Fragment,{children:g.jsxs("div",{style:Hn(j,R),children:[g.jsx("cometchat-icon",{URL:ue(e),buttonStyle:JSON.stringify(Jn(e,j,R,H))}),Gn(e,H)]})})),[c,R,H,j,ue]),Se=r.useCallback((e=>null!==C?g.jsx(g.Fragment,{children:C(e)}):g.jsx(g.Fragment,{children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginRight:"5px"},children:[g.jsx("cometchat-date",{dateStyle:JSON.stringify(_n(j,R)),pattern:B,timestamp:e?.getInitiatedAt()}),F?g.jsx(De,{iconURL:E,buttonStyle:Yn(j,R),onClick:()=>ge(e)}):null]})})),[C,j,R,B,F,E,ge]),Ie=r.useMemo((()=>function(e,t){return l?l(e):g.jsxs(g.Fragment,{children:[me(e,t)?me(e,t):null,g.jsx(Xn,{title:jn(e,H)?.getName(),avatarURL:jn(e,H)?.avatar||jn(e,H)?.icon,avatarName:jn(e,H)?.getName(),listItemStyle:Nn(e,j,P,H),avatarStyle:Qn(j,U),hideSeparator:M,loadingIconURL:A,isActive:de(e),onClick:t=>Ce?.(e),subtitleView:ve(e),tailView:Se(e)})]})}),[l,me,H,j,P,U,M,A,de,ve,Se,Ce]);return function(e,t,n,o,s,i,a,l,c){r.useEffect((()=>{hn.getLoggedinUser().then((e=>{t(e)}),(e=>{c(e)}))}),[t,c]),r.useEffect((()=>{let t;return e&&(t=a?.(),n.current=o(),s?.(),i?.(),a?.()),()=>{l?.(),t?.()}}),[e])}(H,Q,ne,se,ae,ye,we,Ee,re),g.jsxs("div",{style:Kn(j,R),children:[z?g.jsx("cometchat-backdrop",{children:g.jsx(wt,{onCloseClicked:O?.onDeclineButtonClicked||le,outgoingCallStyle:Ae(),call:W,avatarStyle:O?.avatarStyle,customSoundForCalls:O?.customSoundForCalls,customView:O?.customView,declineButtonIconURL:O?.declineButtonIconURL,disableSoundForCalls:O?.disableSoundForCalls,onError:O?.onError})}):null,$&&!v?g.jsx(ct,{sessionID:X,callWorkflow:n.CallWorkflow.defaultCalling,ongoingCallStyle:xe()}):null,g.jsx(pe,{hideSearch:!0,list:G,onScrolledToBottom:ae,listItemKey:"getSessionID",listItem:Ie,title:i,titleAlignment:a,loadingIconURL:A,emptyStateText:h,errorStateText:m,emptyStateView:u,errorStateView:d,loadingView:p,listStyle:zn(j,R),state:N,showSectionHeader:!1})]})};function eo(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:t?.backIconTint||e.palette.getPrimary()}}function to(e,t){return{height:t?.height||"100%",width:t?.width||"100%",background:t?.background||e.palette.getBackground(),borderRadius:t?.borderRadius||"0",border:t?.border||"none",position:"relative"}}function no(e,t){return{font:t?.titleFont||n.fontHelper(e.typography.text1),color:t?.titleColor||e.palette.getAccent(),background:"transparent"}}$n.defaultProps=qn;function oo(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:t?.backIconTint||e.palette.getPrimary()}}function ro(e,o){return new t.ListStyle({height:"90%",titleTextFont:o?.titleFont||n.fontHelper(e.typography.title1),titleTextColor:o?.titleColor||e.palette.getAccent()})}function so(e,t){return new o.AvatarStyle({borderRadius:t?.borderRadius||"24px",width:t?.width||"36px",height:t?.height||"36px",border:t?.border||"none",backgroundColor:t?.backgroundColor||e.palette.getAccent700(),nameTextColor:t?.nameTextColor||e.palette.getAccent900(),backgroundSize:t?.backgroundSize||"cover",nameTextFont:t?.nameTextFont||n.fontHelper(e.typography.subtitle1),outerViewBorderWidth:t?.outerViewBorderWidth||"",outerViewBorderSpacing:t?.outerViewBorderSpacing||"",outerViewBorderColor:t?.outerViewBorderColor||"",outerViewBorderRadius:t?.outerViewBorderRadius||""})}function io(e,t){return new o.ListItemStyle({height:t?.height||"45px",width:t?.width||"100%",background:t?.background||e.palette.getBackground(),activeBackground:t?.activeBackground||e.palette.getAccent100(),borderRadius:t?.borderRadius||"0",titleFont:t?.titleFont||n.fontHelper(e.typography.title2),titleColor:t?.titleColor||e.palette.getAccent(),border:t?.border||"none",separatorColor:t?.separatorColor||e.palette.getAccent200(),hoverBackground:t?.hoverBackground||e.palette.getAccent50(),padding:t?.padding||"0"})}function ao(e,t){return{display:"flex",color:t?.callStatusColor||e.palette.getAccent600(),font:t?.callStatusFont||n.fontHelper(e.typography.caption1)}}function lo(e,t){return{textColor:t?.dateTextColor||e.palette.getAccent500(),textFont:t?.dateTextFont||n.fontHelper(e.typography.caption1),font:t?.dateTextFont||n.fontHelper(e.typography.caption1),color:t?.dateTextColor||e.palette.getAccent500(),background:"transparent",padding:"3px 10px"}}function co(e,t){return{height:t?.height||"100%",width:t?.width||"100%",background:t?.background||e.palette.getBackground(),borderRadius:t?.borderRadius||"0",border:t?.border||"none"}}function Co(e,t){return{font:t?.titleFont||n.fontHelper(e.typography.text1),color:t?.titleColor||e.palette.getAccent(),background:"transparent"}}const go={title:n.localize("PARTICIPANTS"),backIconUrl:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fbackbutton%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FBack%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.250000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2218.75%22%20y1%3D%228.75%22%20x2%3D%220%22%20y2%3D%228.75%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolyline%20id%3D%22Path%22%20points%3D%228.75%200%200%208.75%208.75%2017.5%22%3E%3C%2Fpolyline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",call:void 0,datePattern:n.DatePatterns.time,avatarStyle:{},listItemStyle:{},callLogParticipantsStyle:{},listItemView:null,subtitleView:null,tailView:null,onBackClick:void 0,onItemClick:void 0},uo=e=>{const{title:t,backIconUrl:o,call:s,datePattern:i,avatarStyle:a,listItemStyle:l,callLogParticipantsStyle:c,listItemView:C,subtitleView:d,tailView:u,onBackClick:p,onItemClick:h}=e,{theme:m}=r.useContext(T),A=r.useCallback((e=>{h&&h(e)}),[h]),x=r.useCallback((()=>s?.getParticipants()),[s]),b=r.useCallback((()=>s?.getInitiatedAt()),[s]),y=e=>e?.getHasJoined()||e?.getJoinedAt()?Vn(e?.getTotalDurationInMinutes()):Vn(0),f=r.useCallback((e=>d?d(e):g.jsx(g.Fragment,{children:g.jsx("div",{style:ao(m,c),children:y(e)})})),[d,m,c]),w=r.useCallback((e=>u?u(e):g.jsx(g.Fragment,{children:g.jsx("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:g.jsx("cometchat-date",{dateStyle:JSON.stringify(lo(m,c)),pattern:i,timestamp:b()})})})),[u,m,c,i,b]),D=r.useMemo((()=>function(e,t){return C?C(e):g.jsx(g.Fragment,{children:g.jsx(Xn,{title:e?.getName(),avatarURL:e?.getAvatar(),avatarName:e?.getName(),listItemStyle:io(m,l),avatarStyle:so(m,a),hideSeparator:!0,onClick:t=>A?.(e),subtitleView:f(e),tailView:w(e)})})}),[C,m,l,a,f,w,A]);return g.jsx(g.Fragment,{children:g.jsxs("div",{style:co(m,c),children:[g.jsxs("div",{style:{display:"flex",padding:"10px 20px",alignItems:"center",marginBottom:"10px"},children:[p?g.jsx("div",{style:{marginRight:"15px"},children:g.jsx(De,{iconURL:o,buttonStyle:oo(m,c),onClick:p?.()})}):null,g.jsx("div",{style:Co(m,c),children:t})]}),g.jsx(pe,{hideSearch:!0,list:x()||[],listItem:D,listItemKey:"getUid",listStyle:ro(m,c),state:n.States.loaded,showSectionHeader:!1})]})})};function po(e,o){return new t.ListStyle({height:"90%",titleTextFont:o?.titleFont||n.fontHelper(e.typography.title1),titleTextColor:o?.titleColor||e.palette.getAccent()})}function ho(e,t){return new o.ListItemStyle({height:t?.height||"45px",width:t?.width||"100%",background:t?.background||e.palette.getBackground(),activeBackground:t?.activeBackground||e.palette.getAccent100(),borderRadius:t?.borderRadius||"0",titleFont:t?.titleFont||n.fontHelper(e.typography.title2),titleColor:t?.titleColor||e.palette.getAccent(),border:t?.border||"none",separatorColor:t?.separatorColor||e.palette.getAccent200(),hoverBackground:t?.hoverBackground||e.palette.getAccent50(),padding:t?.padding||"0"})}function mo(e,t){return{display:"flex",color:t?.recordingDurationColor||e.palette.getAccent600(),font:t?.recordingDurationFont||n.fontHelper(e.typography.caption1)}}function Ao(e,t){return{textColor:t?.dateTextColor||e.palette.getAccent500(),textFont:t?.dateTextFont||n.fontHelper(e.typography.caption1),background:"transparent"}}function xo(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:t?.backIconTint||e.palette.getPrimary()}}function bo(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:t?.downloadIconTint||e.palette.getPrimary()}}function yo(e,t){return{height:t?.height||"100%",width:t?.width||"100%",background:t?.background||e.palette.getBackground(),borderRadius:t?.borderRadius||"0",border:t?.border||"none"}}function fo(e,t){return{font:t?.titleFont||n.fontHelper(e.typography.text1),color:t?.titleColor||e.palette.getAccent(),background:"transparent"}}uo.defaultProps=go;const wo={title:n.localize("RECORDING"),backIconUrl:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fbackbutton%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FBack%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.250000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2218.75%22%20y1%3D%228.75%22%20x2%3D%220%22%20y2%3D%228.75%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolyline%20id%3D%22Path%22%20points%3D%228.75%200%200%208.75%208.75%2017.5%22%3E%3C%2Fpolyline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",downloadIconUrl:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FDownload%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FDownload%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%281.000000%2C%201.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolyline%20id%3D%22Path%22%20points%3D%227.33333333%2013.2%2011%2016.8666667%2014.6666667%2013.2%22%3E%3C%2Fpolyline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2211%22%20y1%3D%225.86666667%22%20x2%3D%2211%22%20y2%3D%2216.8666667%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%2C11%20C0%2C17.0751322%204.92486775%2C22%2011%2C22%20C17.0751322%2C22%2022%2C17.0751322%2022%2C11%20C22%2C4.92486775%2017.0751322%2C0%2011%2C0%20C4.92486775%2C0%200%2C4.92486775%200%2C11%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",hideDownloadButton:!1,call:void 0,datePattern:n.DatePatterns.time,listItemStyle:{},callLogRecordingsStyle:{},onBackClick:void 0,onItemClick:void 0,onDownloadClick:void 0,listItemView:null,subtitleView:null,tailView:null},Do=e=>{const{title:t,backIconUrl:o,downloadIconUrl:s,hideDownloadButton:i,call:a,datePattern:l,listItemStyle:c,callLogRecordingsStyle:C,onBackClick:d,onItemClick:u,onDownloadClick:p,listItemView:h,subtitleView:m,tailView:A}=e,{theme:x}=r.useContext(T),b=r.useCallback((e=>{u&&u(e)}),[u]),y=r.useCallback((e=>{var t;p?p(e):(t=e?.getRecordingURL(),fetch(t).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="recording.mp4",document.body.appendChild(n),n.click()})).catch((e=>console.error(e))))}),[p]),f=r.useCallback((()=>{try{return a?.getRecordings()}catch(e){console.log(e)}}),[a]),w=e=>{try{return e?.getStartTime()}catch(e){console.log(e)}},D=e=>{try{return function(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),o=Math.floor(e%3600%60);let r="",s="",i="";return t>0&&(r=`${t}h`),n>0&&(s=`${n}m`),o>=0&&(i=`${o}s`),`${r} ${s} ${i}`}(e?.getDuration())}catch(e){console.log(e)}},E=r.useCallback((e=>m?m(e):g.jsx(g.Fragment,{children:g.jsx("div",{style:mo(x,C),children:D(e)})})),[m,x,C]),v=r.useCallback((e=>A?A(e):g.jsx(g.Fragment,{children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[g.jsx("cometchat-date",{dateStyle:JSON.stringify(Ao(x,C)),pattern:l,timestamp:w(e)}),i?null:g.jsx(De,{iconURL:s,buttonStyle:bo(x,C),onClick:()=>y(e)})]})})),[A,x,C,l,i,s,y]),S=r.useMemo((()=>function(e,t){return h?h(e):g.jsx(g.Fragment,{children:g.jsx(Xn,{title:e?.getRid(),listItemStyle:ho(x,c),hideSeparator:!0,onClick:t=>b?.(e),subtitleView:E(e),tailView:v(e)})})}),[h,x,c,E,v,b]);return g.jsx(g.Fragment,{children:g.jsxs("div",{style:yo(x,C),children:[g.jsxs("div",{style:{display:"flex",padding:"10px 20px",alignItems:"center",marginBottom:"10px"},children:[d?g.jsx("div",{style:{marginRight:"15px"},children:g.jsx(De,{iconURL:o,buttonStyle:xo(x,C),onClick:d?.()})}):null,g.jsx("div",{style:fo(x,C),children:t})]}),g.jsx(pe,{hideSearch:!0,list:f()||[],listItem:S,listItemKey:"getRid",listStyle:po(x,C),state:n.States.loaded,showSectionHeader:!1})]})})};Do.defaultProps=wo;function Eo(e,t){return{background:"transparent",textColor:t?.dateTextColor||e.palette.getAccent600(),textFont:t?.dateTextFont||n.fontHelper(e.typography.subtitle2)}}function vo(e,t){return new o.ListItemStyle({height:t?.height||"45px",width:t?.width||"100%",background:t?.background||e.palette.getBackground(),activeBackground:t?.activeBackground||e.palette.getAccent100(),borderRadius:t?.borderRadius||"0",border:t?.border||"none",separatorColor:t?.separatorColor||e.palette.getAccent200(),hoverBackground:t?.hoverBackground||e.palette.getAccent50(),padding:t?.padding||"0"})}function So(e,t){return{font:t?.callStatusTextFont||n.fontHelper(e.typography.text2),color:t?.callStatusTextColor||e.palette.getAccent()}}function Io(e,t){return{height:t?.height||"100%",width:t?.width||"100%",background:t?.background||e.palette.getBackground(),borderRadius:t?.borderRadius||"0",border:t?.border||"none"}}function Fo(e,o){return new t.ListStyle({height:"90%",emptyStateTextColor:o?.emptyStateTextColor||e.palette.getAccent600(),emptyStateTextFont:o?.emptyStateTextFont||n.fontHelper(e.typography.caption1),errorStateTextColor:o?.errorStateTextColor||e.palette.getAccent600(),errorStateTextFont:o?.errorStateTextFont||n.fontHelper(e.typography.caption1),loadingIconTint:o?.loadingIconTint||e.palette.getAccent600()})}function ko(e,t){return{font:t?.callDurationTextColor||n.fontHelper(e.typography.caption1),color:t?.callDurationTextColor||e.palette.getAccent500()}}function To(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:t?.backIconTint||e.palette.getPrimary()}}function Mo(e,t){return{textFont:t?.dateSeparatorTextFont||n.fontHelper(e.typography.text3),textColor:t?.dateSeparatorTextColor||e.palette.getAccent700(),background:"transparent"}}function Bo(e,t){return{height:"1px",width:"100%",background:t?.dividerColor||e.palette.getAccent200()}}function Lo(e,t){return{font:t?.titleFont||n.fontHelper(e.typography.text1),color:t?.titleColor||e.palette.getAccent(),background:"transparent"}}const Ro={title:n.localize("CALL_HISTORY"),emptyStateText:n.localize("NO_CALLS_FOUND"),errorStateText:n.localize("SOMETHING_WRONG"),backIconUrl:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fbackbutton%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FBack%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.250000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2218.75%22%20y1%3D%228.75%22%20x2%3D%220%22%20y2%3D%228.75%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolyline%20id%3D%22Path%22%20points%3D%228.75%200%200%208.75%208.75%2017.5%22%3E%3C%2Fpolyline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",loadingIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",emptyStateView:null,loadingStateView:null,errorStateView:null,subtitleView:null,tailView:null,callLogRequestBuilder:void 0,callUser:void 0,callGroup:void 0,onItemClick:void 0,onBackClick:void 0,onError:()=>{},datePattern:n.DatePatterns.time,dateSeparatorPattern:n.DatePatterns.DayDate,listItemStyle:{},callLogHistoryStyle:{}},Uo=e=>{const{title:o,emptyStateText:i,errorStateText:a,backIconUrl:l,loadingIconURL:c,emptyStateView:C,errorStateView:d,loadingStateView:u,subtitleView:p,tailView:h,callLogRequestBuilder:m,callUser:A,callGroup:x,onItemClick:b,onBackClick:y,onError:f,datePattern:w,dateSeparatorPattern:D,listItemStyle:E,callLogHistoryStyle:v}=e,{theme:S}=r.useContext(T),[I,F]=r.useState([]),[k,M]=r.useState(null),[B,L]=r.useState(n.States.loading),R=r.useRef(null),U=r.useCallback((e=>{if(e instanceof s.CometChat.CometChatException)f?.(e);else{let t={code:e?.code,name:e?.name,message:e?.message,details:e?.details},n=new s.CometChat.CometChatException(t);f?.(n)}}),[f]),P=r.useCallback((()=>{try{let e;if(m)e=m;else{const n=k.getAuthToken()||"";e=(new t.CometChatUIKitCalls.CallLogRequestBuilder).setLimit(30).setCallCategory("call").setAuthToken(n)}return x?e=e.setGuid(x?.getGuid()):A&&(e=e.setUid(A?.getUid())),e.build()}catch(e){U(e)}}),[m,x,A,k,U]),O=r.useCallback((async()=>{try{return await(R?.current?.fetchNext())}catch(e){return U(e),[]}}),[R,U]),j=r.useCallback((async()=>{try{const e=await O();e&&e.length>0?(F((t=>[...t,...e])),L(n.States.loaded)):0===I.length&&L(n.States.empty)}catch(e){0===I.length&&L(n.States.error),U(e)}}),[O,F,L,I,U]),G=r.useCallback((e=>{try{b&&b(e)}catch(e){U(e)}}),[b,U]),V=r.useCallback(((e,t)=>{try{let n,o;return n=new Date(1e3*e),o=new Date(1e3*t),n.getDate()!==o.getDate()||n.getMonth()!==o.getMonth()||n.getFullYear()!==o.getFullYear()}catch(e){return U(e),!1}}),[U]),H=r.useCallback(((e,t)=>{try{return 0===t?g.jsx("div",{style:{margin:"4px 0 0 8px"},children:g.jsx("cometchat-date",{timestamp:e.getInitiatedAt(),pattern:D,dateStyle:JSON.stringify(Mo(S,v))})}):V(I[t-1]?.getInitiatedAt(),e.getInitiatedAt())?g.jsxs(g.Fragment,{children:[g.jsx("cometchat-divider",{dividerStyle:JSON.stringify(Bo(S,v))}),g.jsx("div",{style:{margin:"4px 0 0 8px"},children:g.jsx("cometchat-date",{timestamp:e.getInitiatedAt(),pattern:D,dateStyle:JSON.stringify(Mo(S,v))})})]}):null}catch(e){return U(e),null}}),[D,S,v,V,I,U]),Q=r.useCallback((e=>{try{return!!e?.getTotalDurationInMinutes()&&Vn(e?.getTotalDurationInMinutes())}catch(e){return U(e),!1}}),[U]),N=r.useCallback((e=>p?p(e):g.jsx(g.Fragment,{children:g.jsxs("div",{style:{display:"flex"},children:[g.jsx("cometchat-date",{dateStyle:JSON.stringify(Eo(S,v)),pattern:w,timestamp:e?.getInitiatedAt()}),g.jsx("div",{style:So(S,v),children:Gn(e,k,!0)})]})})),[p,S,v,w,k]),K=r.useCallback((e=>h?h(e):g.jsx(g.Fragment,{children:g.jsx("div",{style:ko(S,v),children:Q(e)?Q(e):"00:00"})})),[h,S,v,Q]),z=r.useMemo((()=>function(e,t){return g.jsxs(g.Fragment,{children:[H(e,t)?g.jsx("div",{children:H(e,t)}):null,g.jsx(Xn,{loadingIconURL:c,listItemStyle:vo(S,E),onClick:t=>G?.(e),subtitleView:N(e),tailView:K(e),hideSeparator:!0})]})}),[H,c,S,E,N,K,G]);return function(e,t,n,o,s,i){r.useEffect((()=>{hn.getLoggedinUser().then((e=>{t(e)}),(e=>{i(e)}))}),[t,i]),r.useEffect((()=>{e&&(n.current=o(),s?.())}),[e])}(k,M,R,P,j,U),g.jsx(g.Fragment,{children:g.jsxs("div",{style:Io(S,v),children:[g.jsxs("div",{style:{display:"flex",padding:"10px 30px",alignItems:"center",marginBottom:"10px"},children:[y?g.jsx("div",{style:{marginRight:"15px"},children:g.jsx(De,{iconURL:l,buttonStyle:To(S,v),onClick:y?.()})}):null,g.jsx("div",{style:Lo(S,v),children:o})]}),g.jsx(pe,{hideSearch:!0,list:I,onScrolledToBottom:j,listItemKey:"getSessionID",listItem:z,loadingIconURL:c,emptyStateText:i,errorStateText:a,loadingView:u,emptyStateView:C,errorStateView:d,listStyle:Fo(S,v),state:B,showSectionHeader:!1})]})})};Uo.defaultProps=Ro;class Po{static getDefaultCallTemplate(e,t,n){return[this.getPrimaryDetailsTemplate(e,t,n),this.getSecondaryDetailsTemplate(e,t,n)]}static getCallButtons(e,t){return g.jsx(Et,{user:e,group:t,callButtonsStyle:{width:"100%",height:"100%",border:"none",borderRadius:"0",background:"transparent",buttonPadding:"8px 32px",buttonBackground:"RGBA(20, 20, 20, 0.04)",buttonBorder:"0 4px",buttonBorderRadius:"10px"},voiceCallIconText:n.localize("AUDIO_CALL"),videoCallIconText:n.localize("VIDEO_CALL")},"callbuttons")}static getPrimaryDetailsTemplate(e,t,o){return new n.CometChatCallDetailsTemplate({id:"callControls",hideSectionSeparator:!0,options:(n,r)=>this.getPrimaryOptions(n??void 0,r??void 0,e??void 0,t??void 0,o??void 0)})}static getSecondaryDetailsTemplate(e,t,o){return new n.CometChatCallDetailsTemplate({id:"callOptions",hideSectionSeparator:!0,options:()=>this.getSecondaryOptions(e??void 0,o??void 0)})}static getPrimaryOptions(e,t,o,r,s){let i=[];return e&&i.push(new n.CometChatCallDetailsOption({id:"callControls",customView:this.getCallButtons(e,t)})),i.push(new n.CometChatCallDetailsOption({id:"callStatus",customView:this.generateCallDetailsHTML(o,o?.getInitiatedAt(),r,s)})),i}static getSecondaryOptions(e,t){const o=[];if(e?.participants&&e?.participants.length>0){const r=(e?.participants||[])?.length;o.push(new n.CometChatCallDetailsOption({id:"participants",customView:this.generateCallOptionsHTML("Participants",r,t)}))}if(e?.hasRecording){const r=(e?.getRecordings()||[])?.length;o.push(new n.CometChatCallDetailsOption({id:"recordings",customView:this.generateCallOptionsHTML("Recordings",r,t)}))}return o.push(new n.CometChatCallDetailsOption({id:"callHistory",customView:this.generateCallOptionsHTML("History",0,t)})),o}static generateCallDetailsHTML(e,t,r,s){const i=new o.ListItemStyle({height:"auto",width:"100%",background:s?.palette?.getAccent100(),hoverBackground:s?.palette?.getAccent100(),borderRadius:"8px",border:"none",padding:"10px"}),a=new o.DateStyle({textColor:s?.palette?.getAccent600(),textFont:n.fontHelper(s?.typography?.text3),padding:"0px",background:"transparent"}),l=new o.DateStyle({textColor:s?.palette?.getAccent600(),textFont:n.fontHelper(s?.typography?.subtitle2),padding:"0px",background:"transparent"}),c=Gn(e,r,!0),C=g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[g.jsx("cometchat-date",{dateStyle:JSON.stringify(a),pattern:n.DatePatterns.DayDate,timestamp:t}),g.jsxs("div",{style:{display:"flex",gap:"5px"},children:[g.jsx("cometchat-date",{dateStyle:JSON.stringify(l),pattern:n.DatePatterns.time,timestamp:t}),g.jsx("div",{style:{font:n.fontHelper(s?.typography?.text2),color:s.palette.getAccent()},children:c})]})]}),d=g.jsx("div",{style:{font:n.fontHelper(s?.typography?.text3),color:s?.palette?.getAccent600(),marginRight:"15px",marginTop:"15px"},children:Vn(e?.getTotalDurationInMinutes())});return g.jsx("div",{style:{marginTop:"25px",marginBottom:"25px",width:"100%",paddingLeft:"10px",paddingRight:"10px",boxSizing:"border-box"},children:g.jsx(Xn,{hideSeparator:!0,listItemStyle:i,subtitleView:C,tailView:d},t)})}static generateCallOptionsHTML(e,t,o){const r={iconHeight:"18px",iconWidth:"18px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:o.palette.getAccent600()},s={margin:"10px",marginBottom:"5px",padding:"10px",boxSizing:"border-box",background:o?.palette?.getAccent100(),borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",width:"100%"},i={font:n.fontHelper(o?.typography?.text2),color:o?.palette?.getAccent()},a={display:"flex",alignItems:"center",gap:"5px",font:n.fontHelper(o?.typography?.text3),color:o?.palette?.getAccent600()};return g.jsxs("div",{style:s,children:[g.jsx("span",{style:i,children:e}),g.jsxs("span",{style:a,children:[t>0?t:"",g.jsx(De,{iconURL:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%20height%3D%2224px%22%20width%3D%2224px%22%3E%3Cg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20transform%3D%22matrix%28-1%200%200%20-1%2024%2024%29%22%3E%3Cg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20transform%3D%22matrix%280%201%20-1%200%2024%20-0%29%22%3E%3Ctitle%3EIcons%2F24%2FClose%20Chat%3C%2Ftitle%3E%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cg%20id%3D%22Icons%2F24%2FClose-Chat%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%3Cg%20id%3D%22Group%22%20transform%3D%22translate%281.700000%2C%208.000000%29%22%3E%3Cpath%20d%3D%22M20.625%2C0%20L10.7983333%2C9.82575%20C10.669546%2C9.9547209%2010.4947627%2C10.0271915%2010.3125%2C10.0271915%20C10.1302373%2C10.0271915%209.95545401%2C9.9547209%209.82666667%2C9.82575%20L0%2C0%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E",buttonStyle:r})]})]})}}const Oo={title:n.localize("CALL_DETAIL"),backIconUrl:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fbackbutton%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FBack%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.250000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2218.75%22%20y1%3D%228.75%22%20x2%3D%220%22%20y2%3D%228.75%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolyline%20id%3D%22Path%22%20points%3D%228.75%200%200%208.75%208.75%2017.5%22%3E%3C%2Fpolyline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",call:void 0,onBackClick:void 0,avatarStyle:{},data:(e,t,n)=>[],callLogHistoryConfiguration:{},callLogParticipantsConfiguration:{},callLogRecordingsConfiguration:{},callLogDetailsStyle:{}},jo=e=>{const{title:t,backIconUrl:s,call:i,onBackClick:a,avatarStyle:l,data:c,callLogHistoryConfiguration:C,callLogParticipantsConfiguration:d,callLogRecordingsConfiguration:u,callLogDetailsStyle:p}=e,{theme:h}=r.useContext(T),[m,A]=r.useState(null),[x,b]=r.useState([]),[y,f]=r.useState(!1),[w,D]=r.useState(!1),[E,v]=r.useState(!1),S=r.useCallback((()=>{let e=c?.(i,m,h);e&&e.length||(e=Po.getDefaultCallTemplate(i,m,h)),b([...e])}),[b,i,m,h]),I=r.useCallback((e=>{const{options:t,id:n}=e;let o=[];if(t&&void 0!==n){const e=jn(i,m);o=e?.getUid?t(e,null,n):t(null,e,n)}return o}),[i,m]),F=r.useCallback((e=>{if(e?.onClick)e.onClick(i);else switch(e.id){case"participants":f(!0);break;case"recordings":D(!0);break;case"callHistory":v(!0)}}),[i,f,D,v]),k=r.useCallback((()=>m&&!y&&!w&&!E),[m,y,w,E]),M=r.useCallback((()=>m&&y&&!w&&!E),[m,y,w,E]),B=r.useCallback((()=>m&&!y&&w&&!E),[m,y,w,E]),L=r.useCallback((()=>m&&!y&&!w&&E),[m,y,w,E]),R=r.useCallback((()=>{f(!1),D(!1),v(!1)}),[f,D,v]),U=r.useCallback((()=>{const e=jn(i,m);return e?.getUid?e:void 0}),[i,m]),P=r.useCallback((()=>{const e=jn(i,m);return e?.getGuid?e:void 0}),[i,m]),O=r.useCallback((()=>g.jsx(g.Fragment,{children:x.map((e=>g.jsxs("div",{children:[I(e).map((e=>g.jsx("div",{children:g.jsx("div",{style:{width:"100%"},className:"cc-call-details__options",children:e.customView?g.jsx("div",{className:"cc-call-details__option-content",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},onClick:()=>F(e),children:e.customView}):null},e?.id)}))),e.title]})))})),[x,I,F]);return function(e,t,n,o){r.useEffect((()=>{hn.getLoggedinUser().then((e=>{t(e)}))}),[t]),r.useEffect((()=>{e&&o?.()}),[e,n])}(m,A,i,S),g.jsx(g.Fragment,{children:g.jsxs("div",{style:to(h,p),children:[k()?g.jsxs("div",{children:[a?g.jsxs("div",{style:{position:"absolute",top:"15px",left:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:[g.jsx(De,{iconURL:s,buttonStyle:eo(h,p),onClick:a?.()}),g.jsx("div",{style:no(h,p),children:t})]}):null,g.jsxs("div",{style:{height:"auto",width:"100%",minHeight:"150px",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxSizing:"border-box",gap:"8px"},children:[g.jsx("cometchat-avatar",{avatarStyle:JSON.stringify(((e,t)=>new o.AvatarStyle({height:t?.height||"50px",width:t?.width||"50px"}))(0,l)),image:jn(i,m).avatar,name:jn(i,m).name}),g.jsx("span",{style:((e,t)=>({color:t?.nameTextColor||e.palette.getAccent(),font:t?.nameTextFont||n.fontHelper(e.typography.title1)}))(h,p),children:jn(i,m).name})]}),O()]}):null,M()?g.jsx(uo,{call:i,title:n.localize("PARTICIPANTS"),backIconUrl:d?.backIconUrl||s,avatarStyle:d?.avatarStyle||l,onBackClick:()=>d?.onBackClick||R,onItemClick:d?.onItemClick||void 0,datePattern:d?.datePattern||void 0,listItemStyle:d?.listItemStyle||void 0,callLogParticipantsStyle:d?.callLogParticipantsStyle||void 0,listItemView:d?.listItemView||null,subtitleView:d?.subtitleView||null,tailView:d?.tailView||null}):null,B()?g.jsx(Do,{call:i,title:n.localize("RECORDING"),backIconUrl:u?.backIconUrl||s,onBackClick:()=>u?.onBackClick||R,onItemClick:u?.onItemClick||void 0,datePattern:u?.datePattern||void 0,listItemStyle:u?.listItemStyle||void 0,callLogRecordingsStyle:u?.callLogRecordingsStyle||void 0,downloadIconUrl:u?.downloadIconUrl||void 0,hideDownloadButton:u?.hideDownloadButton||void 0,onDownloadClick:u?.onDownloadClick||void 0,listItemView:u?.listItemView||null,subtitleView:u?.subtitleView||null,tailView:u?.tailView||null}):null,L()?g.jsx(Uo,{callUser:U(),callGroup:P(),title:n.localize("CALL_HISTORY"),backIconUrl:C?.backIconUrl||s,listItemStyle:C?.listItemStyle||void 0,emptyStateView:C?.emptyStateView||null,errorStateView:C?.errorStateView||null,loadingIconURL:C?.loadingIconURL||void 0,loadingStateView:C?.loadingStateView||null,subtitleView:C?.subtitleView||void 0,tailView:C?.tailView||null,callLogRequestBuilder:C?.callLogRequestBuilder||null,onItemClick:C?.onItemClick||void 0,onBackClick:()=>C?.onBackClick||R,datePattern:C?.datePattern||void 0,dateSeparatorPattern:C?.dateSeparatorPattern||void 0,callLogHistoryStyle:C?.callLogHistoryStyle||void 0,onError:C?.onError||void 0}):null]})})};function Go(e,t){return{height:t?.height||"100%",width:t?.width||"100%",border:t?.border||"none",borderRadius:t?.borderRadius||"0px",background:t?.background||e.palette.getBackground(),display:"flex",boxSizing:"border-box",position:"relative"}}function Vo(e,t){return new o.LabelStyle({background:"transparent",textFont:t?.messageTextFont||n.fontHelper(e.typography.heading),textColor:t?.messageTextColor||e.palette.getAccent700()})}jo.defaultProps=Oo;const Ho={isMobileView:!1,messageText:n.localize("NO_CALLS_SELECTED"),withDetailsStyle:{},callLogDetailsConfiguration:{},callLogsConfiguration:{}},Qo=e=>{const{isMobileView:t,messageText:o,withDetailsStyle:s,callLogDetailsConfiguration:i,callLogsConfiguration:a}=e,{theme:l}=r.useContext(T),[c,C]=r.useState(null),d=r.useCallback((e=>{C(e)}),[C]),u=r.useCallback((()=>t?{width:"100%",display:c?"none":"block"}:{width:"280px",minWidth:"25%"}),[t,c]),p=r.useCallback((()=>t?{width:"100%",display:c?"block":"none"}:{width:"calc(100% - 280px)"}),[t,c]),h=r.useCallback((()=>{C(null)}),[C]);return function(e,t,n,o,s){r.useEffect((()=>{if(e.callLogDetailsStyle={...e.callLogDetailsStyle,border:`1px solid ${s?.palette?.getAccent100()}`},o){const t=()=>{n(null)};e.onBackClick=t}}),[e,o,n]),r.useEffect((()=>{t.callLogsStyle={...t.callLogsStyle,border:`1px solid ${s?.palette?.getAccent100()}`}}),[t])}(i,a,C,t,l),g.jsxs("div",{style:Go(l,s),children:[g.jsx("div",{style:u(),children:g.jsx($n,{title:n.localize("CALLS"),onInfoClick:a?.onInfoClick||d,activeCall:c,titleAlignment:a?.titleAlignment,listItemView:a?.listItemView,subtitleView:a?.subtitleView,tailView:a?.tailView,emptyStateView:a?.emptyStateView,errorStateView:a?.errorStateView,loadingIconURL:a?.loadingIconURL,loadingStateView:a?.loadingStateView,callLogRequestBuilder:a?.callLogRequestBuilder,onItemClick:a?.onItemClick||void 0,onError:a?.onError||void 0,listItemStyle:a?.listItemStyle,infoIconUrl:a?.infoIconUrl,datePattern:a?.datePattern,dateSeparatorPattern:a?.dateSeparatorPattern,incomingAudioCallIconUrl:a?.incomingAudioCallIconUrl,incomingVideoCallIconUrl:a?.incomingVideoCallIconUrl,outgoingAudioCallIconUrl:a?.outgoingAudioCallIconUrl,outgoingVideoCallIconUrl:a?.outgoingVideoCallIconUrl,missedAudioCallIconUrl:a?.missedAudioCallIconUrl,missedVideoCallIconUrl:a?.missedVideoCallIconUrl,callLogsStyle:a?.callLogsStyle,avatarStyle:a?.avatarStyle,hideSeparator:a?.hideSeparator,outgoingCallConfiguration:a?.outgoingCallConfiguration})}),g.jsx("div",{style:p(),children:c?g.jsx(jo,{title:n.localize("CALL_DETAIL"),call:c,onBackClick:()=>i?.onBackClick||h,backIconUrl:i?.backIconUrl,avatarStyle:i?.avatarStyle,data:i?.data||void 0,callLogHistoryConfiguration:i?.callLogHistoryConfiguration,callLogParticipantsConfiguration:i?.callLogParticipantsConfiguration,callLogRecordingsConfiguration:i?.callLogRecordingsConfiguration,callLogDetailsStyle:i?.callLogDetailsStyle}):g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},children:g.jsx("cometchat-label",{text:o,labelStyle:JSON.stringify(Vo(l,s))})})})]})};function No(e,t){return{position:"relative",width:e?.width||"100%",height:e?.height||"100%",background:e?.background||t.palette.getBackground(),border:e?.border||"none",borderRadius:e?.borderRadius||"0",boxShadow:e?.boxShadow,display:"flex",flexDirection:"column",boxSizing:"border-box",padding:e?.padding||"0",overflow:"hidden"}}function Ko(e,o){return new t.UsersStyle({width:"100%",height:"100%",border:"none",borderRadius:"0",background:"inherit",titleTextFont:e?.titleTextFont||n.fontHelper(o.typography.title1),titleTextColor:e?.titleTextColor||o.palette.getAccent(),emptyStateTextFont:e?.emptyStateTextFont||n.fontHelper(o.typography.title1),emptyStateTextColor:e?.emptyStateTextColor||o.palette.getAccent600(),errorStateTextFont:e?.errorStateTextFont||n.fontHelper(o.typography.title1),errorStateTextColor:e?.errorStateTextColor||o.palette.getAccent600(),loadingIconTint:e?.loadingIconTint||o.palette.getAccent600(),onlineStatusColor:e?.onlineStatusColor||o.palette.getSuccess(),separatorColor:e?.separatorColor||o.palette.getAccent50(),searchIconTint:e?.searchIconTint||o.palette.getAccent400(),searchBorder:e?.searchBorder||`1px solid ${o.palette.getAccent50()}`,searchBorderRadius:e?.searchBorderRadius||"8px",searchBackground:e?.searchBackground||o.palette.getAccent50(),searchPlaceholderTextFont:e?.searchPlaceholderTextFont||n.fontHelper(o.typography.subtitle1),searchPlaceholderTextColor:e?.searchPlaceholderTextColor||o.palette.getAccent400(),searchTextFont:e?.searchTextFont||n.fontHelper(o.typography.subtitle1),searchTextColor:e?.searchTextColor||o.palette.getAccent(),sectionHeaderTextFont:e?.sectionHeaderTextFont,sectionHeaderTextColor:e?.sectionHeaderTextColor})}function zo(e,t){return{background:e?.addMembersButtonBackground||t.palette.getPrimary(),buttonTextColor:e?.addMembersButtonTextColor||t.palette.getAccent900(),buttonTextFont:e?.addMembersButtonTextFont||n.fontHelper(t.typography.title2),width:"100%",border:"none",borderRadius:"8px",padding:"16px 0",display:"flex",justifyContent:"center",textAlign:"center"}}function _o(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:e?.backButtonIconTint||t.palette.getPrimary()||"",background:"transparent",position:"absolute",left:"19px",top:"19px"}}function Jo(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:e?.closeButtonIconTint||t.palette.getPrimary()||"",background:"transparent",position:"absolute",top:"19px",right:"19px"}}function Yo(e,o){return new t.ListStyle({width:"100%",height:"100%",background:"inherit",border:"none",borderRadius:"inherit",titleTextFont:e?.titleTextFont||n.fontHelper(o.typography.title1),titleTextColor:e?.titleTextColor||o.palette.getAccent(),searchPlaceholderTextFont:e?.searchPlaceholderTextFont||n.fontHelper(o.typography.subtitle1),searchPlaceholderTextColor:e?.searchPlaceholderTextColor||o.palette.getAccent500(),searchTextFont:e?.searchTextFont||n.fontHelper(o.typography.subtitle1),searchTextColor:e?.searchTextColor||o.palette.getAccent(),searchBorder:e?.searchBorder||"none",searchBorderRadius:e?.searchBorderRadius||"8px",searchBackground:e?.searchBackground||o.palette.getAccent50(),searchIconTint:e?.searchIconTint||o.palette.getAccent500(),separatorColor:e?.separatorColor||o.palette.getAccent400(),loadingIconTint:e?.loadingIconTint||o.palette.getAccent600(),emptyStateTextFont:e?.emptyStateTextFont||n.fontHelper(o.typography.heading),emptyStateTextColor:e?.emptyStateTextColor||o.palette.getAccent600(),errorStateTextFont:e?.errorStateTextFont||n.fontHelper(o.typography.heading),errorStateTextColor:e?.errorStateTextColor||o.palette.getAccent600(),sectionHeaderTextFont:e?.sectionHeaderTextFont||n.fontHelper(o.typography.caption1),sectionHeaderTextColor:e?.sectionHeaderTextColor||o.palette.getAccent500()})}function Wo(e,t){return{boxSizing:"border-box",position:"relative",width:e?.width||"100%",height:e?.height||"100%",background:e?.background||t.palette.getBackground(),border:e?.border||`1px solid ${t.palette.getAccent50()}`,borderRadius:e?.borderRadius||"0",overflow:"hidden"}}function Zo(e,t,r){return new o.ListItemStyle({height:e?.height||"45px",width:e?.width||"100%",background:e?.background||"inherit",activeBackground:e?.activeBackground||r.palette.getAccent100(),borderRadius:e?.borderRadius||"0",titleFont:e?.titleFont||n.fontHelper(r.typography.title2),titleColor:e?.titleColor||r.palette.getAccent(),border:e?.border||"none",separatorColor:e?.separatorColor||t?.separatorColor||r.palette.getAccent200(),hoverBackground:e?.hoverBackground||r.palette.getAccent50()})}function Xo(e,t){return new o.AvatarStyle({borderRadius:e?.borderRadius||"24px",width:e?.width||"28px",height:e?.height||"28px",border:e?.border||`1px solid ${t.palette.getAccent100()}`,backgroundColor:e?.backgroundColor||t.palette.getAccent700(),nameTextColor:e?.nameTextColor||t.palette.getAccent900(),backgroundSize:e?.backgroundSize||"cover",nameTextFont:e?.nameTextFont||n.fontHelper(t.typography.subtitle1),outerViewBorderWidth:e?.outerViewBorderWidth||"0",outerViewBorderRadius:e?.outerViewBorderRadius||"0",outerViewBorderColor:e?.outerViewBorderColor||"",outerViewBorderSpacing:e?.outerViewBorderSpacing||"0"})}function qo(e){return{...null!==e?e:{},border:e?.border||"none",borderRadius:e?.borderRadius||"24px",height:e?.height||"12px",width:e?.width||"12px"}}function $o(e){const{name:t,labelText:n,checked:o,disabled:s,checkboxStyle:i,onChange:a}=e,l=r.useRef();return function(e){const{ref:t,onChangePropRef:n}=e;r.useEffect((()=>{const e=t.current,o="cc-checkbox-changed",r=e=>n.current?.(e);return e.addEventListener(o,r),()=>{e.removeEventListener(o,r)}}),[t,n])}({ref:l,onChangePropRef:Ce(a)}),g.jsx("cometchat-checkbox",{ref:l,name:t,labelText:n,...o?{checked:o}:{},...s?{disabled:s}:{},...(c=i,C="checkboxStyle",c?{[C]:JSON.stringify(c)}:{})});var c,C}function er(e){const{data:n,moreIconURL:o,topMenuSize:s,menuListStyle:i,onOptionClick:a}=e,l=r.useRef(),c=Ce(a);return function(e){const{data:n,idToOnClickMapRef:o,ref:s,onOptionClickPropRef:i}=e;r.useEffect((()=>{const e=new Map;o.current=e;for(let t=0;t<n.length;t++){const{id:o,onClick:r}=n[t];e.set(o,r)}}),[n,o]),r.useEffect((()=>{const e=s.current,n="cc-menu-clicked",r=e=>{const n=t.CometChatUIKitUtility.clone(e.detail.data);n.onClick=o.current?.get(n.id),e.detail.data=n,i.current?.(e)};return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}),[s,o,i])}({data:n,idToOnClickMapRef:r.useRef(null),ref:l,onOptionClickPropRef:c}),g.jsx("cometchat-menu-list",{ref:l,moreIconURL:o,topMenuSize:s,...(C=i,d="menuListStyle",C?{[d]:JSON.stringify(C)}:{}),data:JSON.stringify(n)});var C,d}function tr(e){const{name:t,labelText:n,checked:o,disabled:s,radioButtonStyle:i,onChange:a}=e,l=r.useRef();return function(e){const{ref:t,onChangePropRef:n}=e;r.useEffect((()=>{const e=t.current,o="cc-radio-button-changed",r=e=>n.current?.(e);return e.addEventListener(o,r),()=>{e.removeEventListener(o,r)}}),[t,n])}({ref:l,onChangePropRef:Ce(a)}),g.jsx("cometchat-radio-button",{ref:l,name:t,labelText:n,...o?{checked:o}:{},...s?{disabled:s}:{},...(c=i,C="radioButtonStyle",c?{[C]:JSON.stringify(c)}:{})});var c,C}Qo.defaultProps=Ho;class nr{constructor(e){const{searchText:t,usersRequestBuilder:n,searchRequestBuilder:o}=e;let r=n;null===r&&(r=(new s.CometChat.UsersRequestBuilder).setLimit(nr.defaultLimit)),0!==t.length?null===o?r.setSearchKeyword(t):r=o.setSearchKeyword(t):null===o?r.setSearchKeyword(""):r=o.setSearchKeyword(""),this.usersRequest=r.build()}fetchNext(){return this.usersRequest.fetchNext()}getCurrentPage(){return this.usersRequest.pagination.current_page}static atttachListeners(e){const t="UsersList_"+String(Date.now()),n=new s.CometChat.UserListener({onUserOnline:e,onUserOffline:e});return s.CometChat.addUserListener(t,n),()=>s.CometChat.removeUserListener(t)}static attachConnestionListener(e){const t="UsersList_connection_"+String(Date.now());return s.CometChat.addConnectionListener(t,new s.CometChat.ConnectionListener({onConnected:()=>{console.log("ConnectionListener =>connected"),e&&e()},onDisconnected:()=>{console.log("ConnectionListener => On Disconnected")}})),()=>s.CometChat.removeConnectionListener(t)}}nr.defaultLimit=30;var or="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M4.9598%2011.531C5.47958%2012.7541%206.4639%2013.7205%207.69625%2014.2178C8.92859%2014.7151%2010.308%2014.7024%2011.531%2014.1826C12.754%2013.6629%2013.7205%2012.6785%2014.2178%2011.4462C14.715%2010.2139%2014.7024%208.83445%2014.1826%207.61142C13.6629%206.3884%2012.6785%205.42195%2011.4462%204.92467C10.2138%204.4274%208.83444%204.44004%207.61141%204.95981C6.38839%205.47959%205.42194%206.46391%204.92467%207.69626C4.42739%208.9286%204.44003%2010.308%204.9598%2011.531V11.531Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M13.114%2013.1139L17.0001%2017.0005%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",rr="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function sr(e,t){let o=e;const{type:r}=t;switch(r){case"setSearchText":o={...e,searchText:t.searchText};break;case"appendUsers":let r=[];t.removeOldUsers?(e.disableLoadingState||(e.userList=[]),r=t.users,e.disableLoadingState||(o={...e,userList:r})):t.usersManager&&[0].includes(t.usersManager?.getCurrentPage())&&!t.users.length?!t.users.length&&t.onEmpty&&(setTimeout((()=>{t.onEmpty()})),o={...e,fetchState:n.States.empty}):0!==t.users.length&&(o={...e,userList:1==t.usersManager?.getCurrentPage()?[...t.users]:[...e.userList,...t.users]});break;case"setUserList":o={...e,userList:t.userList};break;case"setFetchState":o={...e,fetchState:t.fetchState};break;case"updateUser":{const{userList:n}=e,{user:r}=t,s=r.getUid(),i=n.findIndex((e=>e.getUid()===s));i>-1&&(o={...e,userList:n.map(((e,t)=>t===i?r:e))});break}case"setIsFirstReload":o={...e,isFirstReload:t.isFirstReload}}return o}function ir(e){const{title:t=n.localize("USERS"),tileAlignment:o=n.TitleAlignment.left,hideSearch:i=!1,searchIconURL:a=or,searchPlaceholderText:l=n.localize("SEARCH"),listItemView:c=null,showSectionHeader:C=!0,sectionHeaderKey:d="getName",loadingStateView:u,loadingIconURL:p=rr,hideError:h=!1,errorStateView:m,errorStateText:A=n.localize("SOMETHING_WRONG"),emptyStateView:x,emptyStateText:b=n.localize("NO_USERS_FOUND"),subtitleView:y=null,disableUsersPresence:f=!1,menus:w=null,options:D=null,hideSeparator:E=!1,selectionMode:v=n.SelectionMode.none,onSelect:S,usersRequestBuilder:I=null,searchRequestBuilder:F=null,onItemClick:k,onError:M,statusIndicatorStyle:B=null,avatarStyle:L=null,usersStyle:R=null,listItemStyle:U=null,activeUser:P=null,searchKeyword:O="",onEmpty:j,fetchingUsers:G=!1,fetchTimeOut:V,userPresencePlacement:H=n.UserPresencePlacement.bottom,disableLoadingState:Q=!1}=e,[N,K]=r.useReducer(sr,{searchText:"",userList:[],fetchState:n.States.loading,isFirstReload:!1,fetchingUsers:G,fetchTimeOut:V,disableLoadingState:Q}),z=de(M),_=r.useRef(null),J=r.useRef(""),{theme:Y}=r.useContext(T),W=r.useRef(!1),Z=r.useRef(!1),X=r.useRef("");let q=r.useRef(!0);N.searchText&&N.searchText!==X.current&&(X.current=N.searchText),N.isFirstReload&&(W.current=!0,N.isFirstReload=!1);const $=r.useCallback((async e=>{const t=_.current;if(!t)return;let o=Z.current||Q&&!q?n.States.loaded:n.States.loading;K({type:"setFetchState",fetchState:o});try{const o=await t.fetchNext();if(e!==J.current)return;let r=!!Z.current;K({type:"appendUsers",users:o,removeOldUsers:r,usersManager:t,onEmpty:j}),W.current&&(nr.attachConnestionListener((()=>{const e=null===I?(new s.CometChat.UsersRequestBuilder).setLimit(30):I;_.current=new nr({searchText:X.current,usersRequestBuilder:e,searchRequestBuilder:F}),Z.current=!0,$(J.current="initialFetchNext_"+String(Date.now()))})),W.current=!1),Z.current?Z.current=!1:K({type:"setFetchState",fetchState:n.States.loaded})}catch(t){e===J.current&&N.userList?.length<=0&&K({type:"setFetchState",fetchState:n.States.error}),z(t)}q.current=!1}),[z,K]),ee=r.useCallback((e=>{const t=e.trim();(0===e.length||t.length===e.length&&t.length>0)&&K({type:"setSearchText",searchText:e})}),[K]),te=r.useCallback((e=>{K({type:"updateUser",user:e})}),[K]);function ne(e){if(v!==n.SelectionMode.single&&v!==n.SelectionMode.multiple)return null;let t;return t=v===n.SelectionMode.single?g.jsx(tr,{onChange:t=>S?.(e,t.detail.checked)}):g.jsx($o,{onChange:t=>S?.(e,t.detail.checked)}),g.jsx("div",{style:{paddingRight:"8px"},children:t})}function oe(e){let t;return(t=D?.(e))?.length?g.jsx(er,{data:t,onOptionClick:e=>e.detail.data.onClick?.()}):null}function re(e){return f||e.getStatus()===n.CometChatUIKitConstants.userStatusType.offline?null:R?.onlineStatusColor||Y.palette.getSuccess()||null}return function(e){const{usersManagerRef:t,fetchNextAndAppendUsers:o,searchText:s,usersRequestBuilder:i,searchRequestBuilder:a,dispatch:l,updateUser:c,fetchNextIdRef:C,searchKeyword:g,disableLoadingState:d}=e;r.useEffect((()=>{l({type:"setIsFirstReload",isFirstReload:!0}),t.current=new nr({searchText:s,usersRequestBuilder:i,searchRequestBuilder:a}),d||l({type:"setUserList",userList:[]}),o(C.current="initialFetch_"+String(Date.now()))}),[s,i,a,o,l,C,t]),r.useEffect((()=>nr.atttachListeners(c)),[c]),r.useEffect((()=>{const e=n.CometChatUserEvents.ccUserBlocked.subscribe(c),t=n.CometChatUserEvents.ccUserUnblocked.subscribe(c);return()=>{e.unsubscribe(),t.unsubscribe()}}),[c]),r.useEffect((()=>{l({type:"setSearchText",searchText:g})}),[g,l])}({usersManagerRef:_,fetchNextAndAppendUsers:$,searchText:N.searchText,usersRequestBuilder:I,searchRequestBuilder:F,dispatch:K,updateUser:te,fetchNextIdRef:J,searchKeyword:O,disableLoadingState:Q}),g.jsxs("div",{className:"cc-users",style:Wo(R,Y),children:[w?g.jsx("div",{className:"cc-users__menus",style:{position:"absolute",top:"12px",right:"12px"},children:w}):null,g.jsx(pe,{title:t,titleAlignment:o,hideSearch:N.fetchState===n.States.error||i,searchIconURL:a,searchPlaceholderText:l,searchText:N.searchText,onSearch:ee,list:N.userList,listItem:c||function(e){return g.jsx(Xn,{id:e.getUid(),avatarURL:e.getAvatar(),avatarName:e.getName(),title:e.getName(),isActive:v===n.SelectionMode.none&&e.getUid()===P?.getUid(),hideSeparator:E,statusIndicatorColor:re(e),statusIndicatorStyle:qo(B),avatarStyle:Xo(L,Y),listItemStyle:Zo(U,R,Y),subtitleView:y?.(e),subtitleViewClassName:"cc-users__subtitle-view",tailView:ne(e),tailViewClassName:"cc-users__tail-view",menuView:oe(e),menuViewClassName:"cc-users__options-view",onClick:t=>k?.(e),userPresencePlacement:H})},onScrolledToBottom:()=>$(J.current="onScrolledToBottom_"+String(Date.now())),showSectionHeader:C,sectionHeaderKey:d,listItemKey:"getUid",state:N.fetchState!==n.States.loaded||0!==N.userList.length||j?N.fetchState:n.States.empty,loadingView:u,loadingIconURL:p,hideError:h,errorStateView:m,errorStateText:A,emptyStateView:x,emptyStateText:b,listStyle:Yo(R,Y)})]})}var ar="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M4.9598%2011.531C5.47958%2012.7541%206.4639%2013.7205%207.69625%2014.2178C8.92859%2014.7151%2010.308%2014.7024%2011.531%2014.1826C12.754%2013.6629%2013.7205%2012.6785%2014.2178%2011.4462C14.715%2010.2139%2014.7024%208.83445%2014.1826%207.61142C13.6629%206.3884%2012.6785%205.42195%2011.4462%204.92467C10.2138%204.4274%208.83444%204.44004%207.61141%204.95981C6.38839%205.47959%205.42194%206.46391%204.92467%207.69626C4.42739%208.9286%204.44003%2010.308%204.9598%2011.531V11.531Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M13.114%2013.1139L17.0001%2017.0005%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",lr="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function cr(e){const{backButtonIconURL:o="",showBackButton:i=!1,onBack:a,title:l=n.localize("ADD_MEMBERS"),titleAlignment:c=n.TitleAlignment.center,hideSearch:C=!1,searchIconURL:d=ar,searchPlaceholder:u=n.localize("SEARCH"),showSectionHeader:p=!1,sectionHeaderField:h="getName",loadingIconURL:m=lr,loadingStateView:A,emptyStateText:x=n.localize("NO_USERS_FOUND"),emptyStateView:b,errorStateText:y=n.localize("SOMETHING_WRONG"),errorStateView:f,hideError:w=!1,disableUsersPresence:D=!1,hideSeparator:E=!1,onError:v,menus:S,options:I,selectionMode:F=n.SelectionMode.multiple,onSelect:k,usersRequestBuilder:M,searchRequestBuilder:B,listItemView:L,subtitleView:R,group:U,onAddMembersButtonClick:P=null,buttonText:O=n.localize("ADD_MEMBERS"),closeButtonIconURL:j="",onClose:G,statusIndicatorStyle:V,avatarStyle:H,listItemStyle:Q,addMembersStyle:N=null}=e,K=r.useRef([]),z=r.useRef(F),_=r.useRef(null),J=Ce(k),Y=Ce(U),W=Ce(a),Z=Ce(P),X=de(v),{theme:q}=r.useContext(T),$=r.useCallback((e=>{const t=new s.CometChat.GroupMember(e.getUid(),n.CometChatUIKitConstants.groupMemberScope.participant);return t.setName(e.getName()),t.setGuid(Y.current.getGuid()),t}),[Y]),ee=r.useCallback(((e,t)=>{if(J.current)return J.current(e,t);if(z.current===n.SelectionMode.single)K.current=[$(e)];else if(z.current===n.SelectionMode.multiple){const t=e.getUid(),n=[];let o=!1;for(let e=0;e<K.current.length;e++){const r=K.current[e];t===r.getUid()?o=!0:n.push(r)}o||n.push($(e)),K.current=n}}),[$,J]),te=r.useCallback(((e,o,r)=>{const i=new s.CometChat.Action(r.getGuid(),n.CometChatUIKitConstants.MessageTypes.groupMember,n.CometChatUIKitConstants.MessageReceiverType.group,n.CometChatUIKitConstants.MessageCategory.action);return i.setAction(n.CometChatUIKitConstants.groupMemberAction.ADDED),i.setActionBy(t.CometChatUIKitUtility.clone(o)),i.setActionFor(t.CometChatUIKitUtility.clone(r)),i.setActionOn(t.CometChatUIKitUtility.clone(e)),i.setReceiver(t.CometChatUIKitUtility.clone(r)),i.setSender(t.CometChatUIKitUtility.clone(o)),i.setConversationId("group_"+r.getGuid()),i.setMuid(t.CometChatUIKitUtility.ID()),i.setMessage(`${o.getName()} added ${e.getUid()}`),i.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),i}),[]),ne=r.useCallback((async()=>{if(0!==K.current.length)try{const e=Y.current,o=Z.current;if(o)return o(e.getGuid(),K.current),void(K.current=[]);const r=new Set,i=await s.CometChat.addMembersToGroup(e.getGuid(),K.current,[]);if(i)for(const e in i)"success"===i[e]&&r.add(e);const a=[];for(let e=0;e<K.current.length;e++){const t=K.current[e];r.has(t.getUid())&&a.push(t)}const l=_.current;if(l){const o=t.CometChatUIKitUtility.clone(e);o.setMembersCount(e.getMembersCount()+a.length),n.CometChatGroupEvents.ccGroupMemberAdded.next({messages:a.map((e=>te(e,l,o))),usersAdded:a,userAddedIn:o,userAddedBy:t.CometChatUIKitUtility.clone(l)})}K.current=[],W.current?.()}catch(e){X(e)}}),[X,te,Y,Z,W]);return function(e){const{loggedInUserRef:t,errorHandler:n,selectionMode:o,selectionModeRef:i,membersToAddRef:a}=e;r.useEffect((()=>{i.current!==o&&(i.current=o,a.current=[])}),[o,a,i]),r.useEffect((()=>{(async()=>{try{t.current=await s.CometChat.getLoggedinUser()}catch(e){n(e)}})()}),[n,t])}({loggedInUserRef:_,errorHandler:X,selectionMode:F,selectionModeRef:z,membersToAddRef:K}),g.jsxs("div",{className:"cc-add-members",style:No(N,q),children:[g.jsx(ir,{title:l,tileAlignment:c,hideSearch:C,searchIconURL:d,searchPlaceholderText:u,showSectionHeader:p,sectionHeaderKey:h,loadingIconURL:m,loadingStateView:A,emptyStateText:x,emptyStateView:b,errorStateText:y,errorStateView:f,hideError:w,disableUsersPresence:D,hideSeparator:E,onError:v,menus:S,options:I,selectionMode:F,onSelect:ee,usersRequestBuilder:M,searchRequestBuilder:B,listItemView:L,subtitleView:R,statusIndicatorStyle:V,avatarStyle:H,listItemStyle:Q,usersStyle:Ko(N,q),onItemClick:void 0,activeUser:void 0}),g.jsx("div",{className:"cc-add-members__add-btn-wrapper",style:{padding:"16px",boxSizing:"border-box"},children:g.jsx(De,{text:O,buttonStyle:zo(N,q),onClick:ne})}),i?g.jsx(De,{iconURL:o,buttonStyle:_o(N,q),onClick:a}):null,g.jsx(De,{iconURL:j,buttonStyle:Jo(N,q),onClick:G})]})}function Cr(e,t){return{position:"relative",height:e?.height||"100%",width:e?.width||"100%",background:e?.background||t.palette.getBackground(),border:e?.border||"none",borderRadius:e?.borderRadius||"0",boxShadow:e?.boxShadow||"",padding:e?.padding||"0",boxSizing:"border-box"}}function gr(e,o){return new t.ListStyle({width:"100%",height:"100%",background:"inherit",border:"none",borderRadius:"inherit",titleTextFont:e?.titleTextFont||n.fontHelper(o.typography.title1),titleTextColor:e?.titleTextColor||o.palette.getAccent(),emptyStateTextFont:e?.emptyStateTextFont||n.fontHelper(o.typography.heading),emptyStateTextColor:e?.emptyStateTextColor||o.palette.getAccent600(),errorStateTextFont:e?.errorStateTextFont||n.fontHelper(o.typography.heading),errorStateTextColor:e?.errorStateTextColor||o.palette.getAccent600(),loadingIconTint:e?.loadingIconTint||o.palette.getAccent600(),searchIconTint:e?.searchIconTint||o.palette.getAccent500(),searchBorder:e?.searchBorder||"none",searchBorderRadius:e?.searchBorderRadius||"8px",searchBackground:e?.searchBackground||o.palette.getAccent50(),searchPlaceholderTextFont:e?.searchPlaceholderTextFont||n.fontHelper(o.typography.subtitle1),searchPlaceholderTextColor:e?.searchPlaceholderTextColor||o.palette.getAccent500(),searchTextFont:e?.searchTextFont||n.fontHelper(o.typography.subtitle1),searchTextColor:e?.searchTextColor||o.palette.getAccent(),separatorColor:e?.separatorColor||o.palette.getAccent400()})}function dr(e){return{...e||{},width:e?.width||"12px",height:e?.height||"12px",border:e?.border||"none",borderRadius:e?.borderRadius||"24px"}}function ur(e,t){return new o.AvatarStyle({borderRadius:e?.borderRadius||"24px",width:e?.width||"36px",height:e?.height||"36px",border:e?.border||"none",backgroundColor:e?.backgroundColor||t.palette.getAccent700(),nameTextColor:e?.nameTextColor||t.palette.getAccent900(),backgroundSize:e?.backgroundSize||"cover",nameTextFont:e?.nameTextFont||n.fontHelper(t.typography.subtitle1),outerViewBorderWidth:e?.outerViewBorderWidth||"0",outerViewBorderRadius:e?.outerViewBorderRadius||"0",outerViewBorderColor:e?.outerViewBorderColor||"",outerViewBorderSpacing:e?.outerViewBorderSpacing||"0"})}function pr(e,t,r){return new o.ListItemStyle({height:e?.height||"45px",width:e?.width||"100%",border:e?.border||"none",borderRadius:e?.borderRadius||"0",background:e?.background||"inherit",activeBackground:e?.activeBackground||"",hoverBackground:e?.hoverBackground||"",separatorColor:e?.separatorColor||t?.separatorColor||r.palette.getAccent200(),titleFont:e?.titleFont||n.fontHelper(r.typography.title2),titleColor:e?.titleColor||r.palette.getAccent()})}function hr(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:e?.backButtonIconTint||t.palette.getPrimary()||"",background:"transparent",position:"absolute",left:"19px",top:"19px"}}function mr(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:e?.closeButtonIconTint||t.palette.getPrimary()||"",background:"transparent",position:"absolute",right:"19px",top:"19px"}}function Ar(e,t){return{border:"none",borderRadius:"0",buttonIconTint:e?.unbanIconTint||"rgb(51, 153, 255)",background:"transparent"}}function xr(e){return new o.MenuListStyle({border:"none",borderRadius:"8px",background:e.palette.getBackground(),moreIconTint:e.palette.getPrimary(),submenuWidth:"100%",submenuHeight:"100%",submenuBorder:`1px solid ${e.palette.getAccent200()}`,submenuBorderRadius:"8px",submenuBackground:e.palette.getBackground()})}var br="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";class yr{constructor(e){const{bannedMembersRequestBuilder:t,searchRequestBuilder:n,searchText:o,groupGuid:r}=e;let i=t||new s.CometChat.BannedMembersRequestBuilder(r).setLimit(30);""!==o?(i=n||i,i.setSearchKeyword(o)):(i=n||i,i.setSearchKeyword("")),this.bannedMembersRequest=i.build()}fetchNext(){return this.bannedMembersRequest.fetchNext()}static createGroupMemberFromUser(e,t){const n=new s.CometChat.GroupMember(e.getUid());return n.setName(e.getName()),n.setAvatar(e.getAvatar()),n.setGuid(t.getGuid()),n}static attachSDKGroupListener(e,t){const n="BannedMembers_GroupListener_"+String(Date.now());return s.CometChat.addGroupListener(n,new s.CometChat.GroupListener({onGroupMemberBanned:(n,o,r,s)=>{e.current.getGuid()===s.getGuid()&&t({type:"addMember",member:yr.createGroupMemberFromUser(o,e.current)})},onGroupMemberUnbanned:(n,o,r,s)=>{e.current.getGuid()===s.getGuid()&&t({type:"removeBannedMemberIfPresent",bannedMemberUid:o.getUid()})}})),()=>s.CometChat.removeGroupListener(n)}static attachSDKUserListener(e){const t="BannedMembers_UserListener_"+String(Date.now()),n=t=>e({type:"updateMemberStatusIfPresent",member:t});return s.CometChat.addUserListener(t,new s.CometChat.UserListener({onUserOnline:n,onUserOffline:n})),()=>s.CometChat.removeUserListener(t)}}var fr="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M4.9598%2011.531C5.47958%2012.7541%206.4639%2013.7205%207.69625%2014.2178C8.92859%2014.7151%2010.308%2014.7024%2011.531%2014.1826C12.754%2013.6629%2013.7205%2012.6785%2014.2178%2011.4462C14.715%2010.2139%2014.7024%208.83445%2014.1826%207.61142C13.6629%206.3884%2012.6785%205.42195%2011.4462%204.92467C10.2138%204.4274%208.83444%204.44004%207.61141%204.95981C6.38839%205.47959%205.42194%206.46391%204.92467%207.69626C4.42739%208.9286%204.44003%2010.308%204.9598%2011.531V11.531Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M13.114%2013.1139L17.0001%2017.0005%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",wr="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function Dr(e,t){let n=e;const{type:o}=t;switch(o){case"setSearchText":n={...e,searchText:t.searchText};break;case"setFetchState":n={...e,fetchState:t.fetchState};break;case"appendBannedMembers":{const{bannedMembers:o}=t;0!==o.length&&(n={...e,bannedMembers:[...e.bannedMembers,...o]});break}case"setBannedMembers":n={...e,bannedMembers:t.bannedMembers};break;case"removeBannedMemberIfPresent":{const{bannedMembers:o}=e,r=t.bannedMemberUid,s=o.findIndex((e=>e.getUid()===r));s>-1&&(n={...e,bannedMembers:o.filter(((e,t)=>t!==s))});break}case"addMember":n={...e,bannedMembers:[...e.bannedMembers,t.member]};break;case"updateMemberStatusIfPresent":{const{member:o}=t,{bannedMembers:r}=e,s=o.getUid(),i=r.findIndex((e=>e.getUid()===s));i>-1&&(n={...e,bannedMembers:r.map(((e,t)=>(t===i&&e.setStatus(o.getStatus()),e)))});break}}return n}function Er(e){const{backButtonIconURL:t="",showBackButton:o=!1,onBack:i,menus:a=null,title:l=n.localize("BANNED_MEMBERS"),titleAlignment:c=n.TitleAlignment.center,searchPlaceholder:C=n.localize("SEARCH"),searchIconURL:d=fr,hideSearch:u=!0,loadingIconURL:p=wr,loadingStateView:h,emptyStateText:m=n.localize("NO_BANNED_MEMBERS_FOUND"),emptyStateView:A,errorStateText:x=n.localize("SOMETHING_WRONG"),errorStateView:b,onError:y,group:f,bannedMembersRequestBuilder:w=null,searchRequestBuilder:D=null,listItemView:E=null,hideSeparator:v=!1,disableUsersPresence:S=!0,closeButtonIconURL:I="",onClose:F,subtitleView:k=null,options:M=null,selectionMode:B=n.SelectionMode.none,unbanIconURL:L=br,onItemClick:R=null,onSelect:U=null,hideError:P=!1,statusIndicatorStyle:O=null,avatarStyle:j=null,bannedMemberStyle:G=null,listItemStyle:V=null}=e,[H,Q]=r.useReducer(Dr,{searchText:"",bannedMembers:[],fetchState:n.States.loading}),N=r.useRef(null),K=r.useRef(""),z=de(y),_=Ce(f),{theme:J}=r.useContext(T),Y=r.useCallback((e=>{const t=e.trim();(0===e.length||t.length===e.length&&t.length>0)&&Q({type:"setSearchText",searchText:e})}),[Q]),W=r.useCallback((async e=>{if(N.current){Q({type:"setFetchState",fetchState:n.States.loading});try{const t=await N.current.fetchNext();if(e!==K.current)return;0!==t.length&&Q({type:"appendBannedMembers",bannedMembers:t}),Q({type:"setFetchState",fetchState:n.States.loaded})}catch(t){e===K.current&&(Q({type:"setFetchState",fetchState:n.States.error}),z(t))}}}),[z,Q]),Z=r.useCallback((async e=>{try{await s.CometChat.unbanGroupMember(_.current.getGuid(),e.getUid()),Q({type:"removeBannedMemberIfPresent",bannedMemberUid:e.getUid()})}catch(e){z(e)}}),[Q,z,_]);function X(e){return S||e.getStatus()===n.CometChatUIKitConstants.userStatusType.offline?null:G?.onlineStatusColor||J.palette.getSuccess()||"rgb(0, 200, 111)"}function q(e){const t=M?.(e);return t?.length?g.jsx(er,{data:t,menuListStyle:xr(J),onOptionClick:e=>{const{onClick:t}=e.detail.data;t?.()}}):null}function $(e){switch(B){case n.SelectionMode.none:return g.jsx(De,{iconURL:L,onClick:()=>Z(e),hoverText:n.localize("UNBAN"),buttonStyle:Ar(G)});case n.SelectionMode.single:return g.jsx(tr,{onChange:t=>U?.(e,t.detail.checked)});case n.SelectionMode.multiple:return g.jsx($o,{onChange:t=>U?.(e,t.detail.checked)});default:return null}}return function(e){const{bannedMembersManagerRef:t,groupGuid:o,searchText:s,bannedMembersRequestBuilder:i,searchRequestBuilder:a,dispatch:l,fetchNextAndAppendBannedMembers:c,fetchNextIdRef:C,groupPropRef:g}=e;r.useEffect((()=>{t.current=new yr({groupGuid:o,bannedMembersRequestBuilder:i,searchRequestBuilder:a,searchText:s}),l({type:"setBannedMembers",bannedMembers:[]}),c(C.current="initialFetchNext_"+String(Date.now()))}),[o,i,a,s,c,l,t,C]),r.useEffect((()=>{const e=n.CometChatGroupEvents.ccGroupMemberBanned.subscribe((e=>{const{kickedFrom:t,kickedUser:n}=e;t.getGuid()===g.current.getGuid()&&l({type:"addMember",member:yr.createGroupMemberFromUser(n,t)})})),t=n.CometChatGroupEvents.ccGroupMemberUnbanned.subscribe((e=>{const{unbannedFrom:t,unbannedUser:n}=e;t.getGuid()===g.current.getGuid()&&l({type:"removeBannedMemberIfPresent",bannedMemberUid:n.getUid()})}));return()=>{e.unsubscribe(),t.unsubscribe()}}),[l,g]),r.useEffect((()=>yr.attachSDKGroupListener(g,l)),[l,g]),r.useEffect((()=>yr.attachSDKUserListener(l)),[l])}({groupGuid:f.getGuid(),searchText:H.searchText,bannedMembersRequestBuilder:w,searchRequestBuilder:D,bannedMembersManagerRef:N,dispatch:Q,fetchNextAndAppendBannedMembers:W,fetchNextIdRef:K,groupPropRef:_}),g.jsxs("div",{className:"cc-banned-members",style:Cr(G,J),children:[g.jsxs("div",{className:"cc-banned-members__list-wrapper",style:{position:"relative",height:"100%"},children:[null===a?null:g.jsx("div",{className:"cc-banned-members__menus",style:{position:"absolute",right:"12px",top:"8px",cursor:"pointer"},children:a}),g.jsx(pe,{title:l,titleAlignment:c,searchPlaceholderText:C,searchIconURL:d,searchText:H.searchText,onSearch:Y,hideSearch:u,list:H.bannedMembers,listItemKey:"getUid",listItem:E||function(e){return g.jsx(Xn,{id:e.getUid(),title:e.getName(),avatarURL:e.getAvatar(),avatarName:e.getName(),statusIndicatorColor:X(e),hideSeparator:v,statusIndicatorStyle:dr(O),avatarStyle:ur(j,J),listItemStyle:pr(V,G,J),subtitleView:k?.(e),subtitleViewClassName:"cc-banned-members__subtitle-view",menuView:q(e),menuViewClassName:"cc-banned-members__options-view",tailView:$(e),tailViewClassName:"cc-banned-members__tail-view",onClick:t=>R?.(e)})},showSectionHeader:!1,onScrolledToBottom:()=>W(K.current="onScrolledToBottom_"+String(Date.now())),state:H.fetchState===n.States.loaded&&0===H.bannedMembers.length?n.States.empty:H.fetchState,loadingIconURL:p,emptyStateText:m,errorStateText:x,loadingView:h,emptyStateView:A,errorStateView:b,hideError:P,listStyle:gr(G,J)})]}),o?g.jsx(De,{iconURL:t,buttonStyle:hr(G,J),onClick:i}):null,g.jsx(De,{iconURL:I,buttonStyle:mr(G,J),onClick:F})]})}function vr(e,t){return{width:e?.width||"100%",height:e?.height||"100%",border:e?.border||`1px solid ${t.palette.getAccent400()}`,borderRadius:e?.borderRadius||"0",background:e?.background||t.palette.getBackground(),boxShadow:e?.boxShadow||"",position:"relative",boxSizing:"border-box"}}function Sr(e,t){return new o.ConfirmDialogStyle({confirmButtonBackground:e?.confirmButtonBackground||t.palette.getError(),cancelButtonBackground:e?.cancelButtonBackground||t.palette.getSecondary(),confirmButtonTextColor:e?.confirmButtonTextColor||t.palette.getAccent900("light"),confirmButtonTextFont:e?.confirmButtonTextFont||n.fontHelper(t.typography.text2),cancelButtonTextColor:e?.cancelButtonTextColor||t.palette.getAccent900("dark"),cancelButtonTextFont:e?.cancelButtonTextFont||n.fontHelper(t.typography.text2),titleFont:e?.titleFont||n.fontHelper(t.typography.title1),titleColor:e?.titleColor||t.palette.getAccent(),messageTextFont:e?.messageTextFont||n.fontHelper(t.typography.subtitle2),messageTextColor:e?.messageTextColor||t.palette.getAccent600(),background:e?.background||t.palette.getBackground(),height:e?.height||"auto",width:e?.width||"auto",border:e?.border||"none",borderRadius:e?.borderRadius||"12px",boxShadow:e?.boxShadow||`0 0 1px 1px ${t.palette.getAccent50()}`})}function Ir(e,o){return new t.ListStyle({background:"inherit",width:"100%",height:"100%",border:"none",borderRadius:"inherit",titleTextFont:e?.titleTextFont||n.fontHelper(o.typography.title1),titleTextColor:e?.titleTextColor||o.palette.getAccent(),separatorColor:e?.separatorColor||o.palette.getAccent400(),loadingIconTint:e?.loadingIconTint||o.palette.getAccent600(),emptyStateTextFont:e?.emptyStateTextFont||n.fontHelper(o.typography.heading),emptyStateTextColor:e?.emptyStateTextColor||o.palette.getAccent600(),errorStateTextFont:e?.errorStateTextFont||n.fontHelper(o.typography.heading),errorStateTextColor:e?.errorStateTextColor||o.palette.getAccent600()})}function Fr(e,t){return new o.AvatarStyle({width:e?.width||"36px",height:e?.height||"36px",borderRadius:e?.borderRadius||"24px",border:e?.border||`1px solid ${t.palette.getAccent100()}`,backgroundColor:e?.backgroundColor||t.palette.getAccent700(),nameTextColor:e?.nameTextColor||t.palette.getAccent900(),nameTextFont:e?.nameTextFont||n.fontHelper(t.typography.subtitle1),backgroundSize:e?.backgroundSize||"cover",outerViewBorderWidth:e?.outerViewBorderWidth||"0",outerViewBorderRadius:e?.outerViewBorderRadius||"0",outerViewBorderColor:e?.outerViewBorderColor||"",outerViewBorderSpacing:e?.outerViewBorderSpacing||"0"})}function kr(e){return{...null!==e?e:{},width:e?.width||"12px",height:e?.height||"12px",border:e?.border||"none",borderRadius:e?.borderRadius||"24px"}}function Tr(e,t,r){return new o.ListItemStyle({height:e?.height||"auto",width:e?.width||"100%",background:e?.background||"inherit",activeBackground:e?.activeBackground||r.palette.getAccent100(),borderRadius:e?.borderRadius||"0",titleFont:e?.titleFont||n.fontHelper(r.typography.title2),titleColor:e?.titleColor||r.palette.getAccent(),border:e?.border||"none",separatorColor:e?.separatorColor||t?.separatorColor||r.palette.getAccent200(),hoverBackground:e?.hoverBackground||r.palette.getAccent50()})}function Mr(e,t){return new o.BadgeStyle({textFont:e?.textFont||n.fontHelper(t.typography.subtitle2),textColor:e?.textColor||t.palette.getAccent("dark"),background:e?.background||t.palette.getPrimary(),borderRadius:e?.borderRadius||"16px",width:e?.width||"24px",height:e?.height||"16px",border:e?.border||"none"})}function Br(e,t){return new o.LabelStyle({background:"transparent",textFont:e?.threadIndicatorTextFont||n.fontHelper(t.typography.caption2),textColor:e?.threadIndicatorTextColor||t.palette.getAccent400()})}function Lr(e){return new o.IconStyle({width:"24px",height:"24px",iconTint:e.palette.getAccent400()})}function Rr(e,t){return new o.ReceiptStyle({waitIconTint:e?.waitIconTint||t.palette.getAccent700(),sentIconTint:e?.sentIconTint||t.palette.getAccent600(),deliveredIconTint:e?.deliveredIconTint||t.palette.getAccent600(),readIconTint:e?.readIconTint||t.palette.getPrimary(),errorIconTint:e?.errorIconTint||t.palette.getError(),height:"20px",width:"20px"})}function Ur(e,t,o,r){const i=e.getConversationWith(),a=i instanceof s.CometChat.User?i.getUid():i.getGuid();return void 0!==t.get(a)?{font:o?.typingIndictorTextFont||n.fontHelper(r.typography.subtitle2),color:o?.typingIndictorTextColor||r.palette.getSuccess()||"",width:"100%",overflow:"hidden",textOverflow:"ellipsis"}:{font:o?.lastMessageTextFont||n.fontHelper(r.typography.subtitle2),color:o?.lastMessageTextColor||r.palette.getAccent600()||"",width:"100%",overflow:"hidden",textOverflow:"ellipsis"}}function Pr(e){return new o.MenuListStyle({width:"",height:"",border:"none",borderRadius:"8px",background:"transparent",moreIconTint:"grey",submenuWidth:"70px",submenuHeight:"20px",submenuBorder:"1px solid #e8e8e8",submenuBorderRadius:"8px",submenuBackground:e.palette.getBackground()})}function Or(e,t){const r=null!==e?e:{};return{...new o.DateStyle({textFont:e?.textFont||n.fontHelper(t.typography.caption2),textColor:e?.textColor||t.palette.getAccent600(),background:"transparent"}),...r}}function jr(e,t){return{width:e?.width||t?.width,height:e?.height||t?.height,background:e?.background||"rgba(0, 0, 0, 0.5)",border:e?.border,borderRadius:e?.borderRadius,position:"absolute"}}class Gr{constructor(e){const{conversationsRequestBuilder:t}=e,n=t||(new s.CometChat.ConversationsRequestBuilder).setLimit(Gr.limit);this.conversationsRequest=n.build()}fetchNext(){return this.conversationsRequest.fetchNext()}static attachUserListener(e){const t="ConversationList_User_"+String(Date.now());return s.CometChat.addUserListener(t,new s.CometChat.UserListener({onUserOnline:e,onUserOffline:e})),()=>s.CometChat.removeUserListener(t)}static attachGroupListener(e,t){const n="ConversationList_Group_"+String(Date.now());return s.CometChat.addGroupListener(n,new s.CometChat.GroupListener({onGroupMemberJoined:t=>{e(t)},onGroupMemberLeft:(n,o)=>{t?.getUid()===o.getUid()?e(n,!0):e(n)},onGroupMemberKicked:(n,o)=>{t?.getUid()===o.getUid()?e(n,!0):e(n)},onGroupMemberBanned:(n,o)=>{t?.getUid()===o.getUid()?e(n,!0):e(n)},onGroupMemberUnbanned:t=>{e(t)},onMemberAddedToGroup:t=>{e(t)},onGroupMemberScopeChanged:t=>{e(t)}})),()=>s.CometChat.removeGroupListener(n)}static attachMessageReceivedListener(e){const t=n.CometChatMessageEvents.onTextMessageReceived.subscribe((t=>{e(t)})),o=n.CometChatMessageEvents.onMediaMessageReceived.subscribe((t=>{e(t)})),r=n.CometChatMessageEvents.onCustomMessageReceived.subscribe((t=>{e(t)})),s=n.CometChatMessageEvents.onFormMessageReceived.subscribe((t=>{e(t)})),i=n.CometChatMessageEvents.onSchedulerMessageReceived.subscribe((t=>{e(t)})),a=n.CometChatMessageEvents.onCardMessageReceived.subscribe((t=>{e(t)})),l=n.CometChatMessageEvents.onCustomInteractiveMessageReceived.subscribe((t=>{e(t)}));return()=>{t?.unsubscribe(),o?.unsubscribe(),r?.unsubscribe(),s?.unsubscribe(),i?.unsubscribe(),a?.unsubscribe(),l?.unsubscribe()}}static attachMessageReceiptListener(e){const t=n.CometChatMessageEvents.onMessagesRead.subscribe((t=>{e(t,!0)})),o=n.CometChatMessageEvents.onMessagesDelivered.subscribe((t=>{e(t,!1)}));return()=>{t?.unsubscribe(),o?.unsubscribe()}}static attachMessageTypingListener(e){const t=n.CometChatMessageEvents.onTypingStarted.subscribe((t=>{e(t,!0)})),o=n.CometChatMessageEvents.onTypingEnded.subscribe((t=>{e(t,!1)}));return()=>{t?.unsubscribe(),o?.unsubscribe()}}static attachMessageModifiedListener(e){const t=n.CometChatMessageEvents.onMessageEdited.subscribe((t=>{e(t)})),o=n.CometChatMessageEvents.onMessageDeleted.subscribe((t=>{e(t)}));return()=>{t?.unsubscribe(),o?.unsubscribe()}}static attachCallListener(e){const t="ConversationList_Call_"+String(Date.now());return s.CometChat.addCallListener(t,new s.CometChat.CallListener({onIncomingCallReceived:e,onOutgoingCallAccepted:e,onOutgoingCallRejected:e,onIncomingCallCancelled:e})),()=>s.CometChat.removeCallListener(t)}static attachConnestionListener(e){const t="ConversationList_connection_"+String(Date.now());return s.CometChat.addConnectionListener(t,new s.CometChat.ConnectionListener({onConnected:()=>{console.log("ConnectionListener =>connected"),e&&e()},onDisconnected:()=>{console.log("ConnectionListener => On Disconnected")}})),()=>s.CometChat.removeConnectionListener(t)}}Gr.limit=30;var Vr="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2014%2014%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3ELocked%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Symbols-v2%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Locked%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20fill%3D%22%23F7A500%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M7%2C3%20C8.1045695%2C3%209%2C3.8954305%209%2C5%20L9.00079851%2C6.00841863%20C9.2437935%2C6.025429%209.36573413%2C6.06795171%209.48842285%2C6.13356635%20C9.65138581%2C6.2207199%209.7792801%2C6.34861419%209.86643365%2C6.51157715%20C9.95358719%2C6.67454011%2010%2C6.83618323%2010%2C7.2819426%20L10%2C9.7180574%20C10%2C10.1638168%209.95358719%2C10.3254599%209.86643365%2C10.4884229%20C9.7792801%2C10.6513858%209.65138581%2C10.7792801%209.48842285%2C10.8664336%20C9.32545989%2C10.9535872%209.16381677%2C11%208.7180574%2C11%20L5.2819426%2C11%20C4.83618323%2C11%204.67454011%2C10.9535872%204.51157715%2C10.8664336%20C4.34861419%2C10.7792801%204.2207199%2C10.6513858%204.13356635%2C10.4884229%20C4.04641281%2C10.3254599%204%2C10.1638168%204%2C9.7180574%20L4%2C7.2819426%20C4%2C6.83618323%204.04641281%2C6.67454011%204.13356635%2C6.51157715%20C4.2207199%2C6.34861419%204.34861419%2C6.2207199%204.51157715%2C6.13356635%20C4.63442137%2C6.06786855%204.7565156%2C6.02532125%205.00012601%2C6.00835408%20L5%2C5%20C5%2C3.8954305%205.8954305%2C3%207%2C3%20Z%20M7%2C4%20C6.48716416%2C4%206.06449284%2C4.38604019%206.00672773%2C4.88337887%20L6%2C5%20L6%2C6%20L8%2C6%20L8%2C5%20C8%2C4.44771525%207.55228475%2C4%207%2C4%20Z%22%20id%3D%22Rectangle-3%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Hr="data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cline%20y1%3D%22-0.75%22%20x2%3D%2212.5391%22%20y2%3D%22-0.75%22%20transform%3D%22matrix%28-0.641971%200.766729%20-0.836709%20-0.547648%2019%207.38586%29%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%2F%3E%3Cpath%20d%3D%22M16.6377%207L8.87922%2016.3095L5%2013.3697%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",Qr="data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cline%20y1%3D%22-0.75%22%20x2%3D%2212.5391%22%20y2%3D%22-0.75%22%20transform%3D%22matrix%28-0.641971%200.766729%20-0.836709%20-0.547648%2019%207.38586%29%22%20stroke%3D%22%2339f%22%20stroke-width%3D%221.5%22%2F%3E%3Cpath%20d%3D%22M16.6377%207L8.87922%2016.3095L5%2013.3697%22%20stroke%3D%22%2339f%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",Nr="data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M17.6377%207L9.87922%2016.3095L6%2013.3697%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",Kr="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2014%2014%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EPrivate%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Symbols-v2%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Private%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20fill%3D%22%2300C86F%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4%2C5%20C5.33333333%2C4.66666667%206.33333333%2C4%207%2C3%20C7.66666667%2C4%208.66666667%2C4.66666667%2010%2C5%20L10%2C6.14589803%20C10%2C8.20151331%208.83859819%2C10.0807009%207%2C11%20L7%2C11%20L7%2C11%20C5.16140181%2C10.0807009%204%2C8.20151331%204%2C6.14589803%20L4%2C5%20L4%2C5%20Z%22%20id%3D%22Rectangle%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",zr="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",_r="data:image/svg+xml,%3Csvg%20width%3D%2225%22%20height%3D%2224%22%20viewBox%3D%220%200%2025%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M8.01057%208.04728C8.34753%209.99213%209.53177%2011.3242%2011.6239%2012C13.716%2011.3242%2014.9002%209.99213%2015.2372%208.04728C15.2572%207.91731%2015.2488%207.78455%2015.2125%207.65816C15.1762%207.53177%2015.1129%207.41476%2015.027%207.3152C14.9411%207.21564%2014.8346%207.1359%2014.7149%207.08149C14.5952%207.02707%2014.4651%206.99928%2014.3336%207.00001H8.9142C8.7827%206.99928%208.65261%207.02707%208.5329%207.08149C8.41319%207.1359%208.30671%207.21564%208.2208%207.3152C8.1349%207.41476%208.07161%207.53177%208.03532%207.65816C7.99902%207.78455%207.99058%207.91731%208.01057%208.04728Z%22%20fill%3D%22%23808080%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M8.91423%2017C8.78279%2017.0007%208.65276%2016.9729%208.5331%2016.9185C8.41343%2016.8642%208.30699%2016.7845%208.22109%2016.685C8.1352%2016.5855%208.0719%2016.4686%208.03556%2016.3423C7.99922%2016.2159%207.9907%2016.0832%208.01059%2015.9533C8.34756%2014.0085%209.5318%2012.6764%2011.6239%2012C13.716%2012.6764%2014.9003%2014.0085%2015.2372%2015.9533C15.2571%2016.0832%2015.2486%2016.2159%2015.2123%2016.3423C15.1759%2016.4686%2015.1126%2016.5855%2015.0267%2016.685C14.9408%2016.7845%2014.8344%2016.8642%2014.7147%2016.9185C14.5951%2016.9729%2014.465%2017.0007%2014.3336%2017H8.91423Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",Jr="data:image/svg+xml,%3Csvg%20width%3D%2218%22%20height%3D%2217%22%20viewBox%3D%220%200%2018%2017%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M8.99992%2011C8.96695%2011%208.93473%2011.0098%208.90732%2011.0281C8.87992%2011.0464%208.85855%2011.0724%208.84594%2011.1029C8.83332%2011.1333%208.83002%2011.1669%208.83645%2011.1992C8.84289%2011.2315%208.85876%2011.2612%208.88207%2011.2845C8.90538%2011.3078%208.93507%2011.3237%208.9674%2011.3301C8.99973%2011.3366%209.03324%2011.3333%209.0637%2011.3206C9.09415%2011.308%209.12018%2011.2867%209.1385%2011.2593C9.15681%2011.2319%209.16659%2011.1996%209.16659%2011.1667C9.16659%2011.1225%209.14903%2011.0801%209.11777%2011.0488C9.08651%2011.0176%209.04412%2011%208.99992%2011Z%22%20stroke%3D%22%23ff3b30%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M9%209.66667V6%22%20stroke%3D%22%23ff3b30%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%2F%3E%3Cpath%20d%3D%22M4%209C4%2010.3261%204.52678%2011.5979%205.46447%2012.5355C6.40215%2013.4732%207.67392%2014%209%2014C10.3261%2014%2011.5979%2013.4732%2012.5355%2012.5355C13.4732%2011.5979%2014%2010.3261%2014%209C14%207.67392%2013.4732%206.40215%2012.5355%205.46447C11.5979%204.52678%2010.3261%204%209%204C7.67392%204%206.40215%204.52678%205.46447%205.46447C4.52678%206.40215%204%207.67392%204%209V9Z%22%20stroke%3D%22%23ff3b30%22%20stroke-width%3D%221.2%22%2F%3E%3C%2Fsvg%3E";function Yr(e){return e instanceof s.CometChat.TextMessage||e instanceof s.CometChat.MediaMessage||e instanceof s.CometChat.CustomMessage||e instanceof s.CometChat.InteractiveMessage||e instanceof s.CometChat.Action||e instanceof s.CometChat.Call}function Wr(e,o){let r=e;const{type:i}=o;switch(i){case"appendConversations":if(o.conversations.length>0){let t=[];o.removeOldConversation?(e.conversationList=[],t=o.conversations):t=[...e.conversationList,...o.conversations],r={...e,conversationList:t}}break;case"setConversationList":{const{typingIndicatorMap:t}=e,{conversationList:n}=o,i=new Map;for(let e=0;e<n.length;e++){const o=n[e].getConversationWith(),r=o instanceof s.CometChat.User?o?.getUid():o.getGuid();t.has(r)&&i.set(r,t.get(r))}r={...e,conversationList:n,typingIndicatorMap:i};break}case"setFetchState":r={...e,fetchState:o.fetchState};break;case"setConversationToBeDeleted":r={...e,conversationToBeDeleted:o.conversation};break;case"removeConversation":{const{typingIndicatorMap:t,conversationList:n}=e,i=o.conversation.getConversationId(),a=n.findIndex((e=>e.getConversationId()===i));if(a>-1){const o=n[a].getConversationWith(),i=o instanceof s.CometChat.User?o?.getUid():o.getGuid();let l;t.has(i)?(l=new Map(t),l.delete(i)):l=t;const c=e.conversationList.filter(((e,t)=>t!==a));r={...e,conversationList:c,typingIndicatorMap:l}}break}case"updateConversationWithUser":{const{user:n}=o,{conversationList:i}=e,a=n.getUid(),l=i.findIndex((e=>{const t=e.getConversationWith();return t instanceof s.CometChat.User&&t?.getUid()===a}));if(l>-1){const o=i.map(((e,o)=>{if(o===l){const o=t.CometChatUIKitUtility.clone(e);return o.setConversationWith(n),o}return e}));r={...e,conversationList:o}}break}case"fromUpdateConversationListFn":{const{conversation:t}=o,n=t.getConversationId(),s=e.conversationList.filter((e=>e.getConversationId()!==n));r={...e,conversationList:[t,...s]};break}case"setLastMessageReadOrDeliveredAt":{const{conversationList:n}=e,{messageReceipt:i,updateReadAt:a}=o,l=i.getMessageId(),c=n.findIndex((e=>{if(e.getConversationWith()instanceof s.CometChat.User){const t=e.getLastMessage();if(Yr(t)&&String(t.getId())===l)return a?!t.getReadAt():!t.getDeliveredAt()}return!1}));c>-1&&(r={...e,conversationList:n.map(((e,n)=>{if(n===c){const n=t.CometChatUIKitUtility.clone(e),o=n.getLastMessage();return Yr(o)&&(a?o.setReadAt(i.getReadAt()):o.setDeliveredAt(i.getDeliveredAt())),n}return e}))});break}case"addTypingIndicator":{const{typingIndicator:t}=o,i=t.getSender()?.getUid(),a=t.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group,l=t.getReceiverId();let c;const{conversationList:C,typingIndicatorMap:g}=e;for(let e=0;e<C.length;e++){const t=C[e].getConversationWith();if(a){if(t instanceof s.CometChat.Group&&t.getGuid()===l){c=t.getGuid();break}}else if(t instanceof s.CometChat.User&&t?.getUid()===i){c=t?.getUid();break}}if(void 0!==c){const n=new Map(g);n.set(c,t),r={...e,typingIndicatorMap:n}}break}case"removeTypingIndicator":{const{typingIndicatorMap:t}=e,{typingIndicator:s}=o,i=s.getSender()?.getUid(),a=s.getReceiverId();let l;if(s.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user?t.has(i)&&(l=i):t.get(a)?.getSender()?.getUid()===i&&(l=a),void 0!==l){const n=new Map(t);n.delete(l),r={...e,typingIndicatorMap:n}}break}case"updateConversationLastMessage":{const{message:n}=o,s=n?.getId(),{conversationList:i}=e,a=i.findIndex((e=>{const t=e.getLastMessage();return Yr(t)&&t.getId()===s}));a>-1&&(r={...e,conversationList:i.map(((e,o)=>{if(o===a){const o=t.CometChatUIKitUtility.clone(e);return o.setLastMessage(n),o}return e}))});break}case"updateConversationLastMessageAndGroupAndPlaceAtTheTop":{const{conversationList:n}=e,{group:s,message:i}=o,a=i.getConversationId(),l=n.findIndex((e=>e.getConversationId()===a));if(l>-1){const o=t.CometChatUIKitUtility.clone(n[l]);o.setConversationWith(s),o.setLastMessage(i),r={...e,conversationList:[o,...n.filter(((e,t)=>t!==l))]}}break}case"removeConversationOfTheGroup":{const{conversationList:t,typingIndicatorMap:n}=e,i=o.group.getGuid(),a=t.findIndex((e=>{const t=e.getConversationWith();return t instanceof s.CometChat.Group&&t.getGuid()===i}));if(a>-1){const o=t[a].getConversationWith(),i=o instanceof s.CometChat.User?o?.getUid():o.getGuid();let l;n.has(i)?(l=new Map(n),l.delete(i)):l=n;const c=t.filter(((e,t)=>t!==a));r={...e,conversationList:c,typingIndicatorMap:l}}break}case"removeConversationOfTheUser":{const{conversationList:t,typingIndicatorMap:n}=e,i=o.user.getUid(),a=t.findIndex((e=>{const t=e.getConversationWith();return t instanceof s.CometChat.User&&t?.getUid()===i}));if(a>-1){const o=t[a].getConversationWith(),i=o instanceof s.CometChat.User?o?.getUid():o.getGuid();let l;n.has(i)?(l=new Map(n),l.delete(i)):l=n;const c=t.filter(((e,t)=>t!==a));r={...e,conversationList:c,typingIndicatorMap:l}}break}case"updateConversationLastMessageResetUnreadCountAndPlaceAtTheTop":{const{conversationList:n}=e,{message:s,conversation:i}=o,a=s.getConversationId(),l=n.findIndex((e=>e.getConversationId()===a));if(l>-1){const o=t.CometChatUIKitUtility.clone(n[l]);o.setLastMessage(s),o.setUnreadMessageCount(0);const i=n.filter(((e,t)=>t!==l));r={...e,conversationList:[o,...i]}}else{i.setUnreadMessageCount(0);const t=[i,...n];r={...e,conversationList:t}}break}case"resetUnreadCountAndSetReadAtIfLastMessage":{const{conversationList:n}=e,{message:s}=o,i=s.getReadAt()||Date.now(),a=n.findIndex((e=>e.getConversationId()===s.getConversationId()));a>-1&&(r={...e,conversationList:n.map(((e,n)=>{if(n===a){const n=t.CometChatUIKitUtility.clone(e);return n.setUnreadMessageCount(0),n.getLastMessage()&&n.getLastMessage().setReadAt(i),n}return e}))});break}case"updateConversationLastMessageAndPlaceAtTheTop":{const{message:n}=o,s=n?.getId(),{conversationList:i}=e,a=i.findIndex((e=>{const t=e.getLastMessage();return Yr(t)&&t.getId()===s}));if(a>-1){const o=t.CometChatUIKitUtility.clone(i[a]);o.setLastMessage(n),r={...e,conversationList:[o,...i.filter(((e,t)=>t!==a))]}}break}case"setLoggedInUser":r={...e,loggedInUser:o.loggedInUser};break;case"setIsFirstReload":r={...e,isFirstReload:o.isFirstReload}}return r}function Zr(e){const{menus:o=null,title:i=n.localize("CHATS"),titleAlignment:a=n.TitleAlignment.left,conversationsRequestBuilder:l=null,onError:c,listItemView:C=null,subtitleView:d=null,disableUsersPresence:u=!1,hideSeparator:p=!1,activeConversation:h=null,selectionMode:m=n.SelectionMode.none,disableReceipt:A=!1,options:x=null,datePattern:b=n.DatePatterns.DayDateTime,protectedGroupIcon:y=Vr,privateGroupIcon:f=Kr,readIcon:w=Qr,deliveredIcon:D=Hr,waitIcon:E=_r,errorIcon:v=Jr,sentIcon:S=Nr,loadingIconURL:F=zr,loadingStateView:k,emptyStateText:M=n.localize("NO_CHATS_FOUND"),emptyStateView:B,errorStateText:L=n.localize("SOMETHING_WRONG"),errorStateView:R,hideError:U=!1,onItemClick:P=null,onSelect:O=null,disableSoundForMessages:j=!1,disableTyping:G=!1,customSoundForMessages:V=null,confirmDialogTitle:H=n.localize("DELETE_CONVERSATION"),confirmDialogMessage:Q=n.localize("WOULD__YOU_LIKE_TO_DELETE_THIS_CONVERSATION"),cancelButtonText:N=n.localize("CANCEL"),confirmButtonText:K=n.localize("DELETE"),conversationsStyle:z=null,deleteConversationDialogStyle:_=null,avatarStyle:J=null,statusIndicatorStyle:Y=null,listItemStyle:W=null,badgeStyle:Z=null,receiptStyle:X=null,dateStyle:q=null,backdropStyle:$=null,disableMentions:ee=!1,textFormatters:te=[]}=e,[ne,oe]=r.useReducer(Wr,{conversationList:[],fetchState:n.States.loading,typingIndicatorMap:new Map,conversationToBeDeleted:null,loggedInUser:null,isFirstReload:!1,unreadMentions:!1}),[re,se]=ge(null),ie=r.useRef(null),ae=r.useRef(""),le=de(c),ce=Ce(V),{theme:ue}=r.useContext(T),he=r.useRef(!1),me=r.useRef(!1);ne.isFirstReload&&(he.current=!0,ne.isFirstReload=!1);const Ae=r.useCallback((async e=>{const t=ie.current;if(!t)return;let o=me.current?n.States.loaded:n.States.loading;oe({type:"setFetchState",fetchState:o});try{const o=await t.fetchNext();if(0!==o.length&&ae.current===e){let e=!!me.current;oe({type:"appendConversations",conversations:o,removeOldConversation:e})}he.current&&(Gr.attachConnestionListener((()=>{ie.current=new Gr({conversationsRequestBuilder:l}),me.current=!0,Ae(ae.current="initialFetchNext_"+String(Date.now()))})),he.current=!1),me.current?me.current=!1:oe({type:"setFetchState",fetchState:n.States.loaded})}catch(e){ne.conversationList.length<=0&&oe({type:"setFetchState",fetchState:n.States.error}),le(e)}}),[le,oe]),xe=r.useCallback((e=>{const t="metadata",n="incrementUnreadCount";let o;return t in e&&(o=e[t])&&n in o&&Boolean(o[n])}),[]),be=r.useCallback(((e,t)=>{const o=t||e.getLastMessage();if(!Yr(o))return;const r=(o.getCategory()===n.CometChatUIKitConstants.MessageCategory.message||o.getCategory()===n.CometChatUIKitConstants.MessageCategory.interactive||xe(o))&&o.getSender().getUid()!==ne.loggedInUser?.getUid();e.setUnreadMessageCount((e.getUnreadMessageCount()??0)+Number(r)),e.setLastMessage(o),oe({type:"fromUpdateConversationListFn",conversation:e})}),[oe,ne.loggedInUser,xe]),ye=r.useCallback((async(e,t=!1)=>{try{const n=ne.conversationList.findIndex((t=>t.getConversationId()===e.getConversationId()));if(n>=0){const o=ne.conversationList[n];t?oe({type:"removeConversation",conversation:o}):be(o,e)}else s.CometChat.CometChatHelper.getConversationFromMessage(e).then((t=>{be(t,e)}))}catch(e){le(e)}}),[le,be,ne.conversationList]),fe=r.useCallback((async e=>{if(e.getSender().getUid()!==ne.loggedInUser?.getUid()&&!A&&!e.getDeliveredAt())try{s.CometChat.markAsDelivered(e)}catch(e){le(e)}j||e.getCategory()===n.CometChatUIKitConstants.MessageCategory.custom&&!xe(e)||h&&h.getConversationId()===e.getConversationId()||t.CometChatSoundManager.play(t.CometChatSoundManager.Sound.incomingMessage,ce.current),ye(e)}),[A,j,ye,le,ne.loggedInUser,h,xe,ce]),we=r.useCallback(((e,t)=>{oe({type:"setLastMessageReadOrDeliveredAt",updateReadAt:t,messageReceipt:e})}),[oe]),De=r.useCallback(((e,t)=>{ne.loggedInUser?.getUid()!==e.getSender()?.getUid()&&oe(t?{type:"addTypingIndicator",typingIndicator:e}:{type:"removeTypingIndicator",typingIndicator:e})}),[ne.loggedInUser]);function Ee(e){const t=e.getConversationWith();return t instanceof s.CometChat.User?t.getAvatar():t.getIcon()}function ve(e){const t=e.getConversationWith();if(t instanceof s.CometChat.User)return u||t.getStatus()!==n.CometChatUIKitConstants.userStatusType.online?null:z?.onlineStatusColor||ue.palette.getSuccess()||"rgb(0, 200, 111)";switch(t.getType()){case n.CometChatUIKitConstants.GroupTypes.password:return z?.passwordGroupIconBackground||"rgb(247, 165, 0)";case n.CometChatUIKitConstants.GroupTypes.private:return z?.privateGroupIconBackground||ue.palette.getSuccess()||"rgb(0, 200, 111)";default:return null}}function Se(e){let t="";const o=e.getConversationWith();if(o instanceof s.CometChat.Group)switch(o.getType()){case n.CometChatUIKitConstants.GroupTypes.password:t=y;break;case n.CometChatUIKitConstants.GroupTypes.private:t=f}return t}function Ie(e){const t=e.getLastMessage();return Yr(t)&&t.getParentMessageId()?g.jsxs("div",{className:"cc-conversations__thread-view",style:{display:"flex",columnGap:"4px"},children:[g.jsx("cometchat-label",{text:n.localize("IN_A_THREAD"),labelStyle:JSON.stringify(Br(z,ue))}),g.jsx("cometchat-icon",{URL:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20class%3D%22feather%20feather-corner-right-down%22%3E%3Cpolyline%20points%3D%2210%2015%2015%2020%2020%2015%22%3E%3C%2Fpolyline%3E%3Cpath%20d%3D%22M4%204h7a4%204%200%200%201%204%204v12%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E",iconStyle:JSON.stringify(Lr(ue))})]}):null}function Fe(e){return function(e){const t=e.getLastMessage(),o=e.getConversationWith(),r=o instanceof s.CometChat.User?o?.getUid():o.getGuid();return!A&&Yr(t)&&!t.getDeletedAt()&&t.getCategory()!==n.CometChatUIKitConstants.MessageCategory.action&&t.getSender()?.getUid()===ne.loggedInUser?.getUid()&&void 0===ne.typingIndicatorMap.get(r)}(e)?g.jsx("cometchat-receipt",{receipt:t.MessageReceiptUtils.getReceiptStatus(e.getLastMessage()),waitIcon:E,sentIcon:S,errorIcon:v,deliveredIcon:D,readIcon:w,receiptStyle:JSON.stringify(Rr(X,ue))}):null}function ke(e){const t=e.getConversationWith(),o=t instanceof s.CometChat.Group?t.getGuid():t?.getUid(),r=ne.typingIndicatorMap.get(o);if(void 0!==r)return t instanceof s.CometChat.Group?`${r.getSender().getName()} ${n.localize("IS_TYPING")}`:n.localize("IS_TYPING");if(ne.loggedInUser){let t="";const o=e.getLastMessage();o&&o.getCategory()===n.CometChatUIKitConstants.MessageCategory.call&&(t=(o.getType()===n.CometChatUIKitConstants.MessageTypes.audio?"📞":"📹")+" ");let r=e.getLastMessage(),i=I.getDataSource().getLastConversationMessage(e,ne.loggedInUser,{disableMentions:ee,theme:ue,mentionsTargetElement:n.MentionsTargetElement.conversation,textFormattersList:te});return r&&e?.getConversationType()!==s.CometChat.RECEIVER_TYPE.USER&&(i=(r?.getSender().getUid(),ne.loggedInUser?.getUid(),`${i}`)),g.jsx("div",{dangerouslySetInnerHTML:{__html:t+i},style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})}return""}function Te(e){return g.jsx("div",{className:"cc-conversations__subtitle-text",style:Ur(e,ne.typingIndicatorMap,z,ue),children:ke(e)})}function Me(e){return null!==d?g.jsx(g.Fragment,{children:d(e)}):g.jsxs(g.Fragment,{children:[Ie(e),g.jsxs("div",{className:"cc-conversations__subtitle",style:{display:"flex",columnGap:"4px",alignItems:"center"},children:[Fe(e),Te(e)]})]})}function Be(e){oe({type:"setConversationToBeDeleted",conversation:e})}function Le(e,o){if(m!==n.SelectionMode.none)return null;let r;if(x)r=x?.(e);else{const s=t.ConversationUtils.getDefaultOptions();for(let t=0;t<s.length;t++)s[t].id===n.CometChatUIKitConstants.ConversationOptions.delete&&(s[t].onClick=()=>Be(e),s[t].iconTint=o.palette.getAccent600());r=s}return 0===r?.length?null:g.jsx(er,{data:r,menuListStyle:Pr(o),onOptionClick:e=>{const{onClick:t}=e.detail.data;t?.()}})}function Re(e){switch(m){case n.SelectionMode.none:{const t=e.getLastMessage();return t?g.jsxs("div",{className:"cc-conversations__tail-content",style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[g.jsx("cometchat-date",{timestamp:t.getSentAt(),pattern:b,dateStyle:JSON.stringify(Or(q,ue))}),g.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:g.jsx("cometchat-badge",{count:e.getUnreadMessageCount(),badgeStyle:JSON.stringify(Mr(Z,ue))})})]}):null}case n.SelectionMode.single:return g.jsx("div",{className:"cc-conversations__tail-content",children:g.jsx(tr,{onChange:t=>O?.(e,t.detail.checked)})});case n.SelectionMode.multiple:return g.jsx("div",{className:"cc-conversations__tail-content",children:g.jsx($o,{onChange:t=>O?.(e,t.detail.checked)})});default:return null}}return function(e){const{conversationsRequestBuilder:o,conversationsManagerRef:i,fetchNextAndAppendConversations:a,fetchNextIdRef:l,dispatch:c,confirmDialogElement:C,conversationToBeDeleted:g,errorHandler:d,refreshSingleConversation:u,onMessageReceived:p,setReceipts:h,setTypingIndicator:m,disableTyping:A,loggedInUser:x,isFirstReload:b}=e;r.useEffect((()=>{c({type:"setIsFirstReload",isFirstReload:!0}),i.current=new Gr({conversationsRequestBuilder:o}),c({type:"setConversationList",conversationList:[]}),a(l.current="initialFetchNext_"+String(Date.now()))}),[o,a,c,i,l]),r.useEffect((()=>{(async()=>{try{c({type:"setLoggedInUser",loggedInUser:await s.CometChat.getLoggedinUser()})}catch(e){d(e)}})()}),[d,c]),r.useEffect((()=>{if(null===C)return;const e="cc-confirm-clicked",o="cc-cancel-clicked";async function r(){if(g){const e=g.getConversationWith(),o=e instanceof s.CometChat.Group?e.getGuid():e.getUid();try{await s.CometChat.deleteConversation(o,g.getConversationType()),n.CometChatConversationEvents.ccConversationDeleted.next(t.CometChatUIKitUtility.clone(g)),c({type:"removeConversation",conversation:g}),c({type:"setConversationToBeDeleted",conversation:null})}catch(e){d(e)}}}function i(){c({type:"setConversationToBeDeleted",conversation:null})}return C.addEventListener(e,r),C.addEventListener(o,i),()=>{C.removeEventListener(e,r),C.removeEventListener(o,i)}}),[g,C,d,c]),r.useEffect((()=>Gr.attachUserListener((e=>c({type:"updateConversationWithUser",user:e})))),[c]),r.useEffect((()=>Gr.attachGroupListener(u,x)),[u,x]),r.useEffect((()=>Gr.attachMessageReceivedListener(p)),[p]),r.useEffect((()=>Gr.attachMessageModifiedListener((e=>{c({type:"updateConversationLastMessage",message:e})}))),[c]),r.useEffect((()=>Gr.attachMessageReceiptListener(h)),[h]),r.useEffect((()=>{if(!A)return Gr.attachMessageTypingListener(m)}),[A,m]),r.useEffect((()=>Gr.attachCallListener(u)),[u]),r.useEffect((()=>{const e=n.CometChatGroupEvents.ccGroupMemberScopeChanged.subscribe((e=>{c({type:"updateConversationLastMessageAndPlaceAtTheTop",message:e.message})})),o=n.CometChatGroupEvents.ccGroupMemberAdded.subscribe((e=>{const t=e.messages[e.messages.length-1];t&&c({type:"updateConversationLastMessageAndGroupAndPlaceAtTheTop",group:e.userAddedIn,message:t})})),r=n.CometChatGroupEvents.ccGroupMemberKicked.subscribe((e=>{c({type:"updateConversationLastMessageAndGroupAndPlaceAtTheTop",group:e.kickedFrom,message:e.message})})),i=n.CometChatGroupEvents.ccGroupMemberBanned.subscribe((e=>{c({type:"updateConversationLastMessageAndGroupAndPlaceAtTheTop",group:e.kickedFrom,message:e.message})})),a=n.CometChatGroupEvents.ccGroupDeleted.subscribe((e=>{c({type:"removeConversationOfTheGroup",group:e})})),l=n.CometChatGroupEvents.ccGroupLeft.subscribe((e=>{c({type:"removeConversationOfTheGroup",group:e.leftGroup})})),C=n.CometChatUserEvents.ccUserBlocked.subscribe((e=>{c({type:"removeConversationOfTheUser",user:e})})),g=n.CometChatMessageEvents.ccMessageEdited.subscribe((e=>{e.status===n.MessageStatus.success&&c({type:"updateConversationLastMessage",message:e.message})})),d=n.CometChatMessageEvents.ccMessageSent.subscribe((e=>{e.status===n.MessageStatus.success&&s.CometChat.CometChatHelper.getConversationFromMessage(e.message).then((t=>{c({type:"updateConversationLastMessageResetUnreadCountAndPlaceAtTheTop",message:e.message,conversation:t})}))})),u=n.CometChatMessageEvents.ccMessageDeleted.subscribe((e=>{c({type:"updateConversationLastMessage",message:t.CometChatUIKitUtility.clone(e)})})),p=n.CometChatMessageEvents.ccMessageRead.subscribe((e=>{c({type:"resetUnreadCountAndSetReadAtIfLastMessage",message:e})})),h=n.CometChatCallEvents.ccCallAccepted.subscribe((e=>{c({type:"updateConversationLastMessageAndPlaceAtTheTop",message:e})})),m=n.CometChatCallEvents.ccOutgoingCall.subscribe((e=>{c({type:"updateConversationLastMessageAndPlaceAtTheTop",message:e})})),A=n.CometChatCallEvents.ccCallRejected.subscribe((e=>{c({type:"updateConversationLastMessageAndPlaceAtTheTop",message:e})})),x=n.CometChatCallEvents.ccCallEnded.subscribe((e=>{c({type:"updateConversationLastMessageAndPlaceAtTheTop",message:e})}));return()=>{e.unsubscribe(),o.unsubscribe(),r.unsubscribe(),i.unsubscribe(),a.unsubscribe(),l.unsubscribe(),C.unsubscribe(),g.unsubscribe(),d.unsubscribe(),u.unsubscribe(),p.unsubscribe(),h.unsubscribe(),m.unsubscribe(),A.unsubscribe(),x.unsubscribe()}}),[c])}({conversationsRequestBuilder:l,conversationsManagerRef:ie,fetchNextAndAppendConversations:Ae,fetchNextIdRef:ae,dispatch:oe,confirmDialogElement:re,conversationToBeDeleted:ne.conversationToBeDeleted,errorHandler:le,refreshSingleConversation:ye,onMessageReceived:fe,setReceipts:we,setTypingIndicator:De,disableTyping:G,loggedInUser:ne.loggedInUser,isFirstReload:!1}),g.jsxs("div",{className:"cc-conversations",style:vr(z,ue),children:[null===o?null:g.jsx("div",{className:"cc-conversations__menus",style:{position:"absolute",top:"19px",right:"12px",cursor:"pointer",display:"flex",justifyContent:"flex-end",width:"24px"},children:o}),g.jsx(pe,{title:i,titleAlignment:a,hideSearch:!0,list:ne.conversationList,listItemKey:"getConversationId",listItem:null!==C?C:function(e){return g.jsx(Xn,{id:e.getConversationId(),avatarURL:Ee(e),avatarName:e.getConversationWith().getName(),title:e.getConversationWith().getName(),statusIndicatorColor:ve(e),statusIndicatorIcon:Se(e),hideSeparator:p,isActive:m===n.SelectionMode.none&&e.getConversationId()===h?.getConversationId(),avatarStyle:Fr(J,ue),statusIndicatorStyle:kr(Y),listItemStyle:Tr(W,z,ue),onClick:t=>P?.(e),subtitleView:Me(e),subtitleViewClassName:"cc-conversations__subtitle-view",menuView:Le(e,ue),menuViewClassName:"cc-conversations__options-view",tailView:Re(e),tailViewClassName:"cc-conversations__tail-view"})},onScrolledToBottom:()=>Ae(ae.current="onScrolledToBottom_"+String(Date.now())),showSectionHeader:!1,state:ne.fetchState===n.States.loaded&&0===ne.conversationList.length?n.States.empty:ne.fetchState,loadingIconURL:F,loadingView:k,emptyStateText:M,emptyStateView:B,errorStateText:L,errorStateView:R,hideError:U,listStyle:Ir(z,ue)}),null===ne.conversationToBeDeleted?null:g.jsx("cometchat-backdrop",{backdropStyle:JSON.stringify(jr($,z)),children:g.jsx("cometchat-confirm-dialog",{ref:se,title:H,messageText:Q,cancelButtonText:N,confirmButtonText:K,confirmDialogStyle:JSON.stringify(Sr(_,ue))})})]})}const Xr={height:"100%",width:"100%",background:"transparent",border:"none",borderRadius:"0",textFont:"700 22px Inter, sans-serif",textColor:"rgba(20, 20, 20, 0.33)"},qr={display:"flex",height:"100%",width:"100%",boxSizing:"border-box",position:"relative"},$r={width:"calc(100% - 280px)",height:"100%"},es={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},ts={display:"flex",justifyContent:"center",alignItems:"center",background:"inherit",border:"none",borderRadius:"inherit",width:"100%",height:"auto"},ns={width:"280px",height:"100%",position:"relative"},os=(e,t)=>({...qr,width:"100%",height:"100%",border:`1px solid ${t.palette.getAccent100()}`,borderRadius:"0",background:t.palette.getBackground(),...e}),rs=(e,t,n,o,r)=>n?ss(o,r):is(e,t),ss=(e,t)=>({...e||t?{visibility:"hidden"}:{visibility:"visible"},...es,borderRadius:"inherit"}),is=(e,t)=>{const n=e?.borderRadius||0;return{...ns,borderRight:e?.border||`1px solid ${t.palette.getAccent100()}`,borderRadius:`${n} 0 0 ${n}`}},as=(e,t,n,o)=>t?ls(n,o):cs(e),ls=(e,t)=>({...e||t?{visibility:"visible"}:{visibility:"hidden"},...es,borderRadius:"inherit"}),cs=e=>{const t=e?.borderRadius||0;return{...$r,borderRadius:`0 ${t} ${t} 0`}},Cs=(e,t)=>({...Xr,textFont:e?.messageTextFont||n.fontHelper(t.typography.title1),textColor:e?.messageTextColor||t.palette.getAccent600()}),gs=e=>({width:"100%",height:"100%",border:"0 none",borderRadius:"inherit",background:"inherit",...e?.conversationsStyle}),ds=(e,t,n)=>{const o=e?.borderRadius;return{borderRadius:n?`${o} ${o} 0 0`:`0px ${o} 0px 0px`,...t?.messageHeaderConfiguration?.messageHeaderStyle}},us=(e,t,n)=>{const o=e?.borderRadius;return{borderRadius:n?`0 0 ${o} ${o}`:`0px 0 ${o} 0px`,...t?.messageComposerConfiguration?.messageComposerStyle}},ps=(e,t)=>({background:t?.background,...e}),hs=(e,t,n)=>{let o={visibility:"hidden"};return t||n||e||(o={visibility:"visible"}),{...ts,...o,width:"calc(100% - 280px)"}},ms=(e,t)=>({height:t?.backdropStyle?.height||e?.height,width:t?.backdropStyle?.width||e?.width,background:t?.backdropStyle?.background||"rgba(0, 0, 0, 0.5)",border:t?.backdropStyle?.border||"0 none",borderRadius:t?.backdropStyle?.borderRadius||"0"}),As=(e,t)=>({height:"24px",width:"24px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:e?t.palette.getAccent600():t.palette.getPrimary()});function xs(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:e?.closeIconTint||t.palette.getPrimary(),background:"transparent",position:"absolute",top:"8px",right:"12px"}}function bs(e,t){return{height:"30px",textAlign:"center",font:e?.titleTextFont||n.fontHelper(t.typography.title1),padding:"10px 0px",color:e?.titleTextColor||t.palette.getAccent()}}function ys(e,t){return{height:e?.height||"94%",width:e?.width||"100%",background:e?.background||t.palette.getBackground(),border:e?.border||"none",borderRadius:e?.borderRadius||"none",boxShadow:e?.boxShadow||"0",padding:e?.padding||"0",display:"flex"}}const fs=(e,t,o)=>({width:t===n.TabsVisibility.usersAndGroups?"50%":"100%",height:"100%",borderRadius:"0",border:"none",titleTextFont:n.fontHelper(e.typography.text2),titleTextColor:e.palette.getAccent(),activeTitleTextFont:n.fontHelper(e.typography.text2),activeTitleTextColor:e.palette.getAccent(),activeBackground:e.palette.getBackground(),activeBorderRadius:"8px",background:"#ececec",boxShadow:"0px 3px 8px rgba(20, 20, 20, 0.12), 0 3px 1px rgba(20, 20, 20, 0.04)"});function ws(e,t){return{position:"relative",boxSizing:"border-box",background:e?.background||t.palette.getBackground(),width:e?.width||"100%",height:e?.height||"100%",border:e?.border||`1px solid ${t.palette.getAccent50()}`,borderRadius:e?.borderRadius||"0",overflow:"hidden"}}function Ds(e){return{...void 0!==e?e:{},width:e?.width||"12px",height:e?.height||"12px",border:e?.border||"none",borderRadius:e?.borderRadius||"24px"}}function Es(e,t){return new o.AvatarStyle({borderRadius:e?.borderRadius||"24px",width:e?.width||"28px",height:e?.height||"28px",border:e?.border||`1px solid ${t.palette.getAccent100()}`,backgroundColor:e?.backgroundColor||t.palette.getAccent700(),nameTextColor:e?.nameTextColor||t.palette.getAccent900(),backgroundSize:e?.backgroundSize||"cover",nameTextFont:e?.nameTextFont||n.fontHelper(t.typography.caption1),outerViewBorderWidth:e?.outerViewBorderWidth||"0",outerViewBorderRadius:e?.outerViewBorderRadius||"0",outerViewBorderColor:e?.outerViewBorderColor||"",outerViewBorderSpacing:e?.outerViewBorderSpacing||"0"})}function vs(e,t,r){return new o.ListItemStyle({height:e?.height||"auto",width:e?.width||"100%",background:e?.background||"inherit",activeBackground:e?.activeBackground||r.palette.getAccent100(),borderRadius:e?.borderRadius||"0",titleFont:e?.titleFont||n.fontHelper(r.typography.title2),titleColor:e?.titleColor||r.palette.getAccent(),border:e?.border||"none",padding:e?.padding||"0",separatorColor:e?.separatorColor||t?.separatorColor||r.palette.getAccent100(),hoverBackground:e?.hoverBackground||r.palette.getAccent50()})}function Ss(e,o){return new t.GroupsStyle({background:"inherit",width:"100%",height:"100%",border:"none",borderRadius:"inherit",titleTextFont:e?.titleTextFont||n.fontHelper(o.typography.title1),titleTextColor:e?.titleTextColor||o.palette.getAccent(),searchPlaceholderTextFont:e?.searchPlaceholderTextFont||n.fontHelper(o.typography.subtitle1),searchPlaceholderTextColor:e?.searchPlaceholderTextColor||o.palette.getAccent500(),searchTextFont:e?.searchTextFont||n.fontHelper(o.typography.subtitle1),searchTextColor:e?.searchTextColor||o.palette.getAccent(),searchBorder:e?.searchBorder||"none",searchBorderRadius:e?.searchBorderRadius||"8px",searchBackground:e?.searchBackground||o.palette.getAccent50(),searchIconTint:e?.searchIconTint||o.palette.getAccent500(),separatorColor:e?.separatorColor||o.palette.getAccent400(),loadingIconTint:e?.loadingIconTint||o.palette.getAccent600(),emptyStateTextFont:e?.emptyStateTextFont||n.fontHelper(o.typography.heading),emptyStateTextColor:e?.emptyStateTextColor||o.palette.getAccent600(),errorStateTextFont:e?.errorStateTextFont||n.fontHelper(o.typography.heading),errorStateTextColor:e?.errorStateTextColor||o.palette.getAccent600()})}function Is(e,t){return{font:e?.subTitleTextFont||n.fontHelper(t.typography.subtitle2),color:e?.subTitleTextColor||t.palette.getAccent600()}}class Fs{constructor(e){const{searchText:t,groupsRequestBuilder:n,searchRequestBuilder:o}=e;let r;0===t.length?r=n.setSearchKeyword(""):(r=null!==o?o:n,r.setSearchKeyword(t)),this.groupsRequest=r.build()}fetchNext(){return this.groupsRequest.fetchNext()}static async getLoggedInUser(){return void 0===this.loggedInUser&&(this.loggedInUser=await s.CometChat.getLoggedinUser()),this.loggedInUser}static createGroupListener(e){return new s.CometChat.GroupListener({onGroupMemberJoined:async(t,n,o)=>{n.getUid()===(await Fs.getLoggedInUser())?.getUid()&&o.setHasJoined(!0),e({type:"updateGroup",group:o})},onGroupMemberLeft:async(t,n,o)=>{n.getUid()===(await Fs.getLoggedInUser())?.getUid()&&o.setHasJoined(!1),e({type:"updateGroup",group:o})},onMemberAddedToGroup:async(t,n,o,r)=>{n.getUid()===(await Fs.getLoggedInUser())?.getUid()&&r.setHasJoined(!0),e({type:"updateGroup",group:r})},onGroupMemberKicked:async(t,n,o,r)=>{n.getUid()===(await Fs.getLoggedInUser())?.getUid()&&r.setHasJoined(!1),e({type:"updateGroup",group:r})},onGroupMemberBanned:async(t,n,o,r)=>{n.getUid()===(await Fs.getLoggedInUser())?.getUid()?e({type:"removeGroup",guid:r.getGuid()}):e({type:"updateGroup",group:r})},onGroupMemberUnbanned:async(t,n,o,r)=>{n.getUid()===(await Fs.getLoggedInUser())?.getUid()&&(r.setHasJoined(!1),e({type:"prependGroup",group:r}))},onGroupMemberScopeChanged:async(t,n,o,r,s)=>{n.getUid()===(await Fs.getLoggedInUser())?.getUid()&&s.setScope(o),e({type:"updateGroup",group:s})}})}static attachListeners(e){const t="GroupsList_"+String(Date.now());return s.CometChat.addGroupListener(t,Fs.createGroupListener(e)),()=>s.CometChat.removeGroupListener(t)}static attachConnestionListener(e){const t="GroupsList_connection_"+String(Date.now());return s.CometChat.addConnectionListener(t,new s.CometChat.ConnectionListener({onConnected:()=>{console.log("ConnectionListener =>connected"),e&&e()},onDisconnected:()=>{console.log("ConnectionListener => On Disconnected")}})),()=>s.CometChat.removeConnectionListener(t)}}var ks="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2014%2014%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3ELocked%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Symbols-v2%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Locked%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20fill%3D%22%23F7A500%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M7%2C3%20C8.1045695%2C3%209%2C3.8954305%209%2C5%20L9.00079851%2C6.00841863%20C9.2437935%2C6.025429%209.36573413%2C6.06795171%209.48842285%2C6.13356635%20C9.65138581%2C6.2207199%209.7792801%2C6.34861419%209.86643365%2C6.51157715%20C9.95358719%2C6.67454011%2010%2C6.83618323%2010%2C7.2819426%20L10%2C9.7180574%20C10%2C10.1638168%209.95358719%2C10.3254599%209.86643365%2C10.4884229%20C9.7792801%2C10.6513858%209.65138581%2C10.7792801%209.48842285%2C10.8664336%20C9.32545989%2C10.9535872%209.16381677%2C11%208.7180574%2C11%20L5.2819426%2C11%20C4.83618323%2C11%204.67454011%2C10.9535872%204.51157715%2C10.8664336%20C4.34861419%2C10.7792801%204.2207199%2C10.6513858%204.13356635%2C10.4884229%20C4.04641281%2C10.3254599%204%2C10.1638168%204%2C9.7180574%20L4%2C7.2819426%20C4%2C6.83618323%204.04641281%2C6.67454011%204.13356635%2C6.51157715%20C4.2207199%2C6.34861419%204.34861419%2C6.2207199%204.51157715%2C6.13356635%20C4.63442137%2C6.06786855%204.7565156%2C6.02532125%205.00012601%2C6.00835408%20L5%2C5%20C5%2C3.8954305%205.8954305%2C3%207%2C3%20Z%20M7%2C4%20C6.48716416%2C4%206.06449284%2C4.38604019%206.00672773%2C4.88337887%20L6%2C5%20L6%2C6%20L8%2C6%20L8%2C5%20C8%2C4.44771525%207.55228475%2C4%207%2C4%20Z%22%20id%3D%22Rectangle-3%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Ts="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2014%2014%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EPrivate%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Symbols-v2%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Private%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20fill%3D%22%2300C86F%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4%2C5%20C5.33333333%2C4.66666667%206.33333333%2C4%207%2C3%20C7.66666667%2C4%208.66666667%2C4.66666667%2010%2C5%20L10%2C6.14589803%20C10%2C8.20151331%208.83859819%2C10.0807009%207%2C11%20L7%2C11%20L7%2C11%20C5.16140181%2C10.0807009%204%2C8.20151331%204%2C6.14589803%20L4%2C5%20L4%2C5%20Z%22%20id%3D%22Rectangle%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Ms="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M4.9598%2011.531C5.47958%2012.7541%206.4639%2013.7205%207.69625%2014.2178C8.92859%2014.7151%2010.308%2014.7024%2011.531%2014.1826C12.754%2013.6629%2013.7205%2012.6785%2014.2178%2011.4462C14.715%2010.2139%2014.7024%208.83445%2014.1826%207.61142C13.6629%206.3884%2012.6785%205.42195%2011.4462%204.92467C10.2138%204.4274%208.83444%204.44004%207.61141%204.95981C6.38839%205.47959%205.42194%206.46391%204.92467%207.69626C4.42739%208.9286%204.44003%2010.308%204.9598%2011.531V11.531Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M13.114%2013.1139L17.0001%2017.0005%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",Bs="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Ls=(e,t)=>{let n=e;const{type:o}=t;switch(o){case"appendGroups":if(t.groups.length>0){let o=[];t.removeOldGroups?(e.groupList=[],o=t.groups):o=[...e.groupList,...t.groups],n={...e,groupList:o}}n={...e,groupList:[...e.groupList,...t.groups]};break;case"setGroupList":n={...e,groupList:t.groupList};break;case"setFetchState":n={...e,fetchState:t.fetchState};break;case"updateGroup":{const{groupList:o}=e,{group:r}=t,s=r.getGuid(),i=o.findIndex((e=>e.getGuid()===s));i>-1&&(n={...e,groupList:o.map(((e,t)=>t===i?r:e))});break}case"removeGroup":{const{groupList:o}=e,r=t.guid,s=o.findIndex((e=>e.getGuid()===r));s>-1&&(n={...e,groupList:o.filter(((e,t)=>t!==s))});break}case"prependGroup":n={...e,groupList:[t.group,...e.groupList]};break;case"setSearchText":n={...e,searchText:t.searchText};break;case"setIsFirstReload":n={...e,isFirstReload:t.isFirstReload}}return n};function Rs(e){const{menus:o=null,title:i=n.localize("GROUPS"),titleAlignment:a=n.TitleAlignment.left,searchPlaceholderText:l=n.localize("SEARCH"),searchIconURL:c=Ms,hideSearch:C=!1,groupsRequestBuilder:d=null,searchRequestBuilder:u=null,onError:p,listItemView:h=null,hideSeparator:m=!1,subtitleView:A=null,options:x=null,selectionMode:b=n.SelectionMode.none,onSelect:y,onItemClick:f,activeGroup:w=null,loadingIconURL:D=Bs,loadingStateView:E,emptyStateText:v=n.localize("NO_GROUPS_FOUND"),emptyStateView:S,errorStateText:I=n.localize("SOMETHING_WRONG"),errorStateView:F,hideError:k=!1,passwordGroupIcon:M=ks,privateGroupIcon:B=Ts,statusIndicatorStyle:L,avatarStyle:R,listItemStyle:U,groupsStyle:P}=e,[O,j]=r.useReducer(Ls,{searchText:"",groupList:[],fetchState:n.States.loading,isFirstReload:!1}),G=r.useRef(null),V=r.useRef(""),H=de(p),{theme:Q}=r.useContext(T),N=r.useRef(!1),K=r.useRef(!1),z=r.useRef("");O.searchText!==z.current&&O.searchText.trim().length>0&&O.searchText.trim().length==O.searchText.length&&(z.current=O.searchText),O.isFirstReload&&(N.current=!0,O.isFirstReload=!1);const _=r.useCallback((e=>{const t=e.trim();(0===e.length||t.length===e.length&&t.length>0)&&j({type:"setSearchText",searchText:e})}),[j]),J=r.useCallback((async e=>{const t=G.current;if(!t)return;let o=K.current?n.States.loaded:n.States.loading;j({type:"setFetchState",fetchState:o});try{const o=await t.fetchNext();if(e!==V.current)return;if(0!==o.length){let e=!!K.current;j({type:"appendGroups",groups:o,removeOldGroups:e})}j({type:"setFetchState",fetchState:n.States.loaded}),N.current&&(Fs.attachConnestionListener((()=>{const e=null===d?(new s.CometChat.GroupsRequestBuilder).setLimit(30):d;G.current=new Fs({searchText:z.current,groupsRequestBuilder:e,searchRequestBuilder:u}),K.current=!0,J(V.current="initialFetchNext_"+String(Date.now()))})),N.current=!1),K.current?K.current=!1:j({type:"setFetchState",fetchState:n.States.loaded})}catch(t){e===V.current&&O.groupList?.length<=0&&j({type:"setFetchState",fetchState:n.States.error}),H(t)}}),[H,j]);function Y(e){let t="";switch(e.getType()){case n.CometChatUIKitConstants.GroupTypes.password:t=M;break;case n.CometChatUIKitConstants.GroupTypes.private:t=B}return t}function W(e){if(null!==A)return A(e);const t=e.getMembersCount();return g.jsx("div",{className:"cc-groups__subtitle",style:Is(P,Q),children:`${t} ${t>1?n.localize("MEMBERS"):n.localize("MEMBER")}`})}function Z(e){let t;return(t=x?.(e))?.length?g.jsx(er,{data:t,onOptionClick:e=>e.detail.data.onClick?.()}):null}function X(e){switch(b){case n.SelectionMode.none:return null;case n.SelectionMode.single:return g.jsx(tr,{onChange:t=>y?.(e,t.detail.checked)});case n.SelectionMode.multiple:return g.jsx($o,{onChange:t=>y?.(e,t.detail.checked)})}}function q(e){switch(e.getType()){case n.CometChatUIKitConstants.GroupTypes.private:return P?.privateGroupIconBackground||Q.palette.getSuccess()||"rgb(0, 200, 111)";case n.CometChatUIKitConstants.GroupTypes.password:return P?.passwordGroupIconBackground||"rgb(247, 165, 0)";default:return null}}return function(e){const{groupsRequestBuilder:o,searchRequestBuilder:i,searchText:a,fetchNextIdRef:l,groupsManagerRef:c,dispatch:C,fetchNextAndAppendGroups:g}=e;r.useEffect((()=>{C({type:"setIsFirstReload",isFirstReload:!0});const e=null===o?(new s.CometChat.GroupsRequestBuilder).setLimit(30):o;C({type:"setGroupList",groupList:[]}),c.current=new Fs({searchText:a,groupsRequestBuilder:e,searchRequestBuilder:i}),g(l.current="initialFetch_"+String(Date.now()))}),[g,o,i,a,C,l,c]),r.useEffect((()=>Fs.attachListeners(C)),[C]),r.useEffect((()=>{const e=n.CometChatGroupEvents.ccGroupCreated.subscribe((e=>{C({type:"prependGroup",group:t.CometChatUIKitUtility.clone(e)})})),o=n.CometChatGroupEvents.ccGroupDeleted.subscribe((e=>{C({type:"removeGroup",guid:e.getGuid()})})),r=n.CometChatGroupEvents.ccGroupMemberJoined.subscribe((e=>{C({type:"updateGroup",group:t.CometChatUIKitUtility.clone(e.joinedGroup)})})),s=n.CometChatGroupEvents.ccGroupMemberKicked.subscribe((e=>{C({type:"updateGroup",group:t.CometChatUIKitUtility.clone(e.kickedFrom)})})),i=n.CometChatGroupEvents.ccGroupLeft.subscribe((e=>{e.leftGroup.getType()===n.CometChatUIKitConstants.GroupTypes.private?C({type:"removeGroup",guid:e.leftGroup.getGuid()}):C({type:"updateGroup",group:e.leftGroup})})),a=n.CometChatGroupEvents.ccGroupMemberBanned.subscribe((e=>{C({type:"updateGroup",group:e.kickedFrom})})),l=n.CometChatGroupEvents.ccGroupMemberAdded.subscribe((e=>{C({type:"updateGroup",group:e.userAddedIn})})),c=n.CometChatGroupEvents.ccOwnershipChanged.subscribe((e=>{C({type:"updateGroup",group:e.group})}));return()=>{e.unsubscribe(),o.unsubscribe(),r.unsubscribe(),s.unsubscribe(),i.unsubscribe(),a.unsubscribe(),l.unsubscribe(),c.unsubscribe()}}),[C])}({searchText:O.searchText,groupsRequestBuilder:d,searchRequestBuilder:u,fetchNextIdRef:V,groupsManagerRef:G,dispatch:j,fetchNextAndAppendGroups:J}),g.jsxs("div",{className:"cc-groups",style:ws(P,Q),children:[null===o?o:g.jsx("div",{className:"cc-groups__menus",style:{position:"absolute",top:"16px",right:"16px",cursor:"pointer",display:"flex",flexDirection:"row-reverse",width:"24px"},children:o}),g.jsx(pe,{title:i,titleAlignment:a,searchPlaceholderText:l,searchIconURL:c,hideSearch:C,searchText:O.searchText,onSearch:_,list:O.groupList,listItem:null!==h?h:function(e){return g.jsx(Xn,{id:e.getGuid(),avatarURL:e.getIcon(),avatarName:e.getName(),title:e.getName(),statusIndicatorColor:q(e),statusIndicatorIcon:Y(e),hideSeparator:m,isActive:b===n.SelectionMode.none&&w?.getGuid()===e.getGuid(),statusIndicatorStyle:Ds(L),avatarStyle:Es(R,Q),listItemStyle:vs(U,P,Q),subtitleView:W(e),subtitleViewClassName:"cc-groups__subtitle-view",menuView:Z(e),menuViewClassName:"cc-groups__options-view",tailView:X(e),tailViewClassName:"cc-group__tail-view",onClick:t=>f?.(e)})},onScrolledToBottom:()=>J(V.current="onScrolledToBottom_"+String(Date.now())),listItemKey:"getGuid",showSectionHeader:!1,state:O.fetchState===n.States.loaded&&0===O.groupList.length?n.States.empty:O.fetchState,loadingIconURL:D,loadingView:E,emptyStateText:v,emptyStateView:S,errorStateText:I,errorStateView:F,hideError:k,listStyle:Ss(P,Q)})]})}const Us={title:n.localize("NEW_CHAT"),usersTabTitle:n.localize("USERS"),groupsTabTitle:n.localize("GROUPS"),groupsConfiguration:new t.GroupsConfiguration({}),usersConfiguration:new t.UsersConfiguration({}),onError:e=>{console.log(e)},tabVisibility:n.TabsVisibility.usersAndGroups,contactsStyle:{}},Ps=e=>{const[t,o]=r.useState([]),[i,a]=r.useState(!0),[l,c]=r.useState(!1),C=r.useRef(),d=r.useRef(),{theme:u}=r.useContext(T),{title:p,usersTabTitle:h,groupsTabTitle:m,closeIconURL:A,onClose:x,usersConfiguration:b,groupsConfiguration:y,onItemClick:f,tabVisibility:w,contactsStyle:D}=e;r.useEffect((()=>{const e=(new s.CometChat.UsersRequestBuilder).setLimit(30).hideBlockedUsers(!0),t=(new s.CometChat.UsersRequestBuilder).setLimit(30).hideBlockedUsers(!0),r=(new s.CometChat.GroupsRequestBuilder).setLimit(30).joinedOnly(!0),a=(new s.CometChat.GroupsRequestBuilder).setLimit(30).joinedOnly(!0);C.current=new n.CometChatTabItem({id:"users",title:h,style:fs(u,w),childView:g.jsx(ir,{title:"",activeUser:void 0,hideSearch:b?.hideSearch||!1,searchIconURL:b?.searchIconURL,searchRequestBuilder:b?.searchRequestBuilder||t,onItemClick:b?.onItemClick||E,usersStyle:b?.usersStyle,subtitleView:b?.subtitleView,options:b?.options??void 0,usersRequestBuilder:b?.usersRequestBuilder||e,emptyStateView:b?.emptyStateView,onSelect:b?.onSelect,loadingIconURL:b?.loadingIconURL,errorStateView:b?.errorStateView,loadingStateView:b?.loadingStateView,tileAlignment:b?.titleAlignment,showSectionHeader:b?.showSectionHeader,listItemView:b?.listItemView,menus:b?.menu,hideSeparator:b?.hideSeparator,hideError:b?.hideError,selectionMode:b?.selectionMode,listItemStyle:b?.listItemStyle,disableUsersPresence:b?.disableUsersPresence,statusIndicatorStyle:b?.statusIndicatorStyle,avatarStyle:b?.avatarStyle}),isActive:i}),d.current=new n.CometChatTabItem({id:"groups",title:m,style:fs(u,w),childView:g.jsx(Rs,{title:"",activeGroup:void 0,hideSearch:y?.hideSearch||!1,searchIconURL:y?.searchIconURL,searchRequestBuilder:y?.searchRequestBuilder||a,onItemClick:v,groupsStyle:y?.groupsStyle,subtitleView:y?.subtitleView,options:y?.options??void 0,privateGroupIcon:y?.privateGroupIcon,passwordGroupIcon:y?.protectedGroupIcon,groupsRequestBuilder:y?.groupsRequestBuilder||r,emptyStateView:y?.emptyStateView,onSelect:y?.onSelect,loadingIconURL:y?.loadingIconURL,errorStateView:y?.errorStateView,loadingStateView:y?.loadingStateView,titleAlignment:y?.titleAlignment,listItemView:y?.listItemView,menus:y?.menu,hideSeparator:y?.hideSeparator,hideError:y?.hideError,selectionMode:y?.selectionMode,listItemStyle:y?.listItemStyle}),isActive:l}),o([C.current,d.current])}),[]),r.useEffect((()=>{w===n.TabsVisibility.groups?(c(!0),a(!1),o([d.current])):w===n.TabsVisibility.users?(c(!1),a(!0),o([C.current])):w===n.TabsVisibility.usersAndGroups&&(c(!1),a(!0),o([C.current,d.current]))}),[w]);const E=e=>{f&&f(e,void 0)},v=e=>{f&&f(void 0,e)};return t.length?g.jsx("div",{className:"cc-contacts-wrapper",style:ys(D,u),children:g.jsxs("div",{className:"cc-contacts",style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[g.jsx("div",{className:"cc-contacts-header",style:bs(D,u),children:p}),g.jsxs("div",{className:"cc-contacts-content",style:{height:"calc(100% - 50px)"},children:[g.jsx(Dn,{tabAlignment:n.TabAlignment.right,tabs:t,tabsStyle:{height:"100%",width:"100%",tabListHeight:"30px",tabListBackground:"#ececec",tabListPadding:"2px 2px",tabListBorderRadius:"8px",tabPaneWidth:"100%",tabPaneHeight:"calc(100% - 34px)"},keepAlive:!0}),""===A?g.jsx(g.Fragment,{}):g.jsx(De,{iconURL:A,hoverText:n.localize("CLOSE"),buttonStyle:xs(D,u),onClick:x})]})]})}):g.jsx(g.Fragment,{})};Ps.defaultProps=Us;const Os=(e,t)=>({display:"flex",position:"relative",width:e?.width||"100%",height:e?.height||"100%",border:e?.border||"0 none",borderRadius:e?.borderRadius||"inherit",background:e?.background||t.palette.getBackground()}),js={position:"absolute",top:"0",left:"0",height:"100%",width:"100%",maxHeight:"100%",overflowY:"auto",overflowX:"hidden",maxWidth:"100%",zIndex:"1"},Gs={position:"absolute",top:"0",left:"0",height:"100%",width:"100%",maxHeight:"100%",overflowY:"auto",overflowX:"hidden",maxWidth:"100%",zIndex:"1",borderRadius:"inherit"},Vs={width:"100%",borderRadius:"inherit"},Hs={height:"100%",width:"100%",overflow:"hidden"},Qs=e=>({border:"0 none",background:"inherit",borderRadius:"inherit",...e?.messageHeaderStyle}),Ns=e=>({border:"0 none",background:"inherit",borderRadius:"inherit",...e?.messageListStyle}),Ks=e=>({...e?.messageComposerStyle}),zs=(e,t,n)=>({...e?.detailsStyle}),_s={position:"absolute",display:"flex",alignItems:"center",height:"100%",width:"100%",justifyContent:"center",zIndex:1e3,overflow:"hidden"};function Js(e,t){return{boxSizing:"border-box",width:e?.width||"100%",height:e?.height||"100%",border:e?.border||"none",borderRadius:e?.borderRadius||"0",background:e?.background||t.palette.getBackground(),position:"relative",padding:"19px",display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"hidden"}}function Ys(e,t){return{background:"inherit",textFont:e?.titleTextFont||n.fontHelper(t.typography.title1),textColor:e?.titleTextColor||t.palette.getAccent()}}function Ws(e,t){return{width:"24px",height:"24px",background:"transparent",border:"none",borderRadius:"0",buttonIconTint:e?.closeButtonIconTint||t.palette.getPrimary(),position:"absolute",right:"12px"}}function Zs(e,t){return{width:e?.width||"100%",height:e?.height||"fit-content",border:e?.border||"none",borderRadius:e?.borderRadius||"0",background:e?.background||"inherit",activeBackground:e?.activeBackground||"transparent",hoverBackground:e?.hoverBackground||"transparent",separatorColor:e?.separatorColor||t.palette.getAccent200(),titleFont:e?.titleFont||n.fontHelper(t.typography.title2),titleColor:e?.titleColor||t.palette.getAccent()}}function Xs(e,t){return{...e??{},width:e?.width||"12px",height:e?.height||"12px",border:e?.border||"none",borderRadius:e?.borderRadius||"24px"}}function qs(e,t){return{width:e?.width||"36px",height:e?.height||"36px",border:e?.border||"none",borderRadius:e?.borderRadius||"24px",backgroundColor:e?.backgroundColor||t.palette.getAccent700(),backgroundSize:e?.backgroundSize||"cover",nameTextFont:e?.nameTextFont||n.fontHelper(t.typography.subtitle1),nameTextColor:e?.nameTextColor||t.palette.getAccent900(),outerViewBorderWidth:e?.outerViewBorderWidth||"0",outerViewBorderRadius:e?.outerViewBorderRadius||"0",outerViewBorderColor:e?.outerViewBorderColor||"",outerViewBorderSpacing:e?.outerViewBorderSpacing||"0"}}function $s(e,t,o){return{background:"inherit",textFont:t?.subtitleTextFont||n.fontHelper(o.typography.subtitle2),textColor:e?o.palette.getPrimary():t?.subtitleTextColor}}function ei(e){return{background:"inherit",textFont:e.titleFont,textColor:e.titleColor}}function ti(e){return{width:"100%",height:"100%",border:"none",borderRadius:"0",buttonTextFont:e.titleFont,buttonTextColor:e.titleColor,backgroundColor:e.backgroundColor||"inherit",buttonIconTint:e.iconTint,padding:"18px 0 16px 0"}}function ni(e,t){return{background:"rgba(0, 0, 0, 0.5)",position:"absolute",width:t?.width,height:t?.height,...e}}function oi(e,t,o){return{confirmButtonBackground:e?.confirmButtonBackground||o.palette.getPrimary(),cancelButtonBackground:e?.cancelButtonBackground||o.palette.getSecondary(),confirmButtonTextColor:e?.confirmButtonTextColor||o.palette.getAccent900("light"),confirmButtonTextFont:e?.confirmButtonTextFont||n.fontHelper(o.typography.text2),cancelButtonTextColor:e?.cancelButtonTextColor||o.palette.getAccent900("dark"),cancelButtonTextFont:e?.cancelButtonTextFont||n.fontHelper(o.typography.text2),titleFont:e?.titleFont||n.fontHelper(o.typography.title1),titleColor:e?.titleColor||o.palette.getAccent(),messageTextFont:e?.messageTextFont||n.fontHelper(o.typography.subtitle2),messageTextColor:e?.messageTextColor||o.palette.getAccent600(),background:e?.background||t?.background||o.palette.getBackground(),width:e?.width||"320px",height:e?.height||"100%",border:e?.border||`1px solid ${o.palette.getAccent200()}`,borderRadius:e?.borderRadius||"8px",boxShadow:e?.boxShadow}}function ri(e,t){return{confirmButtonBackground:e?.confirmButtonBackground||t.palette.getError(),cancelButtonBackground:e?.cancelButtonBackground||t.palette.getSecondary(),confirmButtonTextColor:e?.confirmButtonTextColor||t.palette.getAccent900("light"),confirmButtonTextFont:e?.confirmButtonTextFont||n.fontHelper(t.typography.text2),cancelButtonTextColor:e?.cancelButtonTextColor||t.palette.getAccent900("dark"),cancelButtonTextFont:e?.cancelButtonTextFont||n.fontHelper(t.typography.text2),titleFont:e?.titleFont||n.fontHelper(t.typography.title1),titleColor:e?.titleColor||t.palette.getAccent(),messageTextFont:e?.messageTextFont||n.fontHelper(t.typography.subtitle2),messageTextColor:e?.messageTextColor||t.palette.getAccent600(),background:e?.background||t.palette.getBackground(),width:e?.width||"320px",height:e?.height||"100%",border:e?.border||`1px solid ${t.palette.getAccent200()}`,borderRadius:e?.borderRadius||"8px",boxShadow:e?.boxShadow}}function si(e,t,n){return{width:"100%",height:(t?"2":"1")+"px",background:e||n.palette.getAccent200()}}const ii=(e,t)=>{const n=e?.groupMembersStyle;return{background:n?.background||t?.background,...n}},ai=(e,t)=>{const n=e?.addMembersStyle;return{background:n?.background||t?.background,...n}},li=(e,t)=>{const n=e?.bannedMembersStyle;return{background:n?.background||t?.background,...n}},ci=(e,t)=>{const n=e?.transferOwnershipStyle;return{background:n?.background||t?.background,...n}};var Ci="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fbackbutton%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FBack%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.250000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2218.75%22%20y1%3D%228.75%22%20x2%3D%220%22%20y2%3D%228.75%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolyline%20id%3D%22Path%22%20points%3D%228.75%200%200%208.75%208.75%2017.5%22%3E%3C%2Fpolyline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",gi="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function di(e,t){return{position:"relative",overflowX:"hidden",width:e?.width||"100%",height:e?.height||"100%",boxSizing:"border-box",border:e?.border||"none",borderRadius:e?.borderRadius||"0",background:e?.background||t.palette.getBackground(),padding:e?.padding||"0",boxShadow:e?.boxShadow||"0"}}function ui(e,o){return new t.ListStyle({width:"100%",height:"100%",border:"none",borderRadius:"inherit",background:"inherit",titleTextFont:e?.titleTextFont||n.fontHelper(o.typography.title1),titleTextColor:e?.titleTextColor||o.palette.getAccent(),emptyStateTextFont:e?.emptyStateTextFont||n.fontHelper(o.typography.heading),emptyStateTextColor:e?.emptyStateTextColor||o.palette.getAccent600(),errorStateTextFont:e?.errorStateTextFont||n.fontHelper(o.typography.heading),errorStateTextColor:e?.errorStateTextColor||o.palette.getAccent600(),loadingIconTint:e?.loadingIconTint||o.palette.getAccent600(),searchIconTint:e?.searchIconTint||o.palette.getAccent500(),searchBorder:e?.searchBorder||"none",searchBorderRadius:e?.searchBorderRadius||"8px",searchBackground:e?.searchBackground||o.palette.getAccent50(),searchPlaceholderTextFont:e?.searchPlaceholderTextFont||n.fontHelper(o.typography.subtitle1),searchPlaceholderTextColor:e?.searchPlaceholderTextColor||o.palette.getAccent500(),searchTextFont:e?.searchTextFont||n.fontHelper(o.typography.subtitle1),searchTextColor:e?.searchTextColor||o.palette.getAccent()})}function pi(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:e?.backButtonIconTint||t.palette.getPrimary()||"",background:"transparent"}}function hi(e,t){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:e?.closeButtonIconTint||t.palette.getPrimary()||"",background:"transparent"}}function mi(e,t){return new o.AvatarStyle({borderRadius:e?.borderRadius||"24px",width:e?.width||"28px",height:e?.height||"28px",border:e?.border||`1px solid ${t.palette.getAccent100()}`,backgroundColor:e?.backgroundColor||t.palette.getAccent700(),nameTextColor:e?.nameTextColor||t.palette.getAccent900(),backgroundSize:e?.backgroundSize||"cover",nameTextFont:e?.nameTextFont||n.fontHelper(t.typography.subtitle1),outerViewBorderWidth:e?.outerViewBorderWidth||"0",outerViewBorderRadius:e?.outerViewBorderRadius||"0",outerViewBorderColor:e?.outerViewBorderColor||"",outerViewBorderSpacing:e?.outerViewBorderSpacing||"0"})}function Ai(e){return{...null!==e?e:{},width:e?.width||"12px",height:e?.height||"12px",border:e?.border||"none",borderRadius:e?.borderRadius||"24px"}}function xi(e,t,r){return new o.ListItemStyle({height:e?.height||"45px",width:e?.width||"100%",border:e?.border||"none",borderRadius:e?.borderRadius||"0",background:e?.background||"inherit",activeBackground:e?.activeBackground||"",hoverBackground:e?.hoverBackground||"",separatorColor:e?.separatorColor||t?.separatorColor||r.palette.getAccent200(),titleFont:e?.titleFont||n.fontHelper(r.typography.title2),titleColor:e?.titleColor||r.palette.getAccent()})}function bi(e,t){return new o.LabelStyle({textFont:e?.textFont||n.fontHelper(t.typography.subtitle1),textColor:e?.textColor||t.palette.getAccent600(),background:"inherit"})}function yi(e,t){return new o.MenuListStyle({border:"none",borderRadius:"8px",background:"transparent",moreIconTint:t.palette.getPrimary(),submenuWidth:"100%",submenuHeight:"100%",submenuBorder:`1px solid ${t.palette.getAccent200()}`,submenuBorderRadius:"8px",submenuBackground:e?.background||t.palette.getBackground()})}function fi(e,t){return new o.ChangeScopeStyle({height:e?.height||"212px",width:e?.width||"360px",border:e?.border||`1px solid ${t.palette.getAccent200()}`,borderRadius:e?.borderRadius||"12px",background:e?.background||t.palette.getBackground(),titleTextFont:e?.titleTextFont||n.fontHelper(t.typography.title1),titleTextColor:e?.titleTextColor||t.palette.getAccent(),activeTextFont:e?.activeTextFont||n.fontHelper(t.typography.subtitle1),activeTextColor:e?.activeTextColor||t.palette.getAccent(),activeTextBackground:e?.activeTextBackground||t.palette.getAccent200(),arrowIconTint:e?.arrowIconTint||t.palette.getAccent900(),textFont:e?.textFont||n.fontHelper(t.typography.subtitle1),textColor:e?.textColor||t.palette.getAccent600(),optionBackground:e?.optionBackground||t.palette.getBackground(),optionBorder:e?.optionBorder||"none",optionBorderRadius:e?.optionBorderRadius||"0",hoverTextFont:e?.hoverTextFont||n.fontHelper(t.typography.subtitle1),hoverTextColor:e?.hoverTextColor||t.palette.getAccent900(),hoverTextBackground:e?.hoverTextBackground||t.palette.getAccent100(),buttonTextFont:e?.buttonTextFont||n.fontHelper(t.typography.title2),buttonTextColor:e?.buttonTextColor||t.palette.getAccent("dark"),buttonBackground:e?.buttonBackground||t.palette.getPrimary(),closeIconTint:e?.closeIconTint||t.palette.getPrimary()})}const wi=e=>({height:e?.height,width:e?.width,position:"absolute"});var Di="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20%5Ci-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%5Ci%20%20%5Cihttp%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%5Ci%3E%3Csvg%20enable-background%3D%22new%200%200%2032%2032%22%20%20id%3D%22%D0%A1%D0%BB%D0%BE%D0%B9_1%22%20version%3D%221.1%22%20viewBox%3D%220%200%2032%2032%22%20%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20d%3D%22M24.285%2C11.284L16%2C19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429%2C0%20%20c-0.394%2C0.395-0.394%2C1.035%2C0%2C1.43l8.999%2C9.002l0%2C0l0%2C0c0.394%2C0.395%2C1.034%2C0.395%2C1.428%2C0l8.999-9.002%20%20c0.394-0.395%2C0.394-1.036%2C0-1.431C25.319%2C10.889%2C24.679%2C10.889%2C24.285%2C11.284z%22%20fill%3D%22%23121313%22%20id%3D%22Expand_More%22%2F%3E%3Cg%2F%3E%3Cg%2F%3E%3Cg%2F%3E%3Cg%2F%3E%3Cg%2F%3E%3Cg%2F%3E%3C%2Fsvg%3E";class Ei{constructor(e){const{searchText:t,groupMemberRequestBuilder:n,searchRequestBuilder:o,groupGuid:r}=e;let i=n||new s.CometChat.GroupMembersRequestBuilder(r).setLimit(30);""!==t?(null!==o&&(i=o),i.setSearchKeyword(t)):(null!==o&&(i=o),i.setSearchKeyword("")),this.groupMembersRequest=i.build()}fetchNext(){return this.groupMembersRequest.fetchNext()}getCurrentPage(){return this.groupMembersRequest.pagination.current_page}static attachUserListener(e){const t="GroupMembers_User_"+String(Date.now());return s.CometChat.addUserListener(t,new s.CometChat.UserListener({onUserOnline:e,onUserOffline:e})),()=>s.CometChat.removeUserListener(t)}static createParticipantGroupMember(e,t){const o=new s.CometChat.GroupMember(e.getUid(),n.CometChatUIKitConstants.groupMemberScope.participant);return o.setName(e.getName()),o.setGuid(t.getGuid()),o.setUid(e.getUid()),o}static attachGroupListener(e,t){const n="GroupMembers_Group_"+String(Date.now());return s.CometChat.addGroupListener(n,new s.CometChat.GroupListener({onGroupMemberScopeChanged:(n,o,r,s,i)=>{i.getGuid()===e&&t({type:"updateGroupMemberScopeIfPresent",groupMemberUid:o.getUid(),newScope:r})},onGroupMemberKicked:(n,o,r,s)=>{s.getGuid()===e&&t({type:"removeGroupMemberIfPresent",groupMemberUid:o.getUid()})},onGroupMemberBanned:(n,o,r,s)=>{s.getGuid()===e&&t({type:"removeGroupMemberIfPresent",groupMemberUid:o.getUid()})},onMemberAddedToGroup:(n,o,r,s)=>{s.getGuid()===e&&t({type:"appendGroupMember",groupMember:Ei.createParticipantGroupMember(o,s)})},onGroupMemberLeft:(n,o,r)=>{r.getGuid()===e&&t({type:"removeGroupMemberIfPresent",groupMemberUid:o.getUid()})},onGroupMemberJoined:(n,o,r)=>{r.getGuid()===e&&t({type:"appendGroupMember",groupMember:Ei.createParticipantGroupMember(o,r)})}})),()=>s.CometChat.removeGroupListener(n)}}var vi="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fmoreicon%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FMore%22%20fill%3D%22%23000000%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4.5%2C10%20C5.88071187%2C10%207%2C11.1192881%207%2C12.5%20C7%2C13.8807119%205.88071187%2C15%204.5%2C15%20C3.11928813%2C15%202%2C13.8807119%202%2C12.5%20C2%2C11.1192881%203.11928813%2C10%204.5%2C10%20Z%20M12%2C10%20C13.3807119%2C10%2014.5%2C11.1192881%2014.5%2C12.5%20C14.5%2C13.8807119%2013.3807119%2C15%2012%2C15%20C10.6192881%2C15%209.5%2C13.8807119%209.5%2C12.5%20C9.5%2C11.1192881%2010.6192881%2C10%2012%2C10%20Z%20M19.5%2C10%20C20.8807119%2C10%2022%2C11.1192881%2022%2C12.5%20C22%2C13.8807119%2020.8807119%2C15%2019.5%2C15%20C18.1192881%2C15%2017%2C13.8807119%2017%2C12.5%20C17%2C11.1192881%2018.1192881%2C10%2019.5%2C10%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Si="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M4.9598%2011.531C5.47958%2012.7541%206.4639%2013.7205%207.69625%2014.2178C8.92859%2014.7151%2010.308%2014.7024%2011.531%2014.1826C12.754%2013.6629%2013.7205%2012.6785%2014.2178%2011.4462C14.715%2010.2139%2014.7024%208.83445%2014.1826%207.61142C13.6629%206.3884%2012.6785%205.42195%2011.4462%204.92467C10.2138%204.4274%208.83444%204.44004%207.61141%204.95981C6.38839%205.47959%205.42194%206.46391%204.92467%207.69626C4.42739%208.9286%204.44003%2010.308%204.9598%2011.531V11.531Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M13.114%2013.1139L17.0001%2017.0005%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",Ii="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function Fi(e,t){let o=e;const{type:r}=t;switch(r){case"appendGroupMembers":{const{groupMembers:r,groupMembersManager:s,onEmpty:i}=t;s&&[0].includes(s?.getCurrentPage())&&!r.length?!r.length&&i&&(setTimeout((()=>{i()})),o={...e,fetchState:n.States.empty}):0!==r.length&&(o={...e,groupMemberList:1==s?.getCurrentPage()?[...r]:[...e.groupMemberList,...r]});break}case"setSearchText":o={...e,searchText:t.searchText};break;case"setFetchState":o={...e,fetchState:t.fetchState};break;case"setGroupMemberList":o={...e,groupMemberList:t.groupMemberList};break;case"removeGroupMemberIfPresent":{const n=t.groupMemberUid,r=e.groupMemberList.findIndex((e=>e.getUid()===n));r>-1&&(o={...e,groupMemberList:e.groupMemberList.filter(((e,t)=>t!==r))});break}case"setGroupMemberToChangeScopeOf":o={...e,groupMemberToChangeScopeOf:t.groupMember};break;case"replaceGroupMemberIfPresent":{const{updatedGroupMember:n}=t,r=n.getUid(),s=e.groupMemberList.findIndex((e=>e.getUid()===r));s>-1&&(o={...e,groupMemberList:e.groupMemberList.map(((e,t)=>t!==s?e:n))});break}case"updateGroupMemberStatusIfPresent":{const{user:n}=t,{groupMemberList:r}=e,s=n.getUid(),i=r.findIndex((e=>e.getUid()===s));i>-1&&(o={...e,groupMemberList:r.map(((e,t)=>(t===i&&e.setStatus(n.getStatus()),e)))});break}case"updateGroupMemberScopeIfPresent":{const{groupMemberUid:n,newScope:r}=t,{groupMemberList:s}=e,i=s.findIndex((e=>e.getUid()===n));i>-1&&(o={...e,groupMemberList:s.map(((e,t)=>(t===i&&e.setScope(r),e)))});break}case"appendGroupMember":o={...e,groupMemberList:[...e.groupMemberList,t.groupMember]}}return o}function ki(e){const{backButtonIconURL:o="",backButton:i=null,showBackButton:a=!1,onBack:l,menus:c=null,title:C=n.localize("MEMBERS"),titleAlignment:d=n.TitleAlignment.center,searchPlaceholder:u=n.localize("SEARCH"),searchIconURL:p=Si,hideSearch:h=!1,groupMemberRequestBuilder:m=null,searchRequestBuilder:A=null,group:x,onError:b,emptyStateText:y=n.localize("NO_USERS_FOUND"),errorStateText:f=n.localize("SOMETHING_WRONG"),loadingIconURL:w=Ii,loadingStateView:D,errorSateView:E,emptyStateView:v,hideError:S=!1,hideSeparator:I=!0,disableUsersPresence:F=!1,subtitleView:k=null,listItemView:M=null,options:B=null,dropDownIconURL:L=Di,tailView:R=null,selectionMode:U=n.SelectionMode.none,onItemClick:P=null,onSelect:O=null,closeButtonIconURL:j="",onClose:G,avatarStyle:V=null,statusIndicatorStyle:H=null,listItemStyle:Q=null,groupScopeStyle:N=null,groupMembersStyle:K=null,searchKeyword:z="",onEmpty:_,fetchTimeOut:J,userPresencePlacement:Y=n.UserPresencePlacement.bottom,disableLoadingState:W=!1}=e,[Z,X]=r.useReducer(Fi,{groupMemberList:[],fetchState:n.States.loading,searchText:"",groupMemberToChangeScopeOf:null,fetchTimeOut:J,disableLoadingState:W}),q=r.useRef(null),$=r.useRef(null),ee=r.useRef(""),[te,ne]=ge(null),oe=Ce(x),re=de(b),{theme:se}=r.useContext(T),ie=r.useCallback((e=>{const t=e.trim();(0===e.length||t.length===e.length&&t.length>0)&&X({type:"setSearchText",searchText:e})}),[X]),ae=r.useCallback((async e=>{const t=q.current;if(t){W||X({type:"setFetchState",fetchState:n.States.loading});try{const o=await t.fetchNext();if(e!==ee.current)return;X({type:"appendGroupMembers",groupMembers:o,groupMembersManager:t,onEmpty:_}),X({type:"setFetchState",fetchState:n.States.loaded})}catch(e){X({type:"setFetchState",fetchState:n.States.error}),re(e)}}}),[X,re]),le=r.useCallback(((e,o,r,i)=>{const a=new s.CometChat.Action(r.getGuid(),n.CometChatUIKitConstants.MessageTypes.groupMember,n.CometChatUIKitConstants.MessageReceiverType.group,n.CometChatUIKitConstants.MessageCategory.action);return a.setAction(o),a.setActionBy(t.CometChatUIKitUtility.clone(i)),a.setSender(t.CometChatUIKitUtility.clone(i)),a.setMessage(`${i.getUid()} ${o} ${e.getUid()}`),a.setActionFor(t.CometChatUIKitUtility.clone(r)),a.setActionOn(t.CometChatUIKitUtility.clone(e)),a.setReceiver(t.CometChatUIKitUtility.clone(r)),a.setConversationId("group_"+r.getGuid()),a.setMuid(t.CometChatUIKitUtility.ID()),a.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),a.setReceiverType(n.CometChatUIKitConstants.MessageReceiverType.group),a.setRawData({extras:{scope:{new:e.getScope()}}}),a}),[]),ce=async e=>{const o=$.current;if(o)try{const r=oe.current;await s.CometChat.banGroupMember(r.getGuid(),e.getUid()),X({type:"removeGroupMemberIfPresent",groupMemberUid:e.getUid()});const i=t.CometChatUIKitUtility.clone(r);i.setMembersCount(i.getMembersCount()-1),n.CometChatGroupEvents.ccGroupMemberBanned.next({kickedBy:t.CometChatUIKitUtility.clone(o),kickedFrom:i,kickedUser:t.CometChatUIKitUtility.clone(e),message:le(e,n.CometChatUIKitConstants.groupMemberAction.BANNED,i,o)})}catch(e){re(e)}},ue=async e=>{const o=$.current;if(o)try{const r=oe.current;await s.CometChat.kickGroupMember(r.getGuid(),e.getUid()),X({type:"removeGroupMemberIfPresent",groupMemberUid:e.getUid()});const i=t.CometChatUIKitUtility.clone(r);i.setMembersCount(i.getMembersCount()-1),n.CometChatGroupEvents.ccGroupMemberKicked.next({kickedBy:t.CometChatUIKitUtility.clone(o),kickedFrom:t.CometChatUIKitUtility.clone(i),kickedUser:t.CometChatUIKitUtility.clone(e),message:le(e,n.CometChatUIKitConstants.groupMemberAction.KICKED,i,o)})}catch(e){re(e)}},{groupMemberToChangeScopeOf:he}=Z,me=r.useCallback((async e=>{const o=$.current;if(he&&o)try{const r=e,i=oe.current;await s.CometChat.updateGroupMemberScope(i.getGuid(),he.getUid(),r);const a=t.CometChatUIKitUtility.clone(he);a.setScope(r),X({type:"replaceGroupMemberIfPresent",updatedGroupMember:a}),n.CometChatGroupEvents.ccGroupMemberScopeChanged.next({scopeChangedFrom:he.getScope(),scopeChangedTo:a.getScope(),message:le(a,n.CometChatUIKitConstants.groupMemberAction.SCOPE_CHANGE,i,o),group:t.CometChatUIKitUtility.clone(i),updatedUser:t.CometChatUIKitUtility.clone(a)})}catch(e){re(e)}finally{X({type:"setGroupMemberToChangeScopeOf",groupMember:null})}}),[re,X,le,he,oe]);function Ae(e,t){return e===n.CometChatUIKitConstants.GroupMemberOptions.ban?ce(t):e===n.CometChatUIKitConstants.GroupMemberOptions.kick?ue(t):e===n.CometChatUIKitConstants.GroupMemberOptions.changeScope?X({type:"setGroupMemberToChangeScopeOf",groupMember:t}):void 0}function xe(e){let t;return null===R&&(t=B?.(x,e))?.length?g.jsx(er,{data:t,menuListStyle:yi(K,se),onOptionClick:t=>{const{id:n,onClick:o}=t.detail.data;o?o():"string"==typeof n&&Ae(n,e)}}):null}function be(e){return U===n.SelectionMode.single?g.jsx(tr,{onChange:t=>O?.(e,t.detail.checked)}):U===n.SelectionMode.multiple?g.jsx($o,{onChange:t=>O?.(e,t.detail.checked)}):null}function ye(e,t){return"string"==typeof e?g.jsx("cometchat-label",{text:e,labelStyle:JSON.stringify(bi(K,se))}):g.jsx(er,{topMenuSize:0,data:e,moreIconURL:vi,menuListStyle:yi(K,se),onOptionClick:e=>{const{id:n}=e.detail.data;"string"==typeof n&&Ae(n,t)}})}function fe(e){return null!==R?null:g.jsx("div",{className:"cc-group-members__tail-view-content",children:ye(t.GroupMemberUtils.getViewMemberOptions(e,x,$.current?.getUid(),se),e)})}function we(e){return g.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",columnGap:"8px"},children:[R?.(e),be(e),fe(e)]})}function Ee(e){return F||e.getStatus()===n.CometChatUIKitConstants.userStatusType.offline?null:K?.onlineStatusColor||se.palette.getSuccess()||null}function ve(e){return g.jsx(Xn,{id:e.getUid(),title:e.getName(),avatarURL:e.getAvatar(),avatarName:e.getName(),hideSeparator:I,isActive:Z.groupMemberToChangeScopeOf?.getUid()===e.getUid(),avatarStyle:mi(V,se),statusIndicatorColor:Ee(e),statusIndicatorStyle:Ai(H),listItemStyle:xi(Q,K,se),subtitleViewClassName:"cc-group-members__subtitle-view",subtitleView:k?.(e),tailViewClassName:"cc-group-members__tail-view",tailView:we(e),menuViewClassName:"cc-group-members__options-view",menuView:xe(e),onClick:t=>P?.(e),userPresencePlacement:Y})}return function(e){const{groupMemberRequestBuilder:t,searchRequestBuilder:o,searchText:i,groupMembersManagerRef:a,groupGuid:l,fetchNextAndAppendGroupMembers:c,fetchNextIdRef:C,dispatch:g,loggedInUserRef:d,errorHandler:u,changeScopeElement:p,updateGroupMemberScope:h,searchKeyword:m,disableLoadingState:A}=e;r.useEffect((()=>{(async()=>{try{d.current=await s.CometChat.getLoggedinUser()}catch(e){u(e)}})()}),[u,d]),r.useEffect((()=>{a.current=new Ei({searchText:i,groupMemberRequestBuilder:t,searchRequestBuilder:o,groupGuid:l}),A||g({type:"setGroupMemberList",groupMemberList:[]}),c(C.current="initialFetchNext_"+String(Date.now()))}),[t,o,i,l,c,g,C,a]),r.useEffect((()=>{if(!p)return;const e="cc-changescope-close-clicked",t="cc-changescope-changed";function n(){g({type:"setGroupMemberToChangeScopeOf",groupMember:null})}function o(e){const t=e.detail?.value;t&&h(t)}return p.addEventListener(e,n),p.addEventListener(t,o),()=>{p.removeEventListener(e,n),p.removeEventListener(t,o)}}),[p,h,g]),r.useEffect((()=>Ei.attachUserListener((e=>g({type:"updateGroupMemberStatusIfPresent",user:e})))),[g]),r.useEffect((()=>Ei.attachGroupListener(l,g)),[l,g]),r.useEffect((()=>{const e=n.CometChatGroupEvents.ccGroupMemberKicked.subscribe((e=>{const{kickedUser:t}=e;g({type:"removeGroupMemberIfPresent",groupMemberUid:t.getUid()})})),t=n.CometChatGroupEvents.ccGroupMemberBanned.subscribe((e=>{const{kickedUser:t}=e;g({type:"removeGroupMemberIfPresent",groupMemberUid:t.getUid()})})),o=n.CometChatGroupEvents.ccGroupMemberScopeChanged.subscribe((e=>{const{updatedUser:t,scopeChangedTo:n}=e;g({type:"updateGroupMemberScopeIfPresent",groupMemberUid:t.getUid(),newScope:n})})),r=n.CometChatGroupEvents.ccGroupMemberAdded.subscribe((e=>{const{usersAdded:t,userAddedIn:n}=e;let o=a.current;g({type:"appendGroupMembers",groupMembersManager:o,groupMembers:t.map((e=>Ei.createParticipantGroupMember(e,n)))})}));return()=>{e.unsubscribe(),t.unsubscribe(),o.unsubscribe(),r.unsubscribe()}}),[g]),r.useEffect((()=>{g({type:"setSearchText",searchText:m})}),[m,g])}({groupMemberRequestBuilder:m,searchRequestBuilder:A,searchText:Z.searchText,groupMembersManagerRef:q,groupGuid:x.getGuid(),fetchNextAndAppendGroupMembers:ae,fetchNextIdRef:ee,dispatch:X,loggedInUserRef:$,errorHandler:re,changeScopeElement:te,updateGroupMemberScope:me,searchKeyword:z,disableLoadingState:W}),g.jsxs("div",{className:"cc-group-members",style:di(K,se),children:[g.jsxs("div",{className:"cc-group-members__list-wrapper",style:{position:"relative",height:"100%"},children:[null===c?null:g.jsx("div",{className:"cc-group-members__menus",style:{position:"absolute",right:"12px",top:"8px",cursor:"pointer"},children:c}),g.jsx(pe,{title:C,titleAlignment:d,searchPlaceholderText:u,searchIconURL:p,searchText:Z.searchText,onSearch:ie,hideSearch:h,list:Z.groupMemberList,listItemKey:"getUid",listItem:null!==M?M:ve,showSectionHeader:!1,onScrolledToBottom:()=>ae(ee.current="onScrolledToBottom_"+String(Date.now())),state:Z.fetchState===n.States.loaded&&0===Z.groupMemberList.length?n.States.empty:Z.fetchState,loadingIconURL:w,emptyStateText:y,errorStateText:f,loadingView:D,emptyStateView:v,errorStateView:E,hideError:S,listStyle:ui(K,se)})]}),a?i??g.jsx("div",{className:"cc-group-members__back-btns-wrapper",style:{position:"absolute",left:"16px",top:"19px",width:"fit-content",height:"fit-content"},children:g.jsx(De,{iconURL:o,buttonStyle:pi(K,se),onClick:l})}):null,j?g.jsx("div",{className:"cc-group-members__close-btns-wrapper",style:{position:"absolute",right:"16px",top:"19px",width:"fit-content",height:"fit-content"},children:g.jsx(De,{iconURL:j,buttonStyle:hi(K,se),onClick:G})}):null,function(){let e;const{groupMemberToChangeScopeOf:n}=Z;return null!==n&&(e=t.GroupMemberUtils.allowScopeChange(x,n)).length>0?g.jsx("cometchat-backdrop",{backdropStyle:JSON.stringify(wi(K)),children:g.jsx("cometchat-change-scope",{ref:ne,options:JSON.stringify(e),arrowIconURL:L,changeScopeStyle:JSON.stringify(fi(N,se))})}):null}()]})}function Ti(e,t){return{boxSizing:"border-box",width:e?.width||"max(100%, 360px)",height:e?.height||"100%",border:e?.border||"none",borderRadius:e?.borderRadius||"8px",background:e?.background||t.palette.getBackground(),display:"flex",flexDirection:"column"}}function Mi(e,t,r){const s={height:"14px",width:"14px",border:"none",borderRadius:"4px",background:"inherit"};return r?new o.RadioButtonStyle({...s,labelTextColor:e?.MemberScopeTextColor||t.palette.getAccent600(),labelTextFont:e?.MemberScopeTextFont||n.fontHelper(t.typography.text2)}):new o.LabelStyle({...s,textColor:e?.MemberScopeTextColor||t.palette.getAccent600(),textFont:e?.MemberScopeTextFont||n.fontHelper(t.typography.text2)})}function Bi(e,t){return{width:"100%",background:t.palette.getPrimary(),padding:"16px",buttonTextColor:e?.transferButtonTextColor||t.palette.getAccent900(),buttonTextFont:e?.transferButtonTextFont||n.fontHelper(t.typography.title2),display:"flex",justifyContent:"center",textAlign:"center",border:"none",borderRadius:"8px"}}function Li(e,t){return{width:"100%",background:"#f1f1f1",padding:"16px",color:e?.cancelButtonTextColor||t.palette.getAccent(),font:e?.cancelButtonTextFont||n.fontHelper(t.typography.title2),display:"flex",justifyContent:"center",textAlign:"center",border:"0 none",borderRadius:"8px"}}function Ri(e,t){return new o.AvatarStyle({borderRadius:e?.borderRadius||"24px",width:e?.width||"36px",height:e?.height||"36px",border:e?.border||`1px solid ${t.palette.getAccent100()}`,backgroundColor:e?.backgroundColor||t.palette.getAccent700(),nameTextColor:e?.nameTextColor||t.palette.getAccent900(),backgroundSize:e?.backgroundSize||"cover",nameTextFont:e?.nameTextFont||n.fontHelper(t.typography.subtitle1),outerViewBorderWidth:e?.outerViewBorderWidth||"0",outerViewBorderRadius:e?.outerViewBorderRadius||"0",outerViewBorderColor:e?.outerViewBorderColor||"",outerViewBorderSpacing:e?.outerViewBorderSpacing||"0"})}function Ui(e,t,r){return new o.ListItemStyle({height:e?.height||"45px",width:e?.width||"100%",border:e?.border||"none",borderRadius:e?.borderRadius||"0",background:e?.background||r.palette.getBackground(),activeBackground:e?.activeBackground||"",hoverBackground:e?.hoverBackground||"",separatorColor:e?.separatorColor||t?.separatorColor||r.palette.getAccent200(),titleFont:e?.titleFont||n.fontHelper(r.typography.title2),titleColor:e?.titleColor||r.palette.getAccent()})}function Pi(e,o){return new t.GroupMembersStyle({height:e?.height||"100%",width:e?.width||"100%",border:e?.border||"none",borderRadius:e?.borderRadius||"inherit",background:e?.background||"inherit",titleTextFont:e?.titleTextFont||n.fontHelper(o.typography.title1),titleTextColor:e?.titleTextColor||o.palette.getAccent(),emptyStateTextFont:e?.emptyStateTextFont||"",emptyStateTextColor:e?.emptyStateTextColor||"",errorStateTextFont:e?.errorStateTextFont||"",errorStateTextColor:e?.errorStateTextColor||"",loadingIconTint:e?.loadingIconTint||"",searchIconTint:e?.searchIconTint||"",searchBorder:e?.searchBorder||"",searchBorderRadius:e?.searchBorderRadius||"",searchBackground:e?.searchBackground||"",searchPlaceholderTextFont:e?.searchPlaceholderTextFont||"",searchPlaceholderTextColor:e?.searchPlaceholderTextColor||"",searchTextFont:e?.searchTextFont||"",searchTextColor:e?.searchTextColor||"",onlineStatusColor:e?.onlineStatusColor||o.palette.getSuccess(),backButtonIconTint:e?.backButtonIconTint||o.palette.getPrimary(),closeButtonIconTint:e?.closeButtonIconTint||o.palette.getPrimary(),padding:e?.padding||"0",separatorColor:e?.separatorColor||o.palette.getAccent200(),boxShadow:e?.boxShadow})}var Oi="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M4.9598%2011.531C5.47958%2012.7541%206.4639%2013.7205%207.69625%2014.2178C8.92859%2014.7151%2010.308%2014.7024%2011.531%2014.1826C12.754%2013.6629%2013.7205%2012.6785%2014.2178%2011.4462C14.715%2010.2139%2014.7024%208.83445%2014.1826%207.61142C13.6629%206.3884%2012.6785%205.42195%2011.4462%204.92467C10.2138%204.4274%208.83444%204.44004%207.61141%204.95981C6.38839%205.47959%205.42194%206.46391%204.92467%207.69626C4.42739%208.9286%204.44003%2010.308%204.9598%2011.531V11.531Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M13.114%2013.1139L17.0001%2017.0005%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.25%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",ji="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function Gi(e){const{group:o,title:i=n.localize("TRANSFER_OWNERSHIP"),titleAlignment:a=n.TitleAlignment.center,searchIconURL:l=Oi,searchPlaceholder:c=n.localize("SEARCH"),hideSearch:C=!1,groupMembersRequestBuilder:d,searchRequestBuilder:u,loadingIconURL:p=ji,loadingStateView:h,emptyStateText:m=n.localize("NO_USERS_FOUND"),emptyStateView:A,errorStateText:x=n.localize("SOMETHING_WRONG"),errorStateView:b,onError:y,hideSeparator:f=!1,disableUsersPresence:w=!1,closeButtonIconURL:D,onClose:E,listItemView:v,subtitleView:S,transferButtonText:I=n.localize("TRANSFER_OWNERSHIP"),onTransferOwnership:F,cancelButtonText:k=n.localize("CANCEL"),options:M,statusIndicatorStyle:B,avatarStyle:L=null,listItemStyle:R=null,groupMemberStyle:U=null,transferOwnershipStyle:P=null}=e,[O,j]=r.useState(null),[G,V]=r.useState(!0),H=r.useRef(null),Q=de(y),N=Ce(F),K=Ce(o),{theme:z}=r.useContext(T);const _=r.useCallback((async()=>{const e=H.current;if(e)try{const o=N.current;if(o)o(e);else{const o=K.current;if(await s.CometChat.transferGroupOwnership(o.getGuid(),e.getUid()),O){const r=t.CometChatUIKitUtility.clone(o);r.setOwner(e.getUid()),n.CometChatGroupEvents.ccOwnershipChanged.next({group:r,newOwner:t.CometChatUIKitUtility.clone(e)}),E&&E()}}H.current=null}catch(e){Q(e)}}),[Q,O,K,N]);return function(e){const{errorHandler:t,setLoggedInUser:n}=e;r.useEffect((()=>{(async()=>{try{n(await s.CometChat.getLoggedinUser())}catch(e){t(e)}})()}),[t,n])}({errorHandler:Q,setLoggedInUser:j}),g.jsxs("div",{className:"cc-transfer-ownership",style:Ti(P,z),children:[g.jsx(ki,{menus:void 0,hideError:void 0,onItemClick:void 0,dropDownIconURL:void 0,groupScopeStyle:void 0,backButton:void 0,onBack:void 0,backButtonIconURL:void 0,showBackButton:!1,options:M,group:o,title:i,titleAlignment:a,searchIconURL:l,searchPlaceholder:c,hideSearch:C,groupMemberRequestBuilder:d,searchRequestBuilder:u,loadingIconURL:p,loadingStateView:h,emptyStateText:m,emptyStateView:A,errorStateText:x,errorSateView:b,onError:Q,hideSeparator:f,disableUsersPresence:w,closeButtonIconURL:D,onClose:E,selectionMode:n.SelectionMode.none,listItemView:v,subtitleView:S,tailView:function(e){const t=o.getOwner()===e.getUid()?n.CometChatUIKitConstants.groupMemberScope.owner:e.getScope();return o.getOwner()===e.getUid()?g.jsx("cometchat-label",{text:n.localize(t.toUpperCase()),labelStyle:JSON.stringify(Mi(P,z,!1))}):g.jsx(tr,{labelText:n.localize(t.toUpperCase()),radioButtonStyle:Mi(P,z,!0),onChange:()=>function(e){G&&V(!1),H.current=e}(e)})},statusIndicatorStyle:B,avatarStyle:Ri(L,z),listItemStyle:Ui(R,U,z),groupMembersStyle:Pi(U,z)}),g.jsxs("div",{className:"cc-transfer-ownership__btns-wrapper",style:{flexShrink:"0",display:"flex",flexDirection:"column",rowGap:"8px",padding:"4px 28px 20px 28px",boxSizing:"border-box"},children:[g.jsx(De,{text:I,disabled:G,buttonStyle:Bi(P,z),onClick:_}),g.jsx(De,{text:k,buttonStyle:Li(P,z),onClick:E})]})]})}var Vi="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2014%2014%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3ELocked%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Symbols-v2%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Locked%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20fill%3D%22%23F7A500%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M7%2C3%20C8.1045695%2C3%209%2C3.8954305%209%2C5%20L9.00079851%2C6.00841863%20C9.2437935%2C6.025429%209.36573413%2C6.06795171%209.48842285%2C6.13356635%20C9.65138581%2C6.2207199%209.7792801%2C6.34861419%209.86643365%2C6.51157715%20C9.95358719%2C6.67454011%2010%2C6.83618323%2010%2C7.2819426%20L10%2C9.7180574%20C10%2C10.1638168%209.95358719%2C10.3254599%209.86643365%2C10.4884229%20C9.7792801%2C10.6513858%209.65138581%2C10.7792801%209.48842285%2C10.8664336%20C9.32545989%2C10.9535872%209.16381677%2C11%208.7180574%2C11%20L5.2819426%2C11%20C4.83618323%2C11%204.67454011%2C10.9535872%204.51157715%2C10.8664336%20C4.34861419%2C10.7792801%204.2207199%2C10.6513858%204.13356635%2C10.4884229%20C4.04641281%2C10.3254599%204%2C10.1638168%204%2C9.7180574%20L4%2C7.2819426%20C4%2C6.83618323%204.04641281%2C6.67454011%204.13356635%2C6.51157715%20C4.2207199%2C6.34861419%204.34861419%2C6.2207199%204.51157715%2C6.13356635%20C4.63442137%2C6.06786855%204.7565156%2C6.02532125%205.00012601%2C6.00835408%20L5%2C5%20C5%2C3.8954305%205.8954305%2C3%207%2C3%20Z%20M7%2C4%20C6.48716416%2C4%206.06449284%2C4.38604019%206.00672773%2C4.88337887%20L6%2C5%20L6%2C6%20L8%2C6%20L8%2C5%20C8%2C4.44771525%207.55228475%2C4%207%2C4%20Z%22%20id%3D%22Rectangle-3%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Hi="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2014%2014%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EPrivate%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Symbols-v2%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Private%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20fill%3D%22%2300C86F%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4%2C5%20C5.33333333%2C4.66666667%206.33333333%2C4%207%2C3%20C7.66666667%2C4%208.66666667%2C4.66666667%2010%2C5%20L10%2C6.14589803%20C10%2C8.20151331%208.83859819%2C10.0807009%207%2C11%20L7%2C11%20L7%2C11%20C5.16140181%2C10.0807009%204%2C8.20151331%204%2C6.14589803%20L4%2C5%20L4%2C5%20Z%22%20id%3D%22Rectangle%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function Qi(e){const{user:o,group:i,title:a=n.localize("DETAILS"),closeButtonIconURL:l,cancelButtonText:c=n.localize("CANCEL"),onClose:C,disableUsersPresence:d=!1,customProfileView:u=null,hideProfile:p=!1,privateGroupIcon:h=Hi,protectedGroupIcon:m=Vi,subtitleView:A=null,data:x,onError:b,leaveButtonText:y=n.localize("LEAVE_GROUP"),leaveConfirmDialogMessage:f=n.localize("LEAVE_CONFIRM"),transferButtonText:w=n.localize("TRANSFER_OWNERSHIP"),transferConfirmDialogMessage:D=n.localize("TRANSFER_CONFIRM"),deleteButtonText:E=n.localize("DELETE"),deleteConfirmDialogMessage:v=n.localize("DELETE_CONFIRM"),addMembersConfiguration:S=null,bannedMembersConfiguration:I=null,groupMembersConfiguration:F=null,transferOwnershipConfiguration:k=null,listItemStyle:M=null,statusIndicatorStyle:B=null,avatarStyle:L=null,leaveDialogStyle:R=null,deleteDialogStyle:U=null,backdropStyle:P=null,detailsStyle:O=null}=e,[j,G]=r.useState("none"),[V,H]=r.useState(null),[Q,N]=r.useState(null),[K,z]=r.useState(void 0),[_,J]=ge(null),[Y,W]=ge(null),Z=Ce(C),X=de(b),{theme:q}=r.useContext(T),$=r.useCallback(((e,o)=>{const r=n.CometChatUIKitConstants.groupMemberAction.LEFT,i=new s.CometChat.Action(e.getGuid(),n.CometChatUIKitConstants.MessageTypes.groupMember,n.CometChatUIKitConstants.MessageReceiverType.group,n.CometChatUIKitConstants.MessageCategory.action);return i.setAction(r),i.setActionBy(t.CometChatUIKitUtility.clone(o)),i.setActionFor(t.CometChatUIKitUtility.clone(e)),i.setActionOn(t.CometChatUIKitUtility.clone(o)),i.setReceiver(t.CometChatUIKitUtility.clone(e)),i.setSender(t.CometChatUIKitUtility.clone(o)),i.setConversationId("group_"+e.getGuid()),i.setMuid(t.CometChatUIKitUtility.ID()),i.setMessage(`${o.getName()} ${r} ${o.getUid()}`),i.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),i}),[]),ee=r.useCallback((async e=>{if(!(e instanceof s.CometChat.User))if(e.getOwner()===Q?.getUid())H({type:"transferOwnership"});else{H(null);try{if(Q){await s.CometChat.leaveGroup(e.getGuid());const o=t.CometChatUIKitUtility.clone(e);o.setHasJoined(!1),n.CometChatGroupEvents.ccGroupLeft.next({userLeft:t.CometChatUIKitUtility.clone(Q),leftGroup:o,message:$(o,Q)}),Z.current?.()}}catch(e){X(e)}}}),[Q,H,X,$,Z]),te=r.useCallback((async e=>{if(!(e instanceof s.CometChat.User)){H(null);try{await s.CometChat.deleteGroup(e.getGuid()),n.CometChatGroupEvents.ccGroupDeleted.next(t.CometChatUIKitUtility.clone(e)),Z.current?.()}catch(e){X(e)}}}),[H,X,Z]);function ne(e){if(e instanceof s.CometChat.User){if(!d&&e.getStatus()===n.CometChatUIKitConstants.userStatusType.online)return O?.onlineStatusColor||q.palette.getSuccess()||"rgb(0, 200, 111)"}else{const t=e.getType();if(t===n.CometChatUIKitConstants.GroupTypes.private)return O?.privateGroupIconBackground||"#F7A500";if(t===n.CometChatUIKitConstants.GroupTypes.password)return O?.passwordGroupIconBackground||"#F7A500"}return null}function oe(e){let t="";if(e instanceof s.CometChat.Group){const o=e.getType();o===n.CometChatUIKitConstants.GroupTypes.private?t=h:o===n.CometChatUIKitConstants.GroupTypes.password&&(t=m)}return t}function re(e){if(e instanceof s.CometChat.User)return d?"":n.localize(e.getStatus().toUpperCase());const t=e.getMembersCount();return`${t} ${n.localize(t>1?"MEMBERS":"MEMBER")}`}function se(e){if(A)return e instanceof s.CometChat.User?A(e):A(void 0,e);const t=e instanceof s.CometChat.User&&e.getStatus()===n.CometChatUIKitConstants.userStatusType.online;return g.jsx("cometchat-label",{text:re(e),labelStyle:JSON.stringify($s(t,O,q))})}function ie(e,o){const{id:r,onClick:i}=e;if(i)i(o);else switch(r){case n.CometChatUIKitConstants.UserOptions.viewProfile:o instanceof s.CometChat.User&&o.getLink()&&window.open(o.getLink(),"_blank");break;case n.CometChatUIKitConstants.UserOptions.block:o instanceof s.CometChat.User&&async function(e){if(!e.getBlockedByMe())try{await s.CometChat.blockUsers([e.getUid()]);const o=t.CometChatUIKitUtility.clone(e);o.setHasBlockedMe(!0),n.CometChatUserEvents.ccUserBlocked.next(o)}catch(e){X(e)}}(o);break;case n.CometChatUIKitConstants.UserOptions.unblock:o instanceof s.CometChat.User&&async function(e){if(e.getBlockedByMe())try{await s.CometChat.unblockUsers([e.getUid()]);const o=t.CometChatUIKitUtility.clone(e);o.setHasBlockedMe(!1),n.CometChatUserEvents.ccUserUnblocked.next(o)}catch(e){X(e)}}(o);break;case n.CometChatUIKitConstants.GroupOptions.viewMembers:o instanceof s.CometChat.Group&&G("groupMembers");break;case n.CometChatUIKitConstants.GroupOptions.addMembers:o instanceof s.CometChat.Group&&G("addMembers");break;case n.CometChatUIKitConstants.GroupOptions.bannedMembers:o instanceof s.CometChat.Group&&G("bannedMembers");break;case n.CometChatUIKitConstants.GroupOptions.leave:if(o instanceof s.CometChat.Group){const e=o.getOwner()===Q?.getUid();H({type:"leaveOrTransferConfirm",buttonText:e?w:y,confirmDialogMessage:e?D:f})}break;case n.CometChatUIKitConstants.GroupOptions.delete:o instanceof s.CometChat.Group&&H({type:"deleteConfirm",buttonText:E,confirmDialogMessage:v})}}function ae(e,t,n){return t?g.jsx("cometchat-divider",{dividerStyle:JSON.stringify(si(t,n,q))}):null}function le(e,t){const{title:n,id:o,hideSectionSeparator:r=!0,sectionSeparatorColor:i,hideItemSeparator:a=!1,itemSeparatorColor:l}=e;let c=null;n&&(c=g.jsx("div",{className:"cc-details__section-header",style:{textAlign:"left"},children:g.jsx("cometchat-label",{text:n.toUpperCase(),labelStyle:JSON.stringify(ei(e))})}));let C=null;const d=function(e,t){const{id:n}=e;if(void 0!==n)return t instanceof s.CometChat.User?e.options?.(t,null,n):e.options?.(null,t,n)}(e,t);return d?.length&&(C=g.jsx("div",{className:"cc-details__options",style:{display:"flex",flexDirection:"column"},children:d.map(((e,n)=>function(e,t,n,o){const{id:r,customView:s}=e;if(s)return g.jsx("div",{className:"cc-details__option",children:s},r);const{title:i,tail:a,iconURL:l}=e,c=g.jsx(De,{text:i,iconURL:l,buttonStyle:ti(e),onClick:()=>ie(e,t)});let C=c;return a&&(C=g.jsxs("div",{className:"cc-details__option-content",style:{position:"relative"},children:[c,g.jsx("div",{className:"cc-details__option-tail",style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)"},children:a})]})),g.jsxs("div",{className:"cc-details__option",style:{display:"flex",flexDirection:"column"},children:[C,ae(0,o,!1)]},r)}(e,t,0,l)))})),g.jsxs("div",{className:"cc-details__section",style:{padding:"16px 0"},children:[c,C,ae(0,i,!0)]},o)}function ce(){G("none")}function ue(){H(null)}function pe(e){if(e instanceof s.CometChat.User)return null;const t=k?.options;return g.jsx(Gi,{group:e,onTransferOwnership:k?.onTransferOwnership,titleAlignment:k?.titleAlignment,loadingIconURL:k?.loadingIconURL,loadingStateView:k?.loadingStateView,errorStateView:k?.errorStateView,emptyStateView:k?.emptyStateView,onError:k?.onError,hideSearch:k?.hideSearch,searchIconURL:k?.searchIconURL,hideSeparator:k?.hideSeparator,closeButtonIconURL:k?.closeButtonIconURL||gi,disableUsersPresence:k?.disableUsersPresence,listItemView:k?.listItemView,subtitleView:k?.subtitleView,onClose:k?.onClose??ue,groupMembersRequestBuilder:k?.groupMembersRequestBuilder,searchRequestBuilder:k?.searchRequestBuilder,options:t?(e,n)=>t(n):void 0,statusIndicatorStyle:k?.statusIndicatorStyle,avatarStyle:k?.avatarStyle,listItemStyle:k?.listItemStyle,groupMemberStyle:k?.groupMemberStyle,transferOwnershipStyle:ci(k,O)})}return function(e){const{setLoggedInUser:t,errorHandler:n,leaveOrTransferConfirmDialogElement:o,setModalInfo:i,handleLeaveOrTransferConfirmClick:a,deleteConfirmDialogElement:l,handleDeleteConfirmClick:c,userOrGroup:C,user:g,group:d,setUserOrGroup:u}=e;r.useEffect((()=>{g instanceof s.CometChat.User&&(g.getStatus?.()?u(g):s.CometChat.getUser(g.getUid()).then((e=>{u(e)})).catch((e=>n(e)))),d instanceof s.CometChat.Group&&(d.getOwner?.()?u(d):s.CometChat.getGroup(d.getGuid()).then((e=>{u(e)})).catch((e=>n(e))))}),[g,d,u,n]),r.useEffect((()=>{if(!o)return;const e="cc-confirm-clicked",t=()=>{C&&a(C)};return o.addEventListener(e,t),()=>{o.removeEventListener(e,t)}}),[o,a,C]),r.useEffect((()=>{if(!o)return;const e="cc-cancel-clicked",t=()=>i(null);return o.addEventListener(e,t),()=>{o.removeEventListener(e,t)}}),[o,i]),r.useEffect((()=>{if(!l)return;const e="cc-confirm-clicked",t=()=>{C&&c(C)};return l.addEventListener(e,t),()=>{l.removeEventListener(e,t)}}),[l,c,C]),r.useEffect((()=>{if(!l)return;const e="cc-cancel-clicked",t=function(){i(null)};return l.addEventListener(e,t),()=>{l.removeEventListener(e,t)}}),[l,i]),r.useEffect((()=>{(async()=>{try{t(await s.CometChat.getLoggedinUser())}catch(e){n(e)}})()}),[n,t])}({setLoggedInUser:N,errorHandler:X,leaveOrTransferConfirmDialogElement:_,setModalInfo:H,handleLeaveOrTransferConfirmClick:ee,deleteConfirmDialogElement:Y,handleDeleteConfirmClick:te,userOrGroup:K,user:o,group:i,setUserOrGroup:z}),K?g.jsxs("div",{className:"cc-details",style:Js(O,q),children:[g.jsxs("div",{className:"cc-details__header",style:{display:"flex",justifyContent:"center",textAlign:"center",width:"100%",paddingBottom:"19px"},children:[g.jsx("cometchat-label",{text:a,labelStyle:JSON.stringify(Ys(O,q))}),g.jsx(De,{iconURL:l,buttonStyle:Ws(O,q),onClick:C})]}),g.jsxs("div",{className:"cc-details__content",style:{flexGrow:"1",display:"flex",flexDirection:"column",overflowY:"auto"},children:[function(e){if(p)return null;let t;return t=u?e instanceof s.CometChat.User?u(e):u(void 0,e):function(e){return g.jsx(Xn,{avatarName:e.getName(),title:e.getName(),avatarURL:e instanceof s.CometChat.User?e.getAvatar():e.getIcon(),statusIndicatorColor:ne(e),statusIndicatorIcon:oe(e),listItemStyle:Zs(M,q),statusIndicatorStyle:Xs(B),avatarStyle:qs(L,q),subtitleViewClassName:"cc-details__subtitle-view",subtitleView:se(e)})}(e),g.jsx("div",{className:"cc-details__profile",style:{overflowX:"auto"},children:t})}(K),function(n){const o=function(n){let o;return x&&(o=x),o||(o=t.DetailsUtils.getDefaultDetailsTemplate(Q,e?.user,e?.group,q)),o}().map(((e,t)=>le(e,n)));return 0===o.length?null:g.jsx("div",{className:"cc-details__section-list",style:{flexGrow:"1",overflowY:"auto",display:"flex",flexDirection:"column",padding:"28px 0"},children:o})}(K)]}),function(e){try{let t=null;switch(j){case"addMembers":t=function(e){if(e instanceof s.CometChat.User)return null;const t=S?.sectionHeaderField,o=S?.options;return g.jsx(cr,{group:e,selectionMode:S?.selectionMode??n.SelectionMode.multiple,onClose:S?.onClose??C??ce,onBack:S?.onBack??ce,backButtonIconURL:S?.backButtonIconURL||Ci,showBackButton:S?.showBackButton||!0,titleAlignment:S?.titleAlignment,hideSearch:S?.hideSearch,searchIconURL:S?.searchIconURL,showSectionHeader:S?.showSectionHeader,sectionHeaderField:(r=t,void 0!==r&&r in new s.CometChat.User("anyString")?t:void 0),loadingIconURL:S?.loadingIconURL,loadingStateView:S?.loadingStateView,emptyStateView:S?.emptyStateView,errorStateView:S?.errorStateView,hideError:S?.hideError,disableUsersPresence:S?.disableUsersPresence,hideSeparator:S?.hideSeparator,onError:S?.onError??void 0,menus:S?.menu,options:o??void 0,onSelect:S?.onSelect,usersRequestBuilder:S?.usersRequestBuilder,searchRequestBuilder:S?.searchRequestBuilder,listItemView:S?.listItemView,subtitleView:S?.subtitleView,onAddMembersButtonClick:S?.onAddMembersButtonClick??void 0,closeButtonIconURL:S?.closeButtonIconURL||gi,listItemStyle:S?.listItemStyle,statusIndicatorStyle:S?.statusIndicatorStyle,avatarStyle:S?.avatarStyle,addMembersStyle:ai(S,O)});var r}(e);break;case"bannedMembers":t=function(e){if(e instanceof s.CometChat.User)return null;const t=I?.options;return g.jsx(Er,{group:e,onClose:I?.onClose??C??ce,onBack:I?.onBack??ce,backButtonIconURL:I?.backButtonIconURL||Ci,showBackButton:I?.showBackButton||!0,menus:I?.menu,titleAlignment:I?.titleAlignment,hideSearch:I?.hideSearch,searchIconURL:I?.searchIconURL,bannedMembersRequestBuilder:I?.bannedMembersRequestBuilder,searchRequestBuilder:I?.searchRequestBuilder,listItemView:I?.listItemView,subtitleView:I?.subtitleView,hideSeparator:I?.hideSeparator,disableUsersPresence:I?.disableUsersPresence,options:t??void 0,selectionMode:I?.selectionMode,closeButtonIconURL:I?.closeButtonIconURL||gi,onError:I?.onError??void 0,onSelect:I?.onSelect,emptyStateView:I?.emptyStateView,errorStateView:I?.errorStateView,loadingStateView:I?.loadingStateView,loadingIconURL:I?.loadingIconURL,hideError:I?.hideError,statusIndicatorStyle:I?.statusIndicatorStyle,avatarStyle:I?.avatarStyle,listItemStyle:I?.listItemStyle,bannedMemberStyle:li(I,O)})}(e);break;case"groupMembers":t=function(e){if(e instanceof s.CometChat.User)return null;const t=F?.options;return g.jsx(ki,{group:e,onClose:F?.onClose??C??ce,onBack:F?.onBack??ce,groupMemberRequestBuilder:F?.groupMembersRequestBuilder,searchRequestBuilder:F?.searchRequestBuilder,listItemView:F?.listItemView,subtitleView:F?.subtitleView,disableUsersPresence:F?.disableUsersPresence,menus:F?.menu,options:t?(e,n)=>t(n):void 0,backButtonIconURL:F?.backButtonIconURL||Ci,closeButtonIconURL:F?.closeButtonIconURL||gi,showBackButton:F?.showBackButton||!0,hideSeparator:F?.hideSeparator,selectionMode:F?.selectionMode,hideError:F?.hideError,searchIconURL:F?.searchIconURL,dropDownIconURL:F?.dropdownIconURL,hideSearch:F?.hideSearch,onError:F?.onError??void 0,onSelect:F?.onSelect,emptyStateView:F?.emptyStateView,errorSateView:F?.errorStateView,loadingIconURL:F?.loadingIconURL,loadingStateView:F?.loadingStateView,titleAlignment:F?.titleAlignment,statusIndicatorStyle:F?.statusIndicatorStyle,avatarStyle:F?.avatarStyle,groupMembersStyle:ii(F,O),groupScopeStyle:F?.groupScopeStyle,listItemStyle:F?.listItemStyle})}(e);break;case"none":break;default:}if(null!==t)return g.jsx("div",{className:"cc-details__page-wrapper",style:{position:"absolute",top:"0",left:"0",boxSizing:"border-box",width:"100%",height:"100%",border:"none",borderRadius:"inherit"},children:t})}catch(e){X(e)}}(K),function(e){if(!V)return null;const{type:t}=V;try{switch(t){case"leaveOrTransferConfirm":return g.jsx("cometchat-backdrop",{backdropStyle:JSON.stringify(ni(P,O)),children:g.jsx("cometchat-confirm-dialog",{ref:J,title:"",cancelButtonText:c,confirmButtonText:V.buttonText,messageText:V.confirmDialogMessage,confirmDialogStyle:JSON.stringify(oi(R,O,q))})});case"transferOwnership":return g.jsx("cometchat-backdrop",{backdropStyle:JSON.stringify(ni(P,O)),children:pe(e)});case"deleteConfirm":return g.jsx("cometchat-backdrop",{backdropStyle:JSON.stringify(ni(P,O)),children:g.jsx("cometchat-confirm-dialog",{ref:W,cancelButtonText:c,confirmButtonText:V.buttonText,messageText:V.confirmDialogMessage,confirmDialogStyle:JSON.stringify(ri(U,q))})});default:}}catch(e){X(e)}}(K)]}):null}const Ni="red",Ki="10px";function zi(e,t){return new o.PreviewStyle({height:"100%",width:"100%",border:`1px solid ${t.palette.getAccent200()}`,background:t.palette.getBackground(),previewTitleFont:e?.previewTitleFont||n.fontHelper(t.typography.caption1),previewTitleColor:e?.previewTitleColor||t.palette.getAccent600(),previewSubtitleFont:e?.previewSubtitleFont||n.fontHelper(t.typography.subtitle2),previewSubtitleColor:e?.previewSubtitleColor||t.palette.getAccent400(),closeButtonIconTint:e?.closePreviewTint||t.palette.getAccent600(),borderRadius:"12px"})}function _i(e,t,o){return{height:"fit-content",width:"fit-content",buttonTextFont:n.fontHelper(t.typography.subtitle2),buttonTextColor:t.palette.getAccent600(),borderRadius:"8px",border:"none",buttonIconTint:t.palette.getAccent600(),padding:"8px",iconHeight:"20px",iconWidth:"20px",iconBackground:"transparent",gap:"5px",...o}}function Ji(e,t){return new o.TextInputStyle({height:"100%",width:"100%",maxHeight:e?.maxInputHeight||"150px",border:e?.border||`1px solid ${t.palette.getAccent100()}`,borderRadius:e?.borderRadius||"12px",background:e?.background||`${t.palette.getAccent50()}`,textFont:e?.textFont||n.fontHelper(t.typography.text2),textColor:e?.textColor||t.palette.getAccent(),dividerColor:e?.dividerTint||t.palette.getAccent100(),inputBorder:e?.inputBorder||"none",inputBorderRadius:e?.inputBorderRadius||"0px",inputBackground:e?.inputBackground||"transparent",placeholderTextColor:t.palette.getAccent500(),placeholderTextFont:n.fontHelper(t.typography.subtitle2)})}function Yi(e,t,n=!1){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:n?t.palette.getAccent200():e?.sendIconTint||t.palette.getPrimary(),background:"transparent",padding:"0"}}function Wi(e,t,n){return n?t.palette.getAccent():e?.emojiIconTint||t.palette.getAccent500()}function Zi(e,t,n){return n?t.palette.getAccent():e?.emojiIconTint||t.palette.getAccent500()}function Xi(e,t,n){return n?t.palette.getAccent():e?.attachIcontint||t.palette.getAccent500()}function qi(e,t,n){return n?t.palette.getAccent():e?.AIIconTint||t.palette.getAccent500()}const $i="244px",ea="272px",ta="12px";function na(e,t){let n=e?.height,r=e?.width,s="100%"==n||"100%"==r;return new o.PopoverStyle({width:r&&!s?e?.width:ea,height:n&&!s?e?.height:$i,borderRadius:e?.borderRadius||ta,boxShadow:"0px 0px 0px 1px rgba(20, 20, 20, 0.04), 0px 16px 32px 0px rgba(20, 20, 20, 0.2)"})}function oa(e={},t){return{width:e?.width||ea,height:e?.height||$i,borderRadius:e?.borderRadius||ta,border:`1px solid ${t.palette.getAccent100()}`,boxSizing:"border-box",overflow:"auto"}}function ra(e,t){return{width:e?.width||ea,height:e?.height||$i,borderRadius:e?.borderRadius||ta,border:`1px solid ${t.palette.getAccent100()}`,boxSizing:"border-box",overflow:"auto"}}function sa(e,t){return new o.ActionSheetStyle({width:e?.width||"100%",height:e?.height||"100%",border:e?.border||`1px solid ${t.palette.getAccent100()}`,borderRadius:e?.borderRadius||ta,background:e?.background||t.palette.getBackground(),layoutModeIconTint:e?.layoutModeIconTint||t.palette.getAccent(),titleFont:e?.titleFont||n.fontHelper(t.typography.title2),titleColor:e?.titleColor||t.palette.getAccent(),listItemBackground:e?.listItemBackground||"transparent",listItemIconTint:e?.listItemIconTint||t.palette.getAccent700(),listItemIconBackground:e?.listItemIconBackground||"transparent",listItemIconBorderRadius:e?.listItemIconBorderRadius||"0",ActionSheetSeparatorTint:e?.ActionSheetSeparatorTint||`${t.palette.getAccent400()}`})}function ia(e,t){return new o.ActionSheetStyle({width:e?.width||"100%",height:e?.height||"100%",border:e?.border||"none",borderRadius:e?.borderRadius||ta,background:e?.background||t.palette.getBackground(),listItemBackground:e?.listItemBackground||"transparent",ActionSheetSeparatorTint:e?.optionsSeparatorTint||`${t.palette.getAccent600()}`})}function aa(e,t,n){return{height:"24px",width:"24px",border:"none",borderRadius:"0",padding:"0",buttonIconTint:Xi(e,t,n),background:"transparent"}}function la(e,t,n){return{height:"24px",width:"24px",border:"none",borderRadius:"0",padding:"0",buttonIconTint:qi(e,t,n),background:"transparent"}}const ca="400px",Ca="320px",ga="12px";function da(e){return{width:Ca,height:ca,borderRadius:ga,border:`1px solid ${e.palette.getAccent100()}`,boxSizing:"border-box"}}function ua(e,t){return new o.EmojiKeyboardStyle({width:"100%",height:"100%",border:"none",borderRadius:ga,background:t.palette.getBackground(),textFont:e?.emojiKeyboardTextFont||n.fontHelper(t.typography.caption1),textColor:e?.emojiKeyboardTextColor||t.palette.getAccent()})}function pa(e,t,n,o=!1){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:Wi(e,t,n),background:"transparent",padding:"0"}}const ha="100px",ma="250px",Aa="8px";function xa(e,t){return new o.MediaRecorderStyle({...e,background:e?.background||t.palette.getBackground(),border:"1px solid rgba(20, 20, 20, 0.08)",borderRadius:Aa,closeIconTint:e?.closeIconTint||t.palette.getAccent600(),submitIconTint:e?.submitIconTint||t.palette.getAccent600(),startIconTint:e?.startIconTint||t.palette.getError(),stopIconTint:e?.stopIconTint||t.palette.getError(),timerTextColor:t.palette.getAccent400(),timerTextFont:n.fontHelper(t.typography.text3)})}function ba(e,t,n,o=!1){const r={};return o&&(r.margin=`0px ${Ki}`),{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:Zi(e,t,n),background:"transparent",...r}}var ya="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%22100%22%20height%3D%22100%22%20xml%3Aspace%3D%22preserve%22%20version%3D%221.1%22%20viewBox%3D%220%200%20100%20100%22%3E%20%20%20%20%3Cimage%20width%3D%22100%22%20height%3D%22100%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABeZJREFUeF7tnOGx5TQMhbUdQAdQAUsFQAVABSwVLFQAVABUAFTAUgFQAXSwuxVABzAfc81kM7ElJ7KjeyPPvHk%2FrpPI5%2BRIsuz4iWQLhcCTUNakMZKEBHsJkpAkJBgCwcxJhSQhwRAIZk4qJAkJhkAwc1IhSUgwBIKZkwpJQoIhEMycVIiNkLdE5Omt62%2B2S%2Fb1SkJ03N4RkV9FhP%2B0VyLy0e2%2FfnVnjyREBwwyPlx1QyWQ4t6SEB3SfypdhmA35Kb6GO%2BmB7Hjr4q1b4vI394jSULaiD4TkR8qXXBZ7gE%2BCWkT8nIRzNc9%2FxSR91Mh3gjU74cyUEir%2FSgin3ualAp5E80y3%2Fh2Me%2FQ8CYN%2FkZEXnjElGiEMPkCDNJMXAJvH%2F9HNuYXqGGd2u59JnEFuyGqu0UiBGD%2BEBHe0tLIYt71ePMayLTiRDegtwsgg%2FjSnYVFIuSLmzrWIHwpIt%2FtRUa5DlUw8bO0otRSQtGu2ZWFRSLkaxH5amOU%2BGd%2BG9GSkAaqqOD5xu%2FfiwjqGdFwj7jJUqfyegYuC1fb3SIphCzl440RuKeWq2dABs%2F4oBu97Qt%2Bv6XLdx%2FUt4p4DHnIBKwCPor55OY6rarBPuIc%2F7uD%2BNqOSAqhZrTMsIqtDJK60eyGaj5THvqTYfLYZXcUQshc8OW1titj6UJiuzM21bKq3XGiZVcUQmopb7F9ZKbVwqeVhTH5Q0WuLQohrTeRAQ9bEFLQvGT5XXNXBbOz3NblFqgswfNMlWxlf6S2XrWvN0R6tssitaSWZG1nqORSmxxqc48aQWfFEuwpinCZb9QGeKZCWpkVc4%2BtOQnjGFlstCp1WL%2BzCNkqtZdBkt9%2FeqvC1iaKlLZ3lSaGIel04zMIWfvk9VDKnKOloKGb1Zyw3XWb2YRoZKxnv9pMedgOwl1oOlw0kxCNDOLG2hW1XBvDfzilzCKEDIV161YFtRasW3ujCimUMdz3SDm88N23GE0IQZlVQG2BSatV1VYTlwNmgYv7HC6Bd6PoeMEoQiCC1T%2BIqKWvZRgaGaWfhZSyJce96OeIefNW3oTgklhDsBCBYVYyekgpbgxSWK%2B4q%2FT4CCGAXzaWUSBk%2BdW6ynZkgmdRyvItZGZN7YkYgzuDoLAk9RCy3MR2RMGAcTQIW5IEi42zNuNZbPmvj5UQLf20PhA3QjblEXixCbVoy6yabTM242k2%2FP%2B7lRBtRU97IC4D8Eakph5qCVMfm0WIh5uqkQ4hpNZH1ifujhCCN%2BsWWgqrKQWXRWblEVSxhbmHh8sKU6y0KgSgCeoA%2Bp6GuvK7h1o83BRm4kpxx6N32Jsh6yFkfVOCakl9AYi%2FHrKIKailt%2FXGs9e3bzcAvSwueSi0125T%2FyOEbD0Agqg94UYsc5JeUogVlo3XZE7sCUbRYcHfAtCbkOUzIAYANWKspFjIKEQQWzxSa9Nb7dlpJCHYSeAF8K1d7ctxaKRYyEAR3OcuiShgjCakPMcShFEUtad102KGR5Lg%2BZIfutcsQjAyF6gMVM0kxELK%2BtOD1vd%2FD7daCECzCbGQUmbNrbjxkGScRUghZf3FbRE0QZnNCz9XMrSttXeDM7iPLmcopCCTG%2BU23pEzCcGc3q2kwzY5K%2Fq5zIlyPZ8lgxlfts6eeV9qszUg176%2BXb%2B0o7%2FGrYnkcifKWVVCifyMquzlPtixxJKZn0YvlXLJT9oAQNtJctaK3mVPlNPc1lnu6tInykU7OODyJ8rVPj2YOffIE%2BUWEbT2Ne4vt%2FNHRtU%2B8kS5CrJnHM%2BEKXmiXIWQPMDspPJ7zfXkEX%2FBCNnajDe61J4nyimRebkZb9YmtjxRblS65HDfPFHOAcRRt7AcivOwJ8qNAvXofbXv5HedPNoy6uwVw6OAjb7%2BsifKjQZ27%2F0vW37fC9iM6y65QDUD2L3PuNSJcntBmnnd5TY5zAT3yLMe%2FkS5I%2BA87LWZ9gajNglJQoIhEMycVEgSEgyBYOakQpKQYAgEMycVkoQEQyCYOamQJCQYAsHMSYUEI%2BRfzec9dI8XxxgAAAAASUVORK5CYII%3D%22%2F%3E%20%20%3C%2Fsvg%3E",fa="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";function wa(e){const{userMemberListType:t,onItemClick:o,listItemView:s,avatarStyle:i,statusIndicatorStyle:a,searchKeyword:l,group:c,subtitleView:C,usersRequestBuilder:d,userPresencePlacement:u=n.UserPresencePlacement.bottom,loadingStateView:p,onEmpty:h,groupMemberRequestBuilder:m,loadingIconUrl:A,disableLoadingState:x=!1,hideSeparator:b=!1,onError:y}=e,{theme:f}=r.useContext(T);return g.jsxs(g.Fragment,{children:[t===n.UserMemberListType.users&&g.jsx(ir,{title:"",hideSearch:!0,hideSeparator:b,showSectionHeader:!1,onItemClick:o,avatarStyle:i,statusIndicatorStyle:a,searchKeyword:l,listItemView:s,usersRequestBuilder:d,subtitleView:C,closeButtonIconURL:"",loadingStateView:p,onEmpty:h,loadingIconURL:A,userPresencePlacement:u,disableLoadingState:x,onError:y,usersStyle:{border:"1px solid "+f.palette.getAccent300(),background:f.palette.getBackground(),minHeight:"45px",borderRadius:"12px 12px 12px 12px"}}),t===n.UserMemberListType.groupmembers&&c&&g.jsx(ki,{group:c,title:"",hideSearch:!0,showBackButton:!1,hideSeparator:!1,groupMemberRequestBuilder:m,onItemClick:o,avatarStyle:i,statusIndicatorStyle:a,searchKeyword:l,listItemView:s,subtitleView:C,closeButtonIconURL:"",userPresencePlacement:u,onEmpty:h,tailView:e=>g.jsx(g.Fragment,{}),disableLoadingState:x,onError:y,groupMembersStyle:{border:"1px solid "+f.palette.getAccent300(),padding:"0px",background:f.palette.getBackground(),borderRadius:"12px 12px 12px 12px"}})]})}var Da="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FHeart%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FHeart%22%20fill%3D%22%23000000%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.375%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M10.3134395%2C18.0459049%20L1.52443954%2C8.87923824%20C-0.0597509272%2C7.29629358%20-0.452349335%2C4.87680895%200.550022872%2C2.87415491%20L0.550022872%2C2.87415491%20C1.29768241%2C1.3792661%202.71831477%2C0.334867269%204.36817344%2C0.0671851901%20C6.01803212%2C-0.200496889%207.69599623%2C0.341168737%208.87793954%2C1.52298824%20L10.3134395%2C2.95757158%20L11.7489395%2C1.52298824%20C12.9308829%2C0.341168737%2014.608847%2C-0.200496889%2016.2587056%2C0.0671851901%20C17.9085643%2C0.334867269%2019.3291967%2C1.3792661%2020.0768562%2C2.87415491%20L20.0768562%2C2.87415491%20C21.0778256%2C4.87595612%2020.6857045%2C7.29366739%2019.1033562%2C8.87648824%20L10.3134395%2C18.0459049%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";var Ea="data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M30.0001%200.666626C46.2004%200.666626%2059.3334%2013.7996%2059.3334%2030C59.3334%2046.2003%2046.2004%2059.3333%2030.0001%2059.3333C13.7997%2059.3333%200.666748%2046.2003%200.666748%2030C0.666748%2013.7996%2013.7997%200.666626%2030.0001%200.666626ZM30.0001%205.99996C16.7452%205.99996%206.00008%2016.7451%206.00008%2030C6.00008%2043.2548%2016.7452%2054%2030.0001%2054C43.2549%2054%2054.0001%2043.2548%2054.0001%2030C54.0001%2016.7451%2043.2549%205.99996%2030.0001%205.99996ZM31.6667%2027.3333C32.219%2027.3333%2032.6667%2027.781%2032.6667%2028.3333V42.3333C32.6667%2042.8856%2032.219%2043.3333%2031.6667%2043.3333H28.3334C27.7811%2043.3333%2027.3334%2042.8856%2027.3334%2042.3333V28.3333C27.3334%2027.781%2027.7811%2027.3333%2028.3334%2027.3333H31.6667ZM30.0001%2019.3333C31.4728%2019.3333%2032.6667%2020.5272%2032.6667%2022C32.6667%2023.4727%2031.4728%2024.6666%2030.0001%2024.6666C28.5273%2024.6666%2027.3334%2023.4727%2027.3334%2022C27.3334%2020.5272%2028.5273%2019.3333%2030.0001%2019.3333Z%22%20fill%3D%22black%22%2F%3E%3C%2Fsvg%3E",va="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FMic%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FMic%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%284%2C%201%29%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%228%22%20y1%3D%2218.3333333%22%20x2%3D%228%22%20y2%3D%2222%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%223.5%22%20y%3D%220%22%20width%3D%229%22%20height%3D%2214.9111111%22%20rx%3D%223.91111111%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%2C8.8%20L0%2C11%20C0%2C15.0500882%203.35786438%2C18.3333333%207.5%2C18.3333333%20L8.5%2C18.3333333%20C12.6421356%2C18.3333333%2016%2C15.0500882%2016%2C11%20L16%2C8.8%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Sa="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FPlus%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FPlus%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2210%22%20y1%3D%226%22%20x2%3D%2210%22%20y2%3D%2214%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%226%22%20y1%3D%2210%22%20x2%3D%2214%22%20y2%3D%2210%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%2C10%20C0%2C15.5228475%204.4771525%2C20%2010%2C20%20C15.5228475%2C20%2020%2C15.5228475%2020%2C10%20C20%2C4.4771525%2015.5228475%2C0%2010%2C0%20C4.4771525%2C0%200%2C4.4771525%200%2C10%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Ia="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FPlus%20Rotated%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FPlus-Rotated%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%2812.000000%2C%2012.000000%29%20rotate%2845.000000%29%20translate%28-12.000000%2C%20-12.000000%29%20translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2210%22%20y1%3D%226%22%20x2%3D%2210%22%20y2%3D%2214%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%226%22%20y1%3D%2210%22%20x2%3D%2214%22%20y2%3D%2210%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%2C10%20C0%2C15.5228475%204.4771525%2C20%2010%2C20%20C15.5228475%2C20%2020%2C15.5228475%2020%2C10%20C20%2C4.4771525%2015.5228475%2C0%2010%2C0%20C4.4771525%2C0%200%2C4.4771525%200%2C10%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Fa="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSend%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSend%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0.158865921%2C1.85985859%20C-0.108182698%2C1.38202197%20-0.0332622567%2C0.786017075%200.343741637%2C0.389140701%20C0.72074553%2C-0.00773567366%201.31211969%2C-0.113146836%201.80303259%2C0.129025252%20L17.6480326%2C8.17819192%20C17.857662%2C8.28481329%2017.9896898%2C8.50008892%2017.9896898%2C8.73527525%20C17.9896898%2C8.97046158%2017.857662%2C9.18573721%2017.6480326%2C9.29235859%20L1.80303259%2C17.3523586%20C1.31211969%2C17.5945307%200.72074553%2C17.4891195%200.343741637%2C17.0922431%20C-0.0332622567%2C16.6953668%20-0.108182698%2C16.0993619%200.158865921%2C15.6215253%20L4.37386592%2C8.73485859%20L0.158865921%2C1.85985859%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2217.9896993%22%20y1%3D%228.73485859%22%20x2%3D%224.36969925%22%20y2%3D%228.73485859%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",ka="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%20Extensions%2FStipop%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24-Extensions%2FStipop%22%20fill%3D%22%23000000%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M12.5%2C1%20C18.2989899%2C1%2023%2C5.70101013%2023%2C11.5%20C23%2C17.2039245%2018.451858%2C21.8455734%2012.7842951%2C21.9962258%20L12.5%2C22%20L6%2C23%20L6.47908443%2C20.1033393%20C3.77065445%2C18.2043706%202%2C15.0589646%202%2C11.5%20C2%2C5.70101013%206.70101013%2C1%2012.5%2C1%20Z%20M12.5%2C2.5%20C7.52943725%2C2.5%203.5%2C6.52943725%203.5%2C11.5%20C3.5%2C14.3705191%204.85206397%2C17.0112175%207.09635804%2C18.6980916%20L7.34021132%2C18.8751453%20L8.11298335%2C19.416961%20L7.817%2C21.202%20L12.3852902%2C20.5%20L12.5%2C20.5%20C17.4705627%2C20.5%2021.5%2C16.4705627%2021.5%2C11.5%20C21.5%2C6.52943725%2017.4705627%2C2.5%2012.5%2C2.5%20Z%20M13.5%2C12.3%20C13.1666667%2C13.9666667%2012.3333333%2C14.8%2011%2C14.8%20C9.66666667%2C14.8%208.83333333%2C13.9666667%208.5%2C12.3%20L13.5%2C12.3%20Z%20M15.0030662%2C6.67300699%20C15.1656001%2C6.92305919%2015.1180007%2C7.24908483%2014.9043132%2C7.44344192%20L14.826993%2C7.50306617%20L13.632%2C8.279%20L14.8086975%2C8.98550424%20C15.0644308%2C9.13894425%2015.1646368%2C9.45281874%2015.0578342%2C9.72120324%20L15.0144958%2C9.80869745%20C14.8610557%2C10.0644308%2014.5471813%2C10.1646368%2014.2787968%2C10.0578342%20L14.1913025%2C10.0144958%20L12.1913025%2C8.81449576%20C11.8402552%2C8.60386734%2011.8048611%2C8.12100565%2012.0939654%2C7.85785853%20L12.173007%2C7.79693383%20L14.173007%2C6.49693383%20C14.4508428%2C6.31634058%2014.8224729%2C6.39517122%2015.0030662%2C6.67300699%20Z%20M8.1%2C6.7%20C8.92842712%2C6.7%209.6%2C7.37157288%209.6%2C8.2%20C9.6%2C9.02842712%208.92842712%2C9.7%208.1%2C9.7%20C7.27157288%2C9.7%206.6%2C9.02842712%206.6%2C8.2%20C6.6%2C7.37157288%207.27157288%2C6.7%208.1%2C6.7%20Z%22%20id%3D%22Oval%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Ta="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20height%3D%2224px%22%3E%3Cpath%20d%3D%22M%2012%202%20C%206.477%202%202%206.477%202%2012%20C%202%2017.523%206.477%2022%2012%2022%20C%2017.523%2022%2022%2017.523%2022%2012%20C%2022%206.477%2017.523%202%2012%202%20z%20M%2012%204%20C%2016.411%204%2020%207.589%2020%2012%20C%2020%2016.411%2016.411%2020%2012%2020%20C%207.589%2020%204%2016.411%204%2012%20C%204%207.589%207.589%204%2012%204%20z%20M%208%208%20L%208%2016%20L%2016%2016%20L%2016%208%20L%208%208%20z%22%2F%3E%3C%2Fsvg%3E";const Ma=h({tagName:"cometchat-action-sheet",elementClass:o.CometChatActionSheet,react:r,events:{onClick:"cc-actionsheet-clicked"}}),Ba=h({tagName:"cometchat-action-sheet",elementClass:o.CometChatActionSheet,react:r}),La=h({tagName:"cometchat-text-input",elementClass:o.CometChatTextInput,react:r});function Ra(e,t){let n=e;const{type:o}=t;switch(o){case"setText":n={...e,text:t.text};break;case"setAddToMsgInputText":n={...e,addToMsgInputText:t.addToMsgInputText};break;case"setTextMessageToEdit":n={...e,textMessageToEdit:t.textMessageToEdit};break;case"setContentToDisplay":n={...e,contentToDisplay:t.contentToDisplay};break;case"setLoggedInUser":n={...e,loggedInUser:t.loggedInUser};break;case"setShowPoll":n={...e,showPoll:t.showPoll};break;case"setShowMentionsCountWarning":n={...e,showMentionsCountWarning:t.showMentionsCountWarning}}return n}function Ua(e){const{user:a,group:l,text:c="",onTextChange:C,placeHolderText:d=n.localize("ENTER_YOUR_MESSAGE_HERE"),sendButtonIconURL:u=Fa,sendButtonView:p,onSendButtonClick:h,secondaryButtonView:m,attachmentIconURL:A=Sa,emojiIconURL:x=ka,AIIconURL:b=ya,auxiliaryButtonView:y,auxiliaryButtonAlignment:f=n.AuxiliaryButtonAlignment.right,attachmentOptions:w,hideLayoutMode:D=!1,parentMessageId:E=null,LiveReactionIconURL:v=Da,hideLiveReaction:S=!0,headerView:F=null,onError:k,disableSoundForMessages:M=!1,customSoundForMessage:B,disableTypingEvents:L=!1,messageComposerStyle:R,hideVoiceRecording:U=!1,actionSheetStyle:P,AIOptionsStyle:O={},mediaRecorderStyle:j,voiceRecordingStartIconURL:G=va,voiceRecordingCloseIconURL:V=fa,voiceRecordingStopIconURL:H=Ta,voiceRecordingSubmitIconURL:Q=Fa,userMemberWrapperConfiguration:N,textFormatters:K=[],disableMentions:z=!1,InfoSimpleIcon:_=Ea,mentionsWarningText:J,mentionsWarningStyle:Y={}}=e,[W,Z]=r.useReducer(Ra,{text:c,addToMsgInputText:c,textMessageToEdit:null,contentToDisplay:"none",loggedInUser:null,showPoll:!1,showMentionsCountWarning:!1}),X=r.useRef(null),q=r.useRef(null),[$,ee]=ge(null),[te,ne]=ge(null),[oe,re]=ge(null),[se,ie]=ge(null),[ae,le]=ge(null),[ce,ue]=ge(null),[pe,he]=ge(null),[me,Ae]=ge(null),[xe,be]=ge(null),[ye,fe]=ge(null),[we,De]=ge(null),[Ee,ve]=ge(null),[Se,Ie]=ge(null),[Fe,ke]=ge(null),Te=r.useRef(new Map),Me=r.useRef(null),Be=r.useRef(null),Le=de(k),Re=Ce(a),Ue=Ce(l),Pe=Ce(E),Oe=Ce(M),je=Ce(B),Ge=Ce(h),{theme:Ve}=r.useContext(T),[He,Qe]=r.useState(null),[Ne,Ke]=r.useState(K),[ze,_e]=r.useState(""),Je=r.useRef(""),Ye=r.useRef(""),[We,Ze]=r.useState(!1),Xe=r.useRef(I.getDataSource().getMentionsTextFormatter({theme:Ve})),[qe,$e]=r.useState(0),[et,tt]=r.useState(N??new t.UserMemberWrapperConfiguration({})),[nt,ot]=r.useState(),[rt,st]=r.useState(void 0),[it,at]=r.useState(void 0),lt=r.useRef(null),ct="composer_"+Date.now(),Ct=r.useCallback((()=>{Ye.current=Je.current,Ze(!1),_e(""),Je.current=""}),[Ze,_e]),gt=r.useCallback((e=>{if(!e||!e.length)return _e(""),Je.current="",Ze(!1),void $e(1);let t=e.split("@")[1].toLowerCase()?e.split("@")[1].toLowerCase():void 0;t&&Ye.current&&t.startsWith(Ye.current.toLowerCase())||t===ze||(_e(t),Je.current=t,Ze(!0),Ye.current="",$e(qe+1))}),[_e,Ze,$e]),dt=r.useCallback((()=>{const e=Re.current,t=Ue.current;if(e)return{receiverId:e?.getUid(),receiverType:n.CometChatUIKitConstants.MessageReceiverType.user};if(t)return{receiverId:t?.getGuid(),receiverType:n.CometChatUIKitConstants.MessageReceiverType.group};throw new Error("No user or group object provided. Should at least provide one.")}),[Ue,Re]),ut=r.useCallback((()=>{const{receiverId:e,receiverType:t}=dt();return new s.CometChat.TypingIndicator(e,t)}),[dt]),pt=r.useCallback((()=>{try{s.CometChat.startTyping(ut())}catch(e){Le(e)}}),[ut,Le]),ht=r.useCallback((()=>{try{s.CometChat.endTyping(ut()),Me.current=null}catch(e){Le(e)}}),[ut,Le]),mt=r.useCallback((()=>{L||(null!==Me.current?(window.clearTimeout(Me.current),Me.current=null):pt(),Me.current=window.setTimeout((()=>ht()),500))}),[pt,ht,L]);function At(){const e=Re.current;if(null!=e)return{user:e?.getUid(),group:null,parentMessageId:E};const t=Ue.current;return null!=t?{user:null,group:t?.getGuid(),parentMessageId:E}:{user:null,group:null,parentMessageId:E}}const xt=r.useCallback((function(e){i.flushSync((()=>{Z({type:"setAddToMsgInputText",addToMsgInputText:""})})),Z({type:"setAddToMsgInputText",addToMsgInputText:e})}),[Z]),bt=r.useCallback(((e,t,o)=>{throw t.setMetadata({error:e}),o?n.CometChatMessageEvents.ccMessageEdited.next({message:t,status:n.MessageStatus.error}):n.CometChatMessageEvents.ccMessageSent.next({message:t,status:n.MessageStatus.error}),e}),[]),yt=r.useCallback((()=>{Oe.current||t.CometChatSoundManager.play(t.CometChatSoundManager.Sound.outgoingMessage,je.current)}),[je,Oe]),ft=r.useCallback((e=>{const{receiverId:n,receiverType:o}=dt(),r=new s.CometChat.TextMessage(n,e,o);r.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),r.setMuid(t.CometChatUIKitUtility.ID());const i=Pe.current;return null!==i&&r.setParentMessageId(i),r}),[dt,Pe]),wt=r.useCallback((async e=>{try{for(let t=0;t<Ne.length;t++)e=Ne[t].formatMessageForSending(e);const t=await s.CometChat.sendMessage(e);return Xe.current.resetCometChatUserGroupMembers(),t}catch(t){console.log(t),bt(t,e,!1)}}),[bt]),Dt=r.useCallback((async e=>{try{const t=ft(e);let o=Xe.current.getCometChatUserGroupMembers();if(o){let e=[];for(let t=0;t<o.length;t++)e.push(new s.CometChat.User({uid:o[t].getUid(),name:o[t].getName()}));t.setMentionedUsers(e),o=[]}n.CometChatMessageEvents.ccMessageSent.next({message:t,status:n.MessageStatus.inprogress});const r=await wt(t);r&&(n.CometChatMessageEvents.ccMessageSent.next({message:r,status:n.MessageStatus.success}),yt())}catch(e){Le(e)}}),[ft,yt,wt,Le]),Et=r.useCallback(((e,t)=>{const{receiverId:n,receiverType:o}=dt(),r=new s.CometChat.TextMessage(n,e,o);return r.setId(t),r}),[dt]),vt=r.useCallback((async e=>{try{for(let t=0;t<Ne.length;t++)e=Ne[t].formatMessageForSending(e);const t=await s.CometChat.editMessage(e);return Xe.current.resetCometChatUserGroupMembers(),t}catch(t){bt(t,e,!0)}}),[bt]),St=r.useCallback((async(e,t)=>{try{const o=await vt(Et(e,t.getId()));xt("");let r=Xe.current.getCometChatUserGroupMembers();if(r){let e=[];for(let t=0;t<r.length;t++)e.push(new s.CometChat.User({uid:r[t].getUid(),name:r[t].getName()}));t.setMentionedUsers(e),r=[]}o&&n.CometChatMessageEvents.ccMessageEdited.next({message:o,status:n.MessageStatus.success})}catch(e){Le(e)}}),[vt,Et,Le]),It=r.useCallback((async e=>{if(0===(e=e.trim()).length||null!==W.textMessageToEdit&&W.textMessageToEdit.getText()===e)return;let t;if("emojiKeyboard"===W.contentToDisplay&&(pe?.click(),Z({type:"setContentToDisplay",contentToDisplay:"none"})),"voiceRecording"===W.contentToDisplay&&(ce?.click(),Z({type:"setContentToDisplay",contentToDisplay:"none"})),Z({type:"setText",text:""}),X.current?.emptyInputField(),null!==W.textMessageToEdit)Z({type:"setTextMessageToEdit",textMessageToEdit:null}),await St(e,W.textMessageToEdit);else if(t=Ge.current)try{await Promise.all([t(ft(e))])}catch(e){Le(e)}else await Dt(e)}),[W.textMessageToEdit,W.contentToDisplay,pe,ce,Z,St,Dt,Le,ft,Ge,Re]),Ft=r.useCallback((async(e,n)=>{const o=await function(e){return new Promise(((t,n)=>{const o=new FileReader;o.onload=()=>{null!==o.result&&t(new File([o.result],e.name,e))},o.onerror=()=>n(new Error(`Converting the file named "${e.name}" to binary failed`)),o.readAsArrayBuffer(e)}))}(e),{receiverId:r,receiverType:i}=dt(),a=new s.CometChat.MediaMessage(r,o,n,i);a.setSentAt(t.CometChatUIKitUtility.getUnixTimestamp()),a.setMuid(t.CometChatUIKitUtility.ID()),a.setMetadata({file:o});const l=Pe.current;return null!==l&&a.setParentMessageId(l),a}),[dt,Pe]),kt=r.useCallback((async e=>{try{return await s.CometChat.sendMediaMessage(e)}catch(t){bt(t,e,!1)}}),[bt]),Tt=r.useCallback((async(e,t)=>{try{const o=await Ft(e,t);n.CometChatMessageEvents.ccMessageSent.next({message:o,status:n.MessageStatus.inprogress});const r=await kt(o);r&&(n.CometChatMessageEvents.ccMessageSent.next({message:r,status:n.MessageStatus.success}),yt())}catch(e){Le(e)}}),[Ft,yt,kt,Le]),Mt=r.useCallback((async e=>{try{const t=new File([e],`${function(){const e=new Date,t="audio-recording-yyyyMMddHHmmss",n=e.getFullYear().toString(),o=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),i=e.getMinutes().toString().padStart(2,"0"),a=e.getSeconds().toString().padStart(2,"0");return t.replace("yyyyMMdd",`${n}${o}${r}`).replace("HHmmss",`${s}${i}${a}`)}()}.wav`,{type:e.type});Tt(t,n.CometChatUIKitConstants.MessageTypes.audio)}catch(e){Le(e)}}),[Tt,Le]);const Bt=r.useCallback((async()=>{const e=q.current;if(!e?.files?.length||Re.current?.getBlockedByMe())return;const t=e.files[0],n=e.accept.slice(0,-2),o=Ge.current;if(o)try{await Promise.all([o(await Ft(t,n))])}catch(e){Le(e)}else await Tt(t,n);e.value=""}),[Tt,Le,Ft,Ge,Re]);function Lt(){return""===W.text.trim()||null!==W.textMessageToEdit&&W.textMessageToEdit.getText()===W.text}function Rt(){return p?p(void 0!==a?a:l,At()):g.jsx("div",{className:"cc-message-composer__send-btn-wrapper",children:g.jsx("cometchat-button",{ref:re,iconURL:u,hoverText:n.localize("SEND_MESSAGE"),buttonStyle:JSON.stringify(Yi(R,Ve,Lt()))})})}function Ut(){if(m&&(void 0!==a||void 0!==l))return m(void 0!==a?a:l,At());const e=g.jsx("cometchat-button",{ref:ie,hoverText:n.localize("ATTACH"),iconURL:"attachments"===W.contentToDisplay?Ia:A,buttonStyle:JSON.stringify(aa(R,Ve,"attachments"===W.contentToDisplay))});let t;t=w&&w.length>0&&(void 0!==a||void 0!==l)?w(void 0!==a?a:l,At()):I.getDataSource().getAttachmentOptions(Ve,At());for(let e=0;e<t.length;e++){const n=t[e],{id:o}=n;if("string"==typeof o){let e=n.onClick;"extension_poll"===o&&(e=()=>{n.onClick?.call(new tn(I.getDataSource(),new En({})),[a,l])}),Te.current.set(o,e||null)}}const o=g.jsx(Ba,{ref:ve,hideLayoutMode:D,actions:t,actionSheetStyle:sa(P,Ve)});return g.jsxs("cometchat-popover",{ref:be,placement:n.Placement.top,popoverStyle:JSON.stringify(na(P)),children:[g.jsx("div",{slot:"children",className:"cc-message-composer__secondary-btn-wrapper",children:e}),g.jsx("div",{slot:"content",className:"cc-message-composer__secondary-content",style:oa(P,Ve),children:o})]})}function Pt(){const e=g.jsx("cometchat-media-recorder",{ref:ne,mediaPlayerStyle:JSON.stringify(xa(j,Ve)),"cc-media-recorder-submitted":"onVoiceRecordingSubmit",autorecording:"true",recordingType:n.RecordingType.audio,closeIconURL:V,startIconURL:G,stopIconURL:H,submitButtonIconURL:Q,startIconText:"",stopIconText:"",submitButtonIconText:""}),t=g.jsx("cometchat-button",{ref:ue,hoverText:n.localize("VOICE_RECORDING"),iconURL:"voiceRecording"===W.contentToDisplay?Ia:G,buttonStyle:JSON.stringify(ba(R,Ve,"voiceRecording"===W.contentToDisplay,!1))});return U?null:g.jsxs("cometchat-popover",{placement:n.Placement.top,popoverStyle:JSON.stringify(new o.PopoverStyle({width:ma,height:ha,borderRadius:Aa,border:"1px solid rgba(20, 20, 20, 0.08)",boxShadow:"0px 0px 0px 1px rgba(20, 20, 20, 0.04), 0px 16px 32px 0px rgba(20, 20, 20, 0.2)"})),closeOnOutsideClick:!1,children:[g.jsx("div",{slot:"children",className:"cc-message-composer__secondary-btn-wrapper",children:t}),g.jsx("div",{slot:"content",className:"cc-message-composer__secondary-content",style:{width:ma,height:ha,borderRadius:Aa,boxSizing:"border-box"},children:"voiceRecording"===W.contentToDisplay?e:null})]})}function Ot(){const e=g.jsx("cometchat-button",{ref:le,hoverText:n.localize("AI"),iconURL:"ai"===W.contentToDisplay?Ia:b,buttonStyle:JSON.stringify(la(R,Ve,"ai"===W.contentToDisplay))});let t;t=I.getDataSource().getAIOptions(Re?.current||null,Ue?.current||null,Ve,At(),O);const r=()=>{ae?.click(),Z({type:"setContentToDisplay",contentToDisplay:"none"})},s=()=>{Qe(null)},i=g.jsx(Ma,{ref:Ie,hideLayoutMode:!0,actions:t,actionSheetStyle:ia(O,Ve),onActionItemClick:e=>{e instanceof n.CometChatMessageComposerAction&&e?.onClick&&(e.onClick(),r()),e instanceof n.CometChatActionsView&&e?.customView&&Qe(e.customView({backAction:s,closePopover:r}))}});return t.length<=0?g.jsx(g.Fragment,{}):g.jsxs("cometchat-popover",{ref:fe,placement:n.Placement.top,popoverStyle:JSON.stringify((a=O,new o.PopoverStyle({width:a?.width||ea,height:a?.height||$i,borderRadius:a?.borderRadius||ta,boxShadow:"0px 0px 0px 1px rgba(20, 20, 20, 0.04), 0px 16px 32px 0px rgba(20, 20, 20, 0.2)"}))),children:[g.jsx("div",{slot:"children",className:"cc-message-composer__ai-btn-wrapper",children:e}),g.jsx("div",{slot:"content",className:"cc-message-composer__ai-content",style:ra(O,Ve),children:He||i})]});var a}function jt(){if(y&&(void 0!==a||void 0!==l))return y(void 0!==a?a:l,At());const e=S&&Lt(),t=I.getDataSource().getAuxiliaryOptions(At(),Ve,a,l),r=g.jsx("cometchat-button",{ref:he,hoverText:n.localize("EMOJI"),iconURL:"emojiKeyboard"===W.contentToDisplay?Ia:x,buttonStyle:JSON.stringify(pa(R,Ve,"emojiKeyboard"===W.contentToDisplay,e))}),s=g.jsx("cometchat-emoji-keyboard",{ref:ee,emojiKeyboardStyle:JSON.stringify(ua(R,Ve))});return g.jsxs(g.Fragment,{children:[g.jsx(g.Fragment,{children:Ot()}),g.jsx("div",{style:{flex:1,display:"flex",columnGap:"8px"},children:t.map((e=>e))}),g.jsx("div",{className:"cc-message-composer__default-auxiliary-view-wrapper",style:{display:"flex",flex:"1"},children:g.jsxs("cometchat-popover",{ref:Ae,placement:n.Placement.top,popoverStyle:JSON.stringify(new o.PopoverStyle({width:Ca,height:ca,borderRadius:ga,boxShadow:"0px 0px 0px 1px rgba(20, 20, 20, 0.04), 0px 16px 32px 0px rgba(20, 20, 20, 0.2)"})),children:[g.jsx("div",{slot:"children",className:"cc-message-composer__auxiliary-btn-wrapper",children:r}),g.jsx("div",{slot:"content",className:"cc-message-composer__auxiliary-content",style:da(Ve),children:s})]})})]})}function Gt(){if(null===W.textMessageToEdit)return null;const e=W.textMessageToEdit;return g.jsx("cometchat-preview",{style:{textAlign:"left"},ref:De,previewSubtitle:(e=>{const n=/<@uid:(.*?)>/g;let o=e.getText(),r=o,s=n.exec(o),i=[],a=e.getMentionedUsers();for(;null!==s;){let e;for(let t=0;t<a.length;t++)s[1]===a[t].getUid()&&(e=a[t]);e&&(r=r.replace(s[0],"@"+e.getName()),i.push(e)),s=n.exec(o)}return Xe.current.setCometChatUserGroupMembers(i),Xe.current.setLoggedInUser(t.CometChatUIKitLoginListener.getLoggedInUser()),r})(e),closeButtonIconURL:fa,previewStyle:JSON.stringify(zi(R,Ve))})}return function(e){const{dispatch:o,textInputRef:i,liveReactionBtnElement:a,LiveReactionIconURL:l,mySetAddToMsgInputText:c,actionSheetElement:C,mediaFilePickerRef:g,secondaryBtnElement:d,textMessageEditPreviewElement:u,auxiliaryBtnElement:p,voiceRecordingBtnElement:h,emojiKeyboardElement:m,voiceRecordingElement:A,auxiliaryPopoverElement:x,attachmentPopoverElement:b,text:y,handleSendButtonClick:f,primaryBtnElement:w,onTextChange:D,actionIdToActionOnClick:E,handleTyping:v,errorHandler:S,getReceiverDetails:I,contentToDisplay:F,createPollViewRef:k,handleSendVoiceMessage:T,aiPopoverElement:M,aiBtnElement:B,setSmartRepliesView:L,textFormatters:R,disableMentions:U,textFormatterArray:P,mentionsTextFormatterInstanceRef:O,userMemberWrapperConfiguration:j,setTextFormatters:G,CometChatUIKitLoginListener:V,group:H,user:Q,userMemberWrapperConfig:N,setUserMemberWrapperConfig:K,userPropRef:z,groupPropRef:_,setShowListForMentions:J,searchMentions:Y,mentionsFormatterInstanceId:W,setUsersRequestBuilder:Z,setGroupMembersRequestBuilder:X,setUserMemberListType:q,userMemberWrapperRef:$,getComposerId:ee}=e;r.useEffect((()=>{const e=n.CometChatMessageEvents.ccMessageEdited.subscribe((e=>{e.status===n.MessageStatus.inprogress&&e.message instanceof s.CometChat.TextMessage&&(o({type:"setTextMessageToEdit",textMessageToEdit:e.message}),i.current?.emptyInputField(),c(e.message.getText()))})),t=n.CometChatUIEvents.ccComposeMessage.subscribe((e=>{o({type:"setText",text:""}),i.current?.emptyInputField(),c(e)}));O.current.setId(W);const r=n.CometChatUIEvents.ccShowMentionsCountWarning.subscribe((e=>{if(e.id===W){if(e.showWarning)return void o({type:"setShowMentionsCountWarning",showMentionsCountWarning:!0});o({type:"setShowMentionsCountWarning",showMentionsCountWarning:!1})}}));return()=>{e.unsubscribe(),t.unsubscribe(),r.unsubscribe()}}),[c,o,i,W]),r.useEffect((()=>{if(!a)return;async function e(){try{const{receiverId:e,receiverType:t}=I(),o={type:"live_reaction",reaction:"heart"};s.CometChat.sendTransientMessage(new s.CometChat.TransientMessage(e,t,o)),n.CometChatMessageEvents.ccLiveReaction.next("heart")}catch(e){S(e)}}const t="cc-button-clicked";return a.addEventListener(t,e),()=>{a.removeEventListener(t,e)}}),[l,a,S,I]),r.useEffect((()=>{if(!C||!g.current)return;function e(e){const{action:t}=e.detail;d?.click(),o({type:"setContentToDisplay",contentToDisplay:"none"});const n=E.current.get(`${t.id}`);"function"==typeof n?n():(g.current.accept=`${t.id}/*`,g.current.click())}const t="cc-actionsheet-clicked";return C.addEventListener(t,e),()=>{C.removeEventListener(t,e)}}),[d,C,o,E,g]),r.useEffect((()=>{if(!u)return;function e(){o({type:"setTextMessageToEdit",textMessageToEdit:null}),o({type:"setText",text:""}),i.current?.emptyInputField(),c("")}const t="cc-preview-close-clicked";return u.addEventListener(t,e),()=>{u.removeEventListener(t,e)}}),[u,o,i]),r.useEffect((()=>{if(!d)return;function e(){switch(F){case"attachments":o({type:"setContentToDisplay",contentToDisplay:"none"});break;case"emojiKeyboard":p?.click(),o({type:"setContentToDisplay",contentToDisplay:"attachments"});break;case"voiceRecording":h?.click(),o({type:"setContentToDisplay",contentToDisplay:"attachments"});break;case"ai":B?.click(),o({type:"setContentToDisplay",contentToDisplay:"attachments"});break;case"none":o({type:"setContentToDisplay",contentToDisplay:"attachments"})}}function t(){o({type:"setContentToDisplay",contentToDisplay:"none"})}const n="cc-button-clicked",r="cc-popover-outside-clicked";return d.addEventListener(n,e),b.addEventListener(r,t),()=>{d.removeEventListener(n,e),b.removeEventListener(r,t)}}),[F,d,b,p,h,B,o]),r.useEffect((()=>{if(!B)return;function e(){switch(L(null),F){case"ai":o({type:"setContentToDisplay",contentToDisplay:"none"});break;case"attachments":d?.click(),o({type:"setContentToDisplay",contentToDisplay:"ai"});break;case"emojiKeyboard":p?.click(),o({type:"setContentToDisplay",contentToDisplay:"ai"});break;case"voiceRecording":h?.click(),o({type:"setContentToDisplay",contentToDisplay:"ai"});break;case"none":o({type:"setContentToDisplay",contentToDisplay:"ai"})}}function t(){o({type:"setContentToDisplay",contentToDisplay:"none"})}const n="cc-button-clicked",r="cc-popover-outside-clicked";return B.addEventListener(n,e),M.addEventListener(r,t),()=>{B.removeEventListener(n,e),M.removeEventListener(r,t)}}),[F,B,M,d,p,h,L,o]),r.useEffect((()=>{if(!p||!h)return;function e(){switch(F){case"attachments":d?.click(),o({type:"setContentToDisplay",contentToDisplay:"emojiKeyboard"});break;case"voiceRecording":h?.click(),o({type:"setContentToDisplay",contentToDisplay:"emojiKeyboard"});break;case"emojiKeyboard":o({type:"setContentToDisplay",contentToDisplay:"none"});break;case"ai":B?.click(),o({type:"setContentToDisplay",contentToDisplay:"emojiKeyboard"});break;case"none":o({type:"setContentToDisplay",contentToDisplay:"emojiKeyboard"})}}function t(){switch(F){case"attachments":d?.click(),o({type:"setContentToDisplay",contentToDisplay:"voiceRecording"});break;case"emojiKeyboard":p?.click(),o({type:"setContentToDisplay",contentToDisplay:"voiceRecording"});break;case"voiceRecording":o({type:"setContentToDisplay",contentToDisplay:"none"});break;case"ai":B?.click(),o({type:"setContentToDisplay",contentToDisplay:"voiceRecording"});break;case"none":o({type:"setContentToDisplay",contentToDisplay:"voiceRecording"})}}const n="cc-button-clicked";return p.addEventListener(n,e),h.addEventListener(n,t),()=>{p.removeEventListener(n,e),h.removeEventListener(n,t)}}),[F,d,h,p,B,o]),r.useEffect((()=>{if(!m)return;function e(e){const t=e.detail.id;"string"==typeof t&&c(t)}function t(e){o({type:"setContentToDisplay",contentToDisplay:"none"})}const n="cc-emoji-clicked",r="cc-popover-outside-clicked";return m.addEventListener(n,e),x.addEventListener(r,t),()=>{m.removeEventListener(n,e),x.removeEventListener(r,t)}}),[c,x,m,o]),r.useEffect((()=>{if(!A)return;function e(e){const t=new CustomEvent("cc-button-clicked",{});h?.click(),h?.dispatchEvent(t)}function t(t){const n=t.detail.file;e(),T(n)}const n="cc-media-recorder-closed",o="cc-media-recorder-submitted";return A.addEventListener(n,e),A.addEventListener(o,t),()=>{A.removeEventListener(n,e),A.removeEventListener(o,t)}}),[A,h,o,T]),r.useEffect((()=>{if(!w)return;function e(){f(y)}const t="cc-button-clicked";return w.addEventListener(t,e),()=>{w.removeEventListener(t,e)}}),[f,y,w]),r.useEffect((()=>{const e=i.current;if(!e)return;function t(e){J(!1);const t=e.detail.value;"string"==typeof t&&f(t)}const n="cc-text-input-entered";return e.addEventListener(n,t),()=>{e.removeEventListener(n,t)}}),[f,i]),r.useEffect((()=>{const e=i.current;if(!e)return;function t(e){const t=e.detail.value;"string"==typeof t&&(v(),o({type:"setText",text:t}),void 0!==D&&D(t))}const n="cc-text-input-changed";return e.addEventListener(n,t),()=>{e.removeEventListener(n,t)}}),[D,v,o,i]),r.useEffect((()=>{const e=n.CometChatUIEvents.ccShowModal.subscribe((e=>{o({type:"setShowPoll",showPoll:!0}),k.current=e.child})),t=n.CometChatUIEvents.ccHideModal.subscribe((()=>{o({type:"setShowPoll",showPoll:!1}),k.current=null}));return()=>{e.unsubscribe(),t.unsubscribe()}}),[k,o]),r.useEffect((()=>{if(!U)if(R.length){let e=!1;for(let n=0;n<P.length;n++)if(P[n]instanceof t.CometChatMentionsTextFormatter){e=!0;break}e||(O.current.setLoggedInUser(V.getLoggedInUser()),void 0===O.current.getKeyDownCallBack()&&(O.current.setKeyDownCallBack(Y),O.current.setKeyUpCallBack(Y)),G([...P,O.current]))}else O.current.setLoggedInUser(V.getLoggedInUser()),void 0===O.current.getKeyDownCallBack()&&(O.current.setKeyDownCallBack(Y),O.current.setKeyUpCallBack(Y)),G([...P,O.current]);let e=O.current;return()=>{e&&e.cleanup()}}),[]),r.useEffect((()=>{(z.current&&Q&&z.current.getUid()!==Q.getUid()||_.current&&H&&_?.current.getGuid()!==H.getGuid())&&(o({type:"setText",text:""}),c("")),z.current&&J(Q&&z.current.getUid()!==Q.getUid()),_.current&&J(H&&_?.current.getGuid()!==H.getGuid());for(let e=0;e<P.length;e++)P[e].setComposerConfig(Q,H,ee())}),[Q,H,z,_,o,i,c]),r.useEffect((()=>{if(!U){if(H){const e=void 0!==j?.userMemberListType?j?.userMemberListType:n.UserMemberListType.groupmembers;q(e);const t=j?.groupMemberRequestBuilder?j?.groupMemberRequestBuilder:new s.CometChat.GroupMembersRequestBuilder(H.getGuid()).setLimit(15);X(t)}if(Q){const e=void 0!==j?.userMemberListType?j?.userMemberListType:n.UserMemberListType.users;q(e);const t=j?.usersRequestBuilder?j?.usersRequestBuilder:(new s.CometChat.UsersRequestBuilder).setLimit(15);Z(t)}}}),[Q,H,U]),r.useEffect((()=>{const e=e=>{$.current&&!$.current.contains(e.target)&&J(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[])}({dispatch:Z,textInputRef:X,liveReactionBtnElement:Fe,LiveReactionIconURL:v,mySetAddToMsgInputText:xt,actionSheetElement:Ee,secondaryBtnElement:se,mediaFilePickerRef:q,textMessageEditPreviewElement:we,auxiliaryBtnElement:pe,voiceRecordingBtnElement:ce,emojiKeyboardElement:$,voiceRecordingElement:te,text:W.text,handleSendButtonClick:It,primaryBtnElement:oe,onTextChange:C,actionIdToActionOnClick:Te,handleTyping:mt,errorHandler:Le,getReceiverDetails:dt,contentToDisplay:W.contentToDisplay,createPollViewRef:Be,handleSendVoiceMessage:Mt,auxiliaryPopoverElement:me,attachmentPopoverElement:xe,aiPopoverElement:ye,aiBtnElement:ae,setSmartRepliesView:Qe,textFormatters:K,disableMentions:z,textFormatterArray:Ne,mentionsTextFormatterInstanceRef:Xe,userMemberWrapperConfiguration:N,setTextFormatters:Ke,CometChatUIKitLoginListener:t.CometChatUIKitLoginListener,group:l,user:a,setUserMemberWrapperConfig:tt,userMemberWrapperConfig:et,userPropRef:Re,groupPropRef:Ue,setShowListForMentions:Ze,searchMentions:gt,mentionsFormatterInstanceId:ct,setUsersRequestBuilder:st,setGroupMembersRequestBuilder:at,setUserMemberListType:ot,userMemberWrapperRef:lt,getComposerId:At}),g.jsxs(g.Fragment,{children:[W.showPoll&&Be?.current?Be.current:null,g.jsxs("div",{className:"cc-message-composer",style:(Vt=R,{width:Vt?.width||"100%",height:Vt?.height||"100%",boxSizing:"border-box",padding:"14px 16px",border:"none",borderRadius:"0",background:"transparent",display:"flex",flexDirection:"column",justifyContent:"flex-end"}),children:[We&&g.jsx("div",{style:{maxHeight:"196px",overflowY:"hidden",display:"flex !important",flexDirection:"column",justifyContent:"flex-end !important",zIndex:2,height:"auto",minHeight:"45px",padding:"0px 0px 1px 0px",width:"100%"},ref:lt,children:g.jsx(wa,{userMemberListType:nt,onItemClick:et?.onItemClick||(e=>{let t=[e];Xe.current.setCometChatUserGroupMembers(t),Xe.current.getCometChatUserGroupMembers(),Xe.current.reRender(),Ze(!1),$e(1),_e("")}),usersRequestBuilder:rt,searchKeyword:ze,subtitleView:et?.subtitleView,disableUsersPresence:et?.disableUsersPresence,avatarStyle:et?.avatarStyle,listItemView:et?.listItemView,statusIndicatorStyle:et?.statusIndicatorStyle,userPresencePlacement:et?.userPresencePlacement,hideSeparator:et?.hideSeparator,loadingStateView:et?.loadingStateView,onEmpty:Ct,loadingIconUrl:et?.loadingIconURL,group:l,groupMemberRequestBuilder:it,disableLoadingState:!0,onError:Ct})}),W.showMentionsCountWarning&&g.jsx("div",{style:{height:"fit-content",position:"relative",width:"100%",boxSizing:"border-box",left:"50%",transform:"translate(-50%)",zIndex:2,padding:"0px 0px 1px 0px"},children:g.jsx("cometchat-icon-button",{text:J||n.localize("MENTIONS_LIMIT_WARNING_MESSAGE"),iconURL:_,buttonStyle:JSON.stringify(_i(0,Ve,Y))})}),g.jsx("input",{ref:q,type:"file",onChange:Bt,style:{display:"none"}}),g.jsx("div",{className:"cc-message-composer__header",style:{height:"fit-content",position:"relative",width:"100%",boxSizing:"border-box",left:"50%",transform:"translate(-50%)",zIndex:2,padding:"0px 0px 1px 0px"},children:F??Gt()}),g.jsxs(La,{ref:X,text:W.addToMsgInputText,placeholderText:d,auxiliaryButtonAlignment:f,textInputStyle:Ji(R,Ve),textFormatters:Ne,children:[g.jsx("div",{"data-slot":"primaryView",className:"cc-message-composer__primary-view",style:{display:"flex",gap:"6px"},children:g.jsxs(g.Fragment,{children:[Pt(),Lt()?S?g.jsx(g.Fragment,{}):g.jsx("div",{className:"cc-message-composer__live-reaction-btn-wrapper",style:{},children:g.jsx("cometchat-button",{ref:ke,iconURL:v,hoverText:n.localize("LIVE_REACTION"),buttonStyle:JSON.stringify({height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:Ni,background:"transparent",padding:"0"})})}):g.jsx(g.Fragment,{}),S?Rt():Lt()?g.jsx(g.Fragment,{}):Rt()]})}),g.jsx("div",{"data-slot":"secondaryView",className:"cc-message-composer__secondary-view",style:{flex:"1"},children:Ut()}),g.jsx("div",{"data-slot":"auxilaryView",className:"cc-message-composer__auxiliary-view",style:{display:"flex",flexDirection:"row",alignItems:"center",width:"fit-content",gap:"8px",padding:"0",marginRight:"8px"},children:jt()})]})]})]});var Vt}const Pa=(e,t)=>({width:"100%",height:"100%",border:`1px solid ${t.palette.getAccent50()}`,borderRadius:"inherit",background:t.palette.getBackground(),display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row",padding:"8px",boxSizing:"border-box",...e}),Oa=(e,t,o,r)=>t&&t.current?{textFont:o?.typingIndicatorTextFont||n.fontHelper(r.typography.subtitle2),textColor:o?.typingIndicatorTextColor||r.palette.getPrimary()}:{textFont:o?.subtitleTextFont||n.fontHelper(r.typography.subtitle2),textColor:o?.subtitleTextColor||r.palette.getAccent600()},ja=e=>({borderRadius:"24px",width:"36px",height:"36px",border:"none",backgroundColor:e.palette.getAccent700(),nameTextColor:e.palette.getAccent900(),backgroundSize:"cover",nameTextFont:n.fontHelper(e.typography.subtitle1),outerViewBorder:"",outerViewBorderSpacing:""}),Ga=e=>({height:"24px",width:"24px",border:"none",borderRadius:"none",background:"transparent",buttonIconTint:e.palette.getPrimary()});var Va="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2Fbackbutton%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FBack%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.250000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2218.75%22%20y1%3D%228.75%22%20x2%3D%220%22%20y2%3D%228.75%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolyline%20id%3D%22Path%22%20points%3D%228.75%200%200%208.75%208.75%2017.5%22%3E%3C%2Fpolyline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";var Ha="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2014%2014%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3ELocked%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Symbols-v2%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Locked%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20fill%3D%22%23F7A500%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M7%2C3%20C8.1045695%2C3%209%2C3.8954305%209%2C5%20L9.00079851%2C6.00841863%20C9.2437935%2C6.025429%209.36573413%2C6.06795171%209.48842285%2C6.13356635%20C9.65138581%2C6.2207199%209.7792801%2C6.34861419%209.86643365%2C6.51157715%20C9.95358719%2C6.67454011%2010%2C6.83618323%2010%2C7.2819426%20L10%2C9.7180574%20C10%2C10.1638168%209.95358719%2C10.3254599%209.86643365%2C10.4884229%20C9.7792801%2C10.6513858%209.65138581%2C10.7792801%209.48842285%2C10.8664336%20C9.32545989%2C10.9535872%209.16381677%2C11%208.7180574%2C11%20L5.2819426%2C11%20C4.83618323%2C11%204.67454011%2C10.9535872%204.51157715%2C10.8664336%20C4.34861419%2C10.7792801%204.2207199%2C10.6513858%204.13356635%2C10.4884229%20C4.04641281%2C10.3254599%204%2C10.1638168%204%2C9.7180574%20L4%2C7.2819426%20C4%2C6.83618323%204.04641281%2C6.67454011%204.13356635%2C6.51157715%20C4.2207199%2C6.34861419%204.34861419%2C6.2207199%204.51157715%2C6.13356635%20C4.63442137%2C6.06786855%204.7565156%2C6.02532125%205.00012601%2C6.00835408%20L5%2C5%20C5%2C3.8954305%205.8954305%2C3%207%2C3%20Z%20M7%2C4%20C6.48716416%2C4%206.06449284%2C4.38604019%206.00672773%2C4.88337887%20L6%2C5%20L6%2C6%20L8%2C6%20L8%2C5%20C8%2C4.44771525%207.55228475%2C4%207%2C4%20Z%22%20id%3D%22Rectangle-3%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",Qa="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2214px%22%20height%3D%2214px%22%20viewBox%3D%220%200%2014%2014%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EPrivate%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Symbols-v2%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Private%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20fill%3D%22%2300C86F%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4%2C5%20C5.33333333%2C4.66666667%206.33333333%2C4%207%2C3%20C7.66666667%2C4%208.66666667%2C4.66666667%2010%2C5%20L10%2C6.14589803%20C10%2C8.20151331%208.83859819%2C10.0807009%207%2C11%20L7%2C11%20L7%2C11%20C5.16140181%2C10.0807009%204%2C8.20151331%204%2C6.14589803%20L4%2C5%20L4%2C5%20Z%22%20id%3D%22Rectangle%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";const Na=e=>{const{theme:t}=r.useContext(T),{avatarStyle:i={},statusIndicatorStyle:a={},messageHeaderStyle:l={},listItemStyle:c={},subtitleView:C=null,disableUsersPresence:d=!1,disableTyping:u=!1,protectedGroupIcon:p=Ha,privateGroupIcon:h=Qa,menu:m=null,user:A,group:x,backButtonIconURL:b=Va,hideBackButton:y,listItemView:f=null,onError:w,onBack:D=(()=>{})}=e,[E,v]=r.useState(""),[S,I]=r.useState(null),F=Ce(A),k=Ce(x),M=Ce(D),[B,L]=ge(null),R=r.useRef(!1),U=de(w),P=r.useCallback((()=>{const e=F.current,t=k.current;if(e)v(n.localize(e.getStatus().toUpperCase()));else if(t){const e=t.getMembersCount(),o=n.localize(e>1?"MEMBERS":"MEMBER");v(`${e} ${o}`)}}),[F,k]),O=r.useCallback((e=>{const t=F.current;t&&(t.setStatus(e.getStatus()),v(t.getStatus()))}),[F]),j=r.useCallback((e=>{try{const t=e?.getSender(),o=e?.getReceiverId();t?.getUid()===F?.current?.getUid()&&S?.getUid()===o&&v(n.localize("IS_TYPING")),k?.current?.getGuid()===o&&v(`${t?.getName()} ${n.localize("IS_TYPING")}`)}catch(e){U(e)}}),[F,k,U,S]),G=r.useCallback((()=>{try{const e=n.CometChatGroupEvents.ccGroupMemberAdded.subscribe((e=>{k?.current?.getGuid()===e?.userAddedIn?.getGuid()&&(e?.usersAdded.length>0&&e?.usersAdded.forEach((e=>{e?.getUid()===S?.getUid()&&k?.current?.setHasJoined(!0)})),k?.current?.setMembersCount(e?.userAddedIn?.getMembersCount()),P())})),t=n.CometChatGroupEvents.ccGroupMemberBanned.subscribe((e=>{k?.current?.getGuid()===e?.kickedFrom?.getGuid()&&(S?.getUid()===e?.kickedUser?.getUid()&&k?.current?.setHasJoined(!1),k?.current?.setMembersCount(e?.kickedFrom?.getMembersCount()),P())})),o=n.CometChatGroupEvents.ccGroupMemberJoined.subscribe((e=>{k?.current?.getGuid()===e?.joinedGroup?.getGuid()&&(S?.getUid()===e?.joinedUser?.getUid()&&k?.current?.setHasJoined(!0),k?.current?.setMembersCount(e?.joinedGroup?.getMembersCount()),P())})),r=n.CometChatGroupEvents.ccGroupMemberKicked.subscribe((e=>{k?.current?.getGuid()===e?.kickedFrom?.getGuid()&&(S?.getUid()===e?.kickedUser?.getUid()&&k?.current?.setHasJoined(!1),k?.current?.setMembersCount(e?.kickedFrom?.getMembersCount()),P())})),s=n.CometChatGroupEvents.ccOwnershipChanged.subscribe((e=>{k?.current?.getGuid()===e?.group?.getGuid()&&(k?.current?.setOwner(e?.group?.getOwner()),P())})),i=n.CometChatGroupEvents.ccGroupLeft.subscribe((e=>{k?.current?.getGuid()===e?.leftGroup?.getGuid()&&(S?.getUid()===e?.userLeft?.getUid()&&k?.current?.setHasJoined(!1),k?.current?.setMembersCount(e?.leftGroup?.getMembersCount()),P())}));return()=>{try{e.unsubscribe(),t.unsubscribe(),o.unsubscribe(),r.unsubscribe(),s.unsubscribe(),i.unsubscribe()}catch(e){U(e)}}}catch(e){U(e)}}),[k,P,U,S]),V=r.useCallback((()=>{const e="userList_"+Date.now(),t="groupsList_"+Date.now(),o="connection_"+Date.now();let r,i;return d||s.CometChat.addUserListener(e,new s.CometChat.UserListener({onUserOnline:e=>{F.current?.getUid()===e.getUid()&&O(e)},onUserOffline:e=>{F.current?.getUid()===e?.getUid()&&O(e)}})),u||(r=n.CometChatMessageEvents.onTypingStarted.subscribe((e=>{R.current=!0,j(e)})),i=n.CometChatMessageEvents.onTypingEnded.subscribe((e=>{R.current=!1,P()}))),s.CometChat.addGroupListener(t,new s.CometChat.GroupListener({onGroupMemberScopeChanged:(e,t,n,o,r)=>{k.current?.getGuid()===r?.getGuid()&&t.getUid()===S?.getUid()&&k.current?.setScope(n),P()},onGroupMemberKicked:(e,t,n,o)=>{k.current?.getGuid()===o?.getGuid()&&(t.getUid()===S?.getUid()&&k.current?.setHasJoined(!1),k.current?.setMembersCount(o?.getMembersCount()),P())},onMemberAddedToGroup:(e,t,n,o)=>{k.current?.getGuid()===o.getGuid()&&(t.getUid()===S?.getUid()&&k.current?.setHasJoined(!0),k.current?.setMembersCount(o?.getMembersCount()),P())},onGroupMemberLeft:(e,t,n)=>{k.current?.getGuid()===n.getGuid()&&(t.getUid()===S?.getUid()&&k.current?.setHasJoined(!1),k.current?.setMembersCount(n.getMembersCount()),P())},onGroupMemberJoined:(e,t,n)=>{k.current?.getGuid()===n.getGuid()&&(t.getUid()===S?.getUid()&&k.current?.setHasJoined(!0),k.current?.setMembersCount(n.getMembersCount()),P())},onGroupMemberBanned:(e,t,n,o)=>{k.current?.getGuid()===o.getGuid()&&(t.getUid()===S?.getUid()&&k.current?.setHasJoined(!1),k.current?.setMembersCount(o.getMembersCount()),P())}})),s.CometChat.addConnectionListener(o,new s.CometChat.ConnectionListener({onConnected:()=>{console.log("ConnectionListener => On Connected")}})),()=>{s.CometChat.removeUserListener(e),s.CometChat.removeGroupListener(t),s.CometChat.removeConnectionListener(o),r?.unsubscribe(),i?.unsubscribe()}}),[F,k,O,u,P,j,S,d]),H=r.useCallback((()=>{if(F.current){if(!d&&F.current.getStatus()===n.CometChatUIKitConstants.userStatusType.online)return"#00f300"}else if(k.current){const e=k.current.getType();if(e===n.CometChatUIKitConstants.GroupTypes.private)return"#00f300";if(e===n.CometChatUIKitConstants.GroupTypes.password)return"#F7A500"}return null}),[F,k,d]),Q=r.useCallback((()=>{let e="";if(k.current)switch(k.current?.getType()){case n.CometChatUIKitConstants.GroupTypes.password:e=p;break;case n.CometChatUIKitConstants.GroupTypes.private:e=h;break;default:e=""}return e}),[k,p,h]),N=r.useCallback((()=>({...new o.AvatarStyle(ja(t)),...i})),[i,t]),K=r.useCallback((()=>({height:"12px",width:"12px",border:"none",borderRadius:"24px",...a})),[a]),z=r.useCallback((()=>((e,t)=>new o.ListItemStyle({height:e?.height||"45px",width:e?.width||"100%",background:e?.background||"inherit",activeBackground:e?.activeBackground||"transparent",borderRadius:e?.borderRadius||"0",titleFont:e?.titleFont||n.fontHelper(t.typography.title2),titleColor:e?.titleColor||t.palette.getAccent(),border:e?.border||"none",separatorColor:e?.separatorColor||"",hoverBackground:e?.hoverBackground||"transparent"}))(c,t)),[c,t]),_=r.useCallback((()=>C||g.jsx("div",{children:g.jsx("cometchat-label",{text:E,labelStyle:JSON.stringify(Oa(F.current,R,l,t))})})),[F,C,E,t,l]),J=r.useCallback((()=>f||g.jsx("cometchat-list-item",{avatarName:F.current?.getName()||k.current?.getName(),avatarURL:F.current?.getAvatar()||k.current?.getIcon(),listItemStyle:JSON.stringify(z()),statusIndicatorColor:H(),statusIndicatorIcon:Q(),title:F.current?.getName()||k.current?.getName(),hideSeparator:!0,statusIndicatorStyle:JSON.stringify(K()),avatarStyle:JSON.stringify(N()),style:{width:"100%"},children:g.jsx("div",{slot:"subtitleView",children:_()})})),[F,k,f,_,N,K,z,Q,H]),Y=r.useCallback((()=>m?g.jsx("div",{className:"cc-message-header__menu",style:{width:"fit-content",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:m}):null),[m]);return function(e,t,n,o,i,a,l,c,C,g){r.useEffect((()=>{s.CometChat.getLoggedinUser().then((e=>{e&&t(e)}),(e=>{i(e)}))}),[t,i]),r.useEffect((()=>{const t=[];return e&&(t.push(n()),t.push(o())),()=>{for(let e=0;e<t.length;e++)return t[e]()}}),[e,o,n]),r.useEffect((()=>{if(!a)return;const e="cc-button-clicked",t=()=>l.current?.();return a.addEventListener(e,t),()=>{a.removeEventListener(e,t)}}),[a,l]),r.useEffect((()=>{g()}),[c.current,C.current,g])}(S,I,G,V,U,B,M,F,k,P),g.jsxs("div",{className:"cc-message-header__wrapper",style:Pa(l,t),children:[g.jsxs("div",{className:"cc-message-header",style:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:"100%",width:"100%",boxSizing:"border-box",borderRadius:"inherit"},children:[y?null:g.jsx("div",{className:"cc-message-header__back-button",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"flex-start"},children:g.jsx("cometchat-button",{iconURL:b,buttonStyle:JSON.stringify(Ga(t)),ref:L})}),g.jsx("div",{className:"cc-message-header__listitem",style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start"},children:J()})]}),Y()]})},Ka=(e,t)=>({height:"100%",width:"100%",flex:"1 1 0",order:"2",position:"relative",display:"flex",flexDirection:"column",border:`1px solid ${t.palette.getAccent50()}`,borderRadius:"inherit",background:t.palette.getBackground(),...e}),za=(e,t,o,r={})=>e.getSender()&&e.getSender().getUid()!==o?.getUid()?{height:"100%",width:"100%",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:r.threadReplyIconTint||t.palette.getAccent600(),display:"flex",flexFlow:"row",alignItems:"center",gap:"5px",buttonTextColor:r?.threadReplyTextColor||t.palette.getAccent(),buttonTextFont:r?.threadReplyTextFont||n.fontHelper(t.typography.text2),iconHeight:"15px",iconWidth:"15px"}:{height:"100%",width:"100%",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:r.threadReplyIconTint||t.palette.getAccent600(),display:"flex",flexFlow:"row-reverse",alignItems:"center",buttonTextColor:r?.threadReplyTextColor||t.palette.getAccent(),buttonTextFont:r?.threadReplyTextFont||n.fontHelper(t.typography.text2),iconHeight:"15px",iconWidth:"15px",gap:"5px"},_a=e=>({height:"100%",width:"100%",background:e.palette.getPrimary(),display:"flex",justifyContent:"center",buttonTextFont:n.fontHelper(e.typography.text2),buttonTextColor:e.palette.getAccent("dark"),border:"none",borderRadius:"12px"}),Ja=(e,o,r,s)=>e.getDeletedAt()?{background:"transparent",border:`1px dashed ${o.palette.getAccent400()}`,borderRadius:"12px"}:e?.getType()!==n.CometChatUIKitConstants.calls.meeting||e?.getSender()&&e?.getSender().getUid()!==s.getUid()?e?.getType()===t.StickersConstants.sticker?{background:"transparent",borderRadius:"12px"}:e.getDeletedAt()||e.getCategory()!==n.CometChatUIKitConstants.MessageCategory.message||e.getType()!==n.CometChatUIKitConstants.MessageTypes.text||e.getSender()&&s?.uid!==e.getSender().getUid()?e.getDeletedAt()||e.getCategory()!==n.CometChatUIKitConstants.MessageCategory.message||e.getType()!==n.CometChatUIKitConstants.MessageTypes.audio?e.getType()===n.CometChatUIKitConstants.MessageTypes.groupMember||e.getCategory()===n.CometChatUIKitConstants.MessageCategory.call?{background:"transparent",borderRadius:"12px",border:`1px solid ${o.palette.getSecondary()}`}:e.getDeletedAt()||e.getCategory()!==n.CometChatUIKitConstants.MessageCategory.interactive?(e.getSender()&&e.getSender().getUid(),{background:o.palette.getSecondary(),borderRadius:"12px"}):{background:o.palette.getSecondary(),width:"300px"}:{borderRadius:"",background:o.palette.getSecondary()}:{background:r===n.MessageListAlignment.left?o.palette.getSecondary():o.palette.getPrimary(),borderRadius:"12px"}:{background:o.palette.getPrimary(),border:"none",borderRadius:"12px"},Ya=(e,t)=>{const r=t?.getType()===n.CometChatUIKitConstants.MessageTypes.text;return new o.ReceiptStyle({waitIconTint:e.palette.getAccent700(),sentIconTint:e.palette.getAccent600(),deliveredIconTint:e.palette.getAccent600(),readIconTint:r?e.palette.getBackground():e.palette.getPrimary(),errorIconTint:e.palette.getError(),height:"11px",width:"12px"})},Wa=(e,t,o,r)=>{if(e)return{display:"flex",justifyContent:"center",alignItems:"end",height:"fit-content",borderRadius:"22px",padding:"3px 5px",paddingTop:"2px",position:"relative",marginTop:"-22px",marginRight:"12px",background:t.palette.getAccent500("dark"),gap:"1px",width:"fit-content"};{const e={display:"flex",justifyContent:"flex-end",alignItems:"end",padding:"1px 8px 8px 8px",gap:"4px"};return o?.getType()===n.CometChatUIKitConstants.MessageTypes.text&&(e.padding="0px 8px 8px",e.marginTop=r===n.MessageBubbleAlignment.right?"-6px":"-5px"),e}},Za=e=>{let t="center";return e===n.MessageBubbleAlignment.right?t="flex-end":e===n.MessageBubbleAlignment.left&&(t="flex-start"),{display:"flex",justifyContent:t,width:"100%",boxSizing:"border-box"}},Xa=(e,t)=>({textColor:e?.TimestampTextColor||t.palette.getAccent600(),textFont:e?.TimestampTextFont||n.fontHelper(t.typography.caption3),padding:"0",display:"block"}),qa=e=>({textFont:n.fontHelper(e.typography.caption2),textColor:e.palette.getAccent600()}),$a=(e,t)=>new o.DateStyle({textFont:e?.textFont||n.fontHelper(t.typography.subtitle2),textColor:e?.textColor||t.palette.getAccent600(),background:e?.background||"inherit",height:e?.height||"100%",width:e?.width||"100%",border:e?.border||`1px solid ${t.palette.getAccent100()}`,borderRadius:e?.borderRadius||"8px"}),el=e=>new t.MessageListStyle({background:e.palette.getBackground(),border:"none",emptyStateTextFont:n.fontHelper(e.typography.title1),emptyStateTextColor:e.palette.getAccent600(),errorStateTextFont:n.fontHelper(e.typography.title1),errorStateTextColor:e.palette.getAccent600(),loadingIconTint:e.palette.getAccent600(),nameTextFont:n.fontHelper(e.typography.title2),nameTextColor:e.palette.getAccent600(),threadReplyTextFont:n.fontHelper(e.typography.subtitle1),threadReplyIconTint:e.palette.getAccent600(),threadReplyTextColor:e.palette.getAccent600(),TimestampTextFont:n.fontHelper(e.typography.caption2),TimestampTextColor:e.palette.getAccent600()}),tl=(e,t)=>({iconTint:{...el(t),...e}.loadingIconTint}),nl=(e,t)=>{let n={...el(t),...e};return{textFont:n.errorStateTextFont,textColor:n.errorStateTextColor}},ol=(e,t)=>({...new o.AvatarStyle({borderRadius:"24px",width:"28px",height:"28px",border:"none",backgroundColor:t.palette.getAccent700(),nameTextColor:t.palette.getAccent900(),backgroundSize:"cover",nameTextFont:n.fontHelper(t.typography.subtitle1),outerViewBorderWidth:"0",outerViewBorderRadius:"0",outerViewBorderColor:"",outerViewBorderSpacing:"0"}),...e}),rl=e=>{let t="center";return e===n.MessageBubbleAlignment.right?t="flex-end":e===n.MessageBubbleAlignment.left&&(t="flex-start"),{display:"flex",justifyContent:t,width:"100%",marginBottom:"16px"}},sl={padding:"0px 0px 0px 15px",overflow:"hidden",display:"flex",justifyContent:"flex-end",marginRight:"15px",boxSizing:"border-box"};function il(e){return{height:"24px",width:"24px",border:"none",borderRadius:"0",buttonIconTint:e.palette.getPrimary(),background:"transparent",position:"absolute",top:"20px",right:"16px"}}const al=e=>({height:"1px",width:"100%",background:e.palette.getAccent100()});function ll(e){return new o.ReceiptStyle({deliveredIconTint:e.palette.getAccent600(),readIconTint:e.palette.getPrimary(),errorIconTint:e.palette.getError(),height:"20px",width:"20px"})}const cl=(e,t)=>{let r=e;return r={...new o.DateStyle({textFont:n.fontHelper(t.typography.caption2),textColor:t.palette.getAccent600(),background:t.palette.getAccent100(),height:"100%",width:"100%",border:`1px solid ${t.palette.getAccent100()}`,borderRadius:"8px"}),...r},r.background=r.background||t.palette.getAccent600(),r},Cl={background:"transparent",height:"",width:"",border:"none",borderRadius:"none"},gl={marginLeft:"auto"},dl={display:"flex"},ul={width:"100%"},pl=(e,t)=>({...{width:"360px",height:"620px",margin:"0 auto",background:e.palette.getBackground(),borderRadius:"12px",overflow:"hidden",boxSizing:"border-box"},...t}),hl=e=>({marginTop:"8px",marginBottom:"8px",marginLeft:"10px",fontSize:n.fontHelper(e.typography.subtitle2),fontWeight:"500",color:e.palette.getAccent600(),display:"flex"}),ml=e=>({marginBottom:"8px",marginLeft:"10px",fontSize:n.fontHelper(e.typography.subtitle2),fontWeight:"500",color:e.palette.getAccent600(),display:"flex"});class Al{messageBubbleStyle(e,t,o,r){return e.getDeletedAt()?{background:"transparent",border:`1px dashed ${t.palette.getAccent400()}`,borderRadius:"12px"}:e.getDeletedAt()||e.getCategory()!==n.CometChatUIKitConstants.MessageCategory.message||e.getType()!==n.CometChatUIKitConstants.MessageTypes.text||e.getSender()&&r?.getUid()!==e.getSender().getUid()?e.getDeletedAt()||e.getCategory()!==n.CometChatUIKitConstants.MessageCategory.message||e.getType()!==n.CometChatUIKitConstants.MessageTypes.audio?e.getType()===n.CometChatUIKitConstants.MessageTypes.groupMember?{background:"transparent",borderRadius:"12px",border:`1px solid ${t.palette.getAccent100()}`}:(e.getSender()&&(e.getSender().getUid(),r?.getUid()),{background:t.palette.getAccent100(),borderRadius:"12px"}):{borderRadius:"",background:t.palette.getAccent100()}:{background:o===n.MessageBubbleAlignment.left?t.palette.getAccent100():t.palette.getPrimary(),borderRadius:"12px"}}getContentView(e,t){let o;const r={};return r[`${t.category}_${t.type}`]=t,r[`${e?.getCategory()}_${e?.getType()}`]&&r[`${e?.getCategory()}_${e?.getType()}`]?.contentView?(o=r[`${e?.getCategory()}_${e?.getType()}`]?.contentView(e,n.MessageBubbleAlignment.right),"string"==typeof o?{html:o}:o):null}getBubbleWrapper(e,t){let n;const o={};return o[`${t.category}_${t.type}`]=t,o&&o[`${e?.getCategory()}_${e?.getType()}`]&&o[`${e?.getCategory()}_${e?.getType()}`].bubbleView?(n=o[`${e?.getCategory()}_${e?.getType()}`].bubbleView(e),n):(n=null,n)}getMessageBubble(e,t,n,o){return this.getBubbleWrapper(e,t)?this.getBubbleWrapper(e,t):{componentName:"CometChatMessageBubble",props:{id:e?.getId()||e?.getMuid(),messageBubbleStyle:n,alignment:o,replyView:null,threadView:null,contentView:this.getContentView(e,t)}}}}var xl="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",bl="data:image/svg+xml,%3Csvg%20width%3D%2218%22%20height%3D%2217%22%20viewBox%3D%220%200%2018%2017%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M8.99992%2011C8.96695%2011%208.93473%2011.0098%208.90732%2011.0281C8.87992%2011.0464%208.85855%2011.0724%208.84594%2011.1029C8.83332%2011.1333%208.83002%2011.1669%208.83645%2011.1992C8.84289%2011.2315%208.85876%2011.2612%208.88207%2011.2845C8.90538%2011.3078%208.93507%2011.3237%208.9674%2011.3301C8.99973%2011.3366%209.03324%2011.3333%209.0637%2011.3206C9.09415%2011.308%209.12018%2011.2867%209.1385%2011.2593C9.15681%2011.2319%209.16659%2011.1996%209.16659%2011.1667C9.16659%2011.1225%209.14903%2011.0801%209.11777%2011.0488C9.08651%2011.0176%209.04412%2011%208.99992%2011Z%22%20stroke%3D%22%23ff3b30%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M9%209.66667V6%22%20stroke%3D%22%23ff3b30%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%2F%3E%3Cpath%20d%3D%22M4%209C4%2010.3261%204.52678%2011.5979%205.46447%2012.5355C6.40215%2013.4732%207.67392%2014%209%2014C10.3261%2014%2011.5979%2013.4732%2012.5355%2012.5355C13.4732%2011.5979%2014%2010.3261%2014%209C14%207.67392%2013.4732%206.40215%2012.5355%205.46447C11.5979%204.52678%2010.3261%204%209%204C7.67392%204%206.40215%204.52678%205.46447%205.46447C4.52678%206.40215%204%207.67392%204%209V9Z%22%20stroke%3D%22%23ff3b30%22%20stroke-width%3D%221.2%22%2F%3E%3C%2Fsvg%3E";const yl=e=>{const{theme:t}=r.useContext(T),{title:i=n.localize("MESSAGE_INFORMATION"),closeIconURL:a,onClose:l,message:c,bubbleView:C,subtitleView:d=null,listItemView:u=null,messageInformationStyle:p,listItemStyle:h,receiptDatePattern:m,template:A,loadingIconURL:x=xl}=e,[b,y]=r.useState(),[f,w]=r.useState([]),D=()=>({...new o.ListItemStyle({height:"70px",width:"100%",background:"inherit",borderRadius:"0",titleFont:n.fontHelper(t.typography.title2),titleColor:t.palette.getAccent(),border:"none",separatorColor:t.palette.getAccent200(),hoverBackground:t.palette.getAccent50()}),...h});r.useEffect((()=>{c?.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user&&y(c.getReceiver()),c?.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group&&async function(e){if(e?.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group){let t=await s.CometChat.getMessageReceipts(e?.getId());w(t)}}(c)}),[c]);const E=r.useCallback((()=>{if(c){if(C)return C(c);{const e=(new Al).messageBubbleStyle(c,t,n.MessageBubbleAlignment.right,b);return(new Al).getMessageBubble(c,A,e,n.MessageBubbleAlignment.right)}}return null}),[c,C,A,t,b]);function v(e,t){return null!==d?g.jsx(g.Fragment,{children:d(c)}):g.jsx("div",{style:ul,children:g.jsx("div",{className:"cc-receipts__subtitle",children:S(e,t)})})}function S(e,o){return g.jsxs("div",{className:"cc-message_information__receipt-container",children:[g.jsxs("div",{className:"cc-message_information__receipt",style:dl,children:[g.jsx("div",{className:"cc-message_information__delivered-receipt",children:g.jsx("cometchat-receipt",{receipt:n.Receipts.delivered,errorIcon:bl,deliveredIcon:"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cline%20y1%3D%22-0.75%22%20x2%3D%2212.5391%22%20y2%3D%22-0.75%22%20transform%3D%22matrix%28-0.641971%200.766729%20-0.836709%20-0.547648%2019%207.38586%29%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%2F%3E%3Cpath%20d%3D%22M16.6377%207L8.87922%2016.3095L5%2013.3697%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",receiptStyle:JSON.stringify(ll(t))})}),g.jsx("div",{style:I,className:"cc_message-information__subtitle-text",children:void 0!==e&&n.localize("DELIVERED")}),g.jsx("div",{className:"cc_message-information__date",style:gl,children:g.jsx("cometchat-date",{timestamp:e,customDateString:m?m(e):null,pattern:m?null:n.DatePatterns.DateTime,dateStyle:JSON.stringify(cl(Cl,t))})})]}),g.jsxs("div",{className:"cc-message_information__receipt",style:dl,children:[g.jsx("div",{className:"cc-message_information__read-receipt",children:g.jsx("cometchat-receipt",{receipt:n.Receipts.read,errorIcon:bl,readIcon:"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cline%20y1%3D%22-0.75%22%20x2%3D%2212.5391%22%20y2%3D%22-0.75%22%20transform%3D%22matrix%28-0.641971%200.766729%20-0.836709%20-0.547648%2019%207.38586%29%22%20stroke%3D%22%2339f%22%20stroke-width%3D%221.5%22%2F%3E%3Cpath%20d%3D%22M16.6377%207L8.87922%2016.3095L5%2013.3697%22%20stroke%3D%22%2339f%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",receiptStyle:JSON.stringify(ll(t))})}),g.jsx("div",{style:I,className:"cc_message-information__subtitle-text",children:void 0!==o&&n.localize("READ")}),void 0!==o&&g.jsx("div",{className:"cc_message-information__date",style:gl,children:g.jsx("cometchat-date",{timestamp:o,customDateString:m?m(o):null,pattern:m?null:n.DatePatterns.DateTime,dateStyle:JSON.stringify(cl(Cl,t))})}),void 0===o&&g.jsx("div",{className:"cc_message-information__date",style:gl,children:"..."})]})]})}const I={font:n.fontHelper(t.typography.subtitle2),color:t.palette.getAccent600()},F=new o.AvatarStyle({borderRadius:"50%",width:"43px",height:"43px"});function k(e){return g.jsx(Xn,{id:e.getMessageId(),title:e.getSender()?.getName(),avatarURL:e.getSender()?.getAvatar(),avatarName:e.getSender()?.getName(),hideSeparator:!1,isActive:!1,avatarStyle:F,listItemStyle:D(),subtitleView:v(e.getDeliveredAt(),e.getReadAt()),subtitleViewClassName:"cc-message_information__subtitle-view",tailViewClassName:"cc-receipt-details__tail-view"})}return g.jsx("div",{className:"cc__messageinfo__wrapper",style:ul,children:g.jsx("cometchat-backdrop",{children:g.jsxs("div",{className:"cc__messageinfo",style:pl(t,p),children:[g.jsxs("div",{className:"cc__messageinfo__header",style:{textAlign:"center",fontSize:"22px",fontWeight:"700",padding:"19px 0px",position:"relative"},children:[g.jsxs("div",{className:"cc__messageinfo__title",children:[" ",i," "]}),g.jsx(De,{iconURL:a,hoverText:n.localize("CLOSE"),buttonStyle:il(t),onClick:l})]}),g.jsxs("div",{className:"cc__messageinfo__content",style:ul,children:[g.jsx("div",{style:ml(t),children:n.localize("MESSAGE")}),g.jsx("cometchat-divider",{dividerStyle:JSON.stringify(al(t))}),g.jsx("div",{className:"cc__messageinfo__bubble-wrapper",style:{maxHeight:"150px",overflow:"hidden scroll",boxSizing:"border-box",padding:"2px 8px"},children:E()}),g.jsx("cometchat-divider",{dividerStyle:JSON.stringify(al(t))}),g.jsx("div",{style:hl(t),children:n.localize("RECEIPT_INFORMATION")}),g.jsx("cometchat-divider",{dividerStyle:JSON.stringify(al(t))}),c.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user&&void 0!==c.getDeliveredAt()&&g.jsx("div",{children:g.jsx(Xn,{id:c.getConversationId(),title:b?.getName(),avatarURL:b?.getAvatar(),avatarName:b?.getName(),hideSeparator:!1,isActive:!1,avatarStyle:F,listItemStyle:D(),subtitleView:v(c.getDeliveredAt(),c.getReadAt()),subtitleViewClassName:"cc-message_information__subtitle-view",tailViewClassName:"cc-receipt-details__tail-view"})}),c.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user&&void 0===c.getDeliveredAt()&&g.jsxs("div",{style:{padding:"2em 0px 0px 0px",fontSize:"18px",textAlign:"center",color:t.palette.getAccent400()},children:[" ",n.localize("NO_RECIPIENT")," "]}),c.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group&&f.length>0&&g.jsx("div",{children:g.jsx(pe,{list:f,listItem:function(e){return g.jsx(g.Fragment,{children:u?u(c,e):k(e)})},listItemKey:"getReceiver",state:0===f.length?n.States.loading:n.States.loaded,hideSearch:!0,showSectionHeader:!1,loadingIconURL:x})}),c.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group&&f.length<=0&&g.jsxs("div",{style:{padding:"2em 0px 0px 0px",fontSize:"18px",textAlign:"center",color:t.palette.getAccent400()},children:[" ",n.localize("NO_RECIPIENTS")," "]})]})]})})})};var fl;class wl{constructor(e,t,n,o,r){if(this.messagesRequest=null,this.fetchNextMessages=()=>this.messagesRequest?.fetchNext(),this.fetchPreviousMessages=()=>this.messagesRequest?.fetchPrevious(),e){let r=t?e.setUID(t.getUid()):e.setGUID(n.getGuid());o&&r.setMessageId(o),this.messagesRequest=r.build()}else{const e=(new s.CometChat.MessagesRequestBuilder).setTypes(I.dataSource.getAllMessageTypes()).setCategories(I.dataSource.getAllMessageCategories()).hideReplies(!0).setLimit(30);o&&e.setMessageId(o),r&&e.setParentMessageId(r),t?e.setUID(t.getUid()):n&&e.setGUID(n.getGuid()),this.messagesRequest=e.build()}}static removeListeners(){s.CometChat.removeGroupListener(this.groupListenerId),s.CometChat.removeConnectionListener(this.connectionListenerId),I.names.includes("calling")&&s.CometChat.removeCallListener(this.callListenerId)}static attachConnectionListener(e){const t="MessageList_connection_"+String(Date.now());s.CometChat.addConnectionListener(t,new s.CometChat.ConnectionListener({onConnected:()=>{console.log("ConnectionListener =>connected"),e&&e()},onDisconnected:()=>{console.log("ConnectionListener => On Disconnected")}}))}}fl=wl,wl.groupListenerId="group_"+(new Date).getTime(),wl.callListenerId="call_"+(new Date).getTime(),wl.connectionListenerId="MessageList_connection_"+String(Date.now()),wl.attachListeners=e=>{s.CometChat.addGroupListener(fl.groupListenerId,new s.CometChat.GroupListener({onGroupMemberScopeChanged:(t,o,r,s,i)=>{e(n.CometChatUIKitConstants.groupMemberAction.SCOPE_CHANGE,t,i)},onGroupMemberKicked:(t,o,r,s)=>{e(n.CometChatUIKitConstants.groupMemberAction.KICKED,t,s)},onGroupMemberBanned:(t,o,r,s)=>{e(n.CometChatUIKitConstants.groupMemberAction.BANNED,t,s)},onGroupMemberUnbanned:(t,o,r,s)=>{e(n.CometChatUIKitConstants.groupMemberAction.UNBANNED,t,s)},onMemberAddedToGroup:(t,o,r,s)=>{e(n.CometChatUIKitConstants.groupMemberAction.ADDED,t,s)},onGroupMemberLeft:(t,o,r)=>{e(n.CometChatUIKitConstants.groupMemberAction.LEFT,t,r)},onGroupMemberJoined:(t,o,r)=>{e(n.CometChatUIKitConstants.groupMemberAction.JOINED,t,r)}})),I.names.includes("calling")&&s.CometChat.addCallListener(fl.callListenerId,new s.CometChat.CallListener({onIncomingCallReceived:t=>{e("incoming",t)},onIncomingCallCancelled:t=>{e("cancelled",t)},onOutgoingCallRejected:t=>{e("rejected",t)},onOutgoingCallAccepted:t=>{e("accepted",t)}}))};const Dl=h({tagName:"cometchat-reactions",elementClass:t.CometChatReactions,react:r}),El=h({tagName:"cometchat-emoji-keyboard",elementClass:o.CometChatEmojiKeyboard,events:{onEmojiClick:"cc-emoji-clicked"},react:r}),vl=h({tagName:"cometchat-icon-button",elementClass:o.CometChatIconButton,react:r,events:{buttonClick:"cc-button-clicked"}}),Sl={parentMessageId:0,user:void 0,group:void 0,emptyStateText:n.localize("NO_MESSAGES_FOUND"),errorStateText:n.localize("SOMETHING_WRONG"),emptyStateView:null,errorStateView:null,loadingStateView:null,disableReceipt:!1,disableSoundForMessages:!1,customSoundForMessages:"",readIcon:"data:image/svg+xml,%3Csvg%20width%3D%2214%22%20height%3D%2212%22%20viewBox%3D%220%200%2014%2012%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20opacity%3D%220.8%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M9.15147%203.15262C9.32528%202.93804%209.29224%202.62319%209.07766%202.44938C8.86308%202.27557%208.54822%202.30861%208.37441%202.52319L3.61414%208.39998L1.626%206.42494C1.4301%206.23032%201.11352%206.23137%200.918901%206.42727C0.724285%206.62318%200.725331%206.93976%200.921238%207.13438L3.30197%209.49942C3.40229%209.59908%203.54012%209.6516%203.68131%209.64398C3.82251%209.63635%203.95388%209.5693%204.04289%209.45942L9.15147%203.15262ZM13.0814%203.16663C13.263%202.95855%2013.2415%202.6427%2013.0334%202.46115C12.8253%202.27961%2012.5095%202.30111%2012.3279%202.50919L7.17358%208.41667L6.74794%207.99934C6.55077%207.80601%206.2342%207.80912%206.04087%208.0063C5.84754%208.20348%205.85066%208.52004%206.04783%208.71337L6.85187%209.50172C6.95016%209.59809%207.08383%209.64968%207.22138%209.64433C7.35892%209.63897%207.48818%209.57715%207.57868%209.47343L13.0814%203.16663Z%22%20fill%3D%22%239C9CA3%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E",deliveredIcon:"data:image/svg+xml,%3Csvg%20width%3D%2214%22%20height%3D%2212%22%20viewBox%3D%220%200%2014%2012%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20opacity%3D%220.8%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M9.15147%203.15262C9.32528%202.93804%209.29224%202.62319%209.07766%202.44938C8.86308%202.27557%208.54822%202.30861%208.37441%202.52319L3.61414%208.39998L1.626%206.42494C1.4301%206.23032%201.11352%206.23137%200.918901%206.42727C0.724285%206.62318%200.725331%206.93976%200.921238%207.13438L3.30197%209.49942C3.40229%209.59908%203.54012%209.6516%203.68131%209.64398C3.82251%209.63635%203.95388%209.5693%204.04289%209.45942L9.15147%203.15262ZM13.0814%203.16663C13.263%202.95855%2013.2415%202.6427%2013.0334%202.46115C12.8253%202.27961%2012.5095%202.30111%2012.3279%202.50919L7.17358%208.41667L6.74794%207.99934C6.55077%207.80601%206.2342%207.80912%206.04087%208.0063C5.84754%208.20348%205.85066%208.52004%206.04783%208.71337L6.85187%209.50172C6.95016%209.59809%207.08383%209.64968%207.22138%209.64433C7.35892%209.63897%207.48818%209.57715%207.57868%209.47343L13.0814%203.16663Z%22%20fill%3D%22%239C9CA3%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E",sentIcon:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2216px%22%20height%3D%2216px%22%20viewBox%3D%220%200%2016%2016%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F16%2FMessage%20Sent%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F16%2FMessage-Sent%22%20fill%3D%22%23000000%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M11.1282564%2C3.43708984%20C11.3839897%2C3.0108676%2011.9368239%2C2.87265904%2012.3630462%2C3.12839238%20C12.7564821%2C3.36445393%2012.9045099%2C3.85366653%2012.7238142%2C4.26276853%20L12.6717436%2C4.3631822%20L7.87174363%2C12.3631822%20C7.59058211%2C12.8317847%206.96826751%2C12.9373278%206.54992747%2C12.6127032%20L6.4636039%2C12.5365321%20L3.2636039%2C9.33653212%20C2.91213203%2C8.98506026%202.91213203%2C8.41521177%203.2636039%2C8.06373991%20C3.58578644%2C7.74155737%204.091466%2C7.71470883%204.44423138%2C7.98319428%20L4.5363961%2C8.06373991%20L6.921%2C10.448136%20L11.1282564%2C3.43708984%20Z%22%20id%3D%22Style%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",waitIcon:"data:image/svg+xml,%3Csvg%20width%3D%2225%22%20height%3D%2224%22%20viewBox%3D%220%200%2025%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M8.01057%208.04728C8.34753%209.99213%209.53177%2011.3242%2011.6239%2012C13.716%2011.3242%2014.9002%209.99213%2015.2372%208.04728C15.2572%207.91731%2015.2488%207.78455%2015.2125%207.65816C15.1762%207.53177%2015.1129%207.41476%2015.027%207.3152C14.9411%207.21564%2014.8346%207.1359%2014.7149%207.08149C14.5952%207.02707%2014.4651%206.99928%2014.3336%207.00001H8.9142C8.7827%206.99928%208.65261%207.02707%208.5329%207.08149C8.41319%207.1359%208.30671%207.21564%208.2208%207.3152C8.1349%207.41476%208.07161%207.53177%208.03532%207.65816C7.99902%207.78455%207.99058%207.91731%208.01057%208.04728Z%22%20fill%3D%22%23808080%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M8.91423%2017C8.78279%2017.0007%208.65276%2016.9729%208.5331%2016.9185C8.41343%2016.8642%208.30699%2016.7845%208.22109%2016.685C8.1352%2016.5855%208.0719%2016.4686%208.03556%2016.3423C7.99922%2016.2159%207.9907%2016.0832%208.01059%2015.9533C8.34756%2014.0085%209.5318%2012.6764%2011.6239%2012C13.716%2012.6764%2014.9003%2014.0085%2015.2372%2015.9533C15.2571%2016.0832%2015.2486%2016.2159%2015.2123%2016.3423C15.1759%2016.4686%2015.1126%2016.5855%2015.0267%2016.685C14.9408%2016.7845%2014.8344%2016.8642%2014.7147%2016.9185C14.5951%2016.9729%2014.465%2017.0007%2014.3336%2017H8.91423Z%22%20stroke%3D%22%23808080%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",errorIcon:"data:image/svg+xml,%3Csvg%20width%3D%2218%22%20height%3D%2217%22%20viewBox%3D%220%200%2018%2017%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M8.99992%2011C8.96695%2011%208.93473%2011.0098%208.90732%2011.0281C8.87992%2011.0464%208.85855%2011.0724%208.84594%2011.1029C8.83332%2011.1333%208.83002%2011.1669%208.83645%2011.1992C8.84289%2011.2315%208.85876%2011.2612%208.88207%2011.2845C8.90538%2011.3078%208.93507%2011.3237%208.9674%2011.3301C8.99973%2011.3366%209.03324%2011.3333%209.0637%2011.3206C9.09415%2011.308%209.12018%2011.2867%209.1385%2011.2593C9.15681%2011.2319%209.16659%2011.1996%209.16659%2011.1667C9.16659%2011.1225%209.14903%2011.0801%209.11777%2011.0488C9.08651%2011.0176%209.04412%2011%208.99992%2011Z%22%20stroke%3D%22%23ff3b30%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M9%209.66667V6%22%20stroke%3D%22%23ff3b30%22%20stroke-width%3D%221.2%22%20stroke-linecap%3D%22round%22%2F%3E%3Cpath%20d%3D%22M4%209C4%2010.3261%204.52678%2011.5979%205.46447%2012.5355C6.40215%2013.4732%207.67392%2014%209%2014C10.3261%2014%2011.5979%2013.4732%2012.5355%2012.5355C13.4732%2011.5979%2014%2010.3261%2014%209C14%207.67392%2013.4732%206.40215%2012.5355%205.46447C11.5979%204.52678%2010.3261%204%209%204C7.67392%204%206.40215%204.52678%205.46447%205.46447C4.52678%206.40215%204%207.67392%204%209V9Z%22%20stroke%3D%22%23ff3b30%22%20stroke-width%3D%221.2%22%2F%3E%3C%2Fsvg%3E",loadingIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FSpinner%402x%3C%2Ftitle%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpattern%20id%3D%22pattern-1%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20patternUnits%3D%22objectBoundingBox%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23image-2%22%3E%3C%2Fuse%3E%20%20%20%20%20%20%20%20%3C%2Fpattern%3E%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22image-2%22%20width%3D%2224%22%20height%3D%2224%22%20xlink%3Ahref%3D%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACH0lEQVRIDY2SyU0FQQxE57PDlThIAIkDSARARqRAJITACQ5ciYMr%2B1av6TfyDAPCUn27vVS5%2B89qGIaLYK1gvcd4sTGL5%2Bc6Ixe5FY0fQbVVDuBzAUt99kusJ7%2F2l0AdRKxarTWiFCWe%2BP8IcENvgwiEWBWZkKbmk41PVAnadP%2BBBAFFrP2HvIlyg%2FeAg%2BZzQGJNAWt1Yz%2BE6q23G0DCICQ0SZKwGc3kqWNuXwmJWRYvOX4iwCDkFPAKkVeAHGdFIa0wb88owHYmaeIMFCEHkX3EmwWcvRG9cDVQ4IlMSEATeYUSNoKdeGqQbwXbPf7xNMmPAm%2F9EDcKUYSImkskHHYDyPc6EHFzl6x%2BMpzeZjRgtRGxx5YdhoP4%2FQAhyO1L2GI81njYji2r%2Be54wVO9BnfBeXAZHAY%2BYZ1JerRPr18bKikELAD5Q3AfsP1ZP7%2FEXwVHAb3Ojny%2BsyQQAQbBUwfkgFr9D%2FhPTnuO%2FE2PWZzn20CAr0VUIUWeUwec2ZIZyPyK%2BJKIyZ0E1LnRdbDuE3k9PJgLIkyOGn8ecxD6FP7RLnyb2jH1JQHJ8RALl4AMovYE8YokbEtQd5GJAEkhuWLmIXFbBMwrQo0Ze0YBGmimuOTJ0SMRNxAImU%2FYTIEPnsgt9G6tmPlKIoEi%2BLrAt0xusiQgYfV1GHJsLlJ7rC%2FeQGIGiOeDDiPA5vT8doP2uUlY%2FRI5uWr1Bi4x7xm%2BABSc5FGl1EGyAAAAAElFTkSuQmCC%22%3E%3C%2Fimage%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FSpinner%22%20fill%3D%22url%28%23pattern-1%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.86827202%2C3.86827202%20C4.25879631%2C3.47774772%204.89196129%2C3.47774772%205.28248558%2C3.86827202%20L9.17157288%2C7.75735931%20C9.56209717%2C8.1478836%209.56209717%2C8.78104858%209.17157288%2C9.17157288%20C8.78104858%2C9.56209717%208.1478836%2C9.56209717%207.75735931%2C9.17157288%20L3.86827202%2C5.28248558%20C3.47774772%2C4.89196129%203.47774772%2C4.25879631%203.86827202%2C3.86827202%20Z%20M12%2C0.5%20C12.5522847%2C0.5%2013%2C0.94771525%2013%2C1.5%20L13%2C7%20C13%2C7.55228475%2012.5522847%2C8%2012%2C8%20C11.4477153%2C8%2011%2C7.55228475%2011%2C7%20L11%2C1.5%20C11%2C0.94771525%2011.4477153%2C0.5%2012%2C0.5%20Z%20M20.131728%2C3.86827202%20C20.5222523%2C4.25879631%2020.5222523%2C4.89196129%2020.131728%2C5.28248558%20L16.2426407%2C9.17157288%20C15.8521164%2C9.56209717%2015.2189514%2C9.56209717%2014.8284271%2C9.17157288%20C14.4379028%2C8.78104858%2014.4379028%2C8.1478836%2014.8284271%2C7.75735931%20L18.7175144%2C3.86827202%20C19.1080387%2C3.47774772%2019.7412037%2C3.47774772%2020.131728%2C3.86827202%20Z%20M23.5%2C12%20C23.5%2C12.5522847%2023.0522847%2C13%2022.5%2C13%20L17%2C13%20C16.4477153%2C13%2016%2C12.5522847%2016%2C12%20C16%2C11.4477153%2016.4477153%2C11%2017%2C11%20L22.5%2C11%20C23.0522847%2C11%2023.5%2C11.4477153%2023.5%2C12%20Z%20M20.131728%2C20.131728%20C19.7412037%2C20.5222523%2019.1080387%2C20.5222523%2018.7175144%2C20.131728%20L14.8284271%2C16.2426407%20C14.4379028%2C15.8521164%2014.4379028%2C15.2189514%2014.8284271%2C14.8284271%20C15.2189514%2C14.4379028%2015.8521164%2C14.4379028%2016.2426407%2C14.8284271%20L20.131728%2C18.7175144%20C20.5222523%2C19.1080387%2020.5222523%2C19.7412037%2020.131728%2C20.131728%20Z%20M12%2C23.5%20C11.4477153%2C23.5%2011%2C23.0522847%2011%2C22.5%20L11%2C17%20C11%2C16.4477153%2011.4477153%2C16%2012%2C16%20C12.5522847%2C16%2013%2C16.4477153%2013%2C17%20L13%2C22.5%20C13%2C23.0522847%2012.5522847%2C23.5%2012%2C23.5%20Z%20M3.86827202%2C20.131728%20C3.47774772%2C19.7412037%203.47774772%2C19.1080387%203.86827202%2C18.7175144%20L7.75735931%2C14.8284271%20C8.1478836%2C14.4379028%208.78104858%2C14.4379028%209.17157288%2C14.8284271%20C9.56209717%2C15.2189514%209.56209717%2C15.8521164%209.17157288%2C16.2426407%20L5.28248558%2C20.131728%20C4.89196129%2C20.5222523%204.25879631%2C20.5222523%203.86827202%2C20.131728%20Z%20M0.5%2C12%20C0.5%2C11.4477153%200.94771525%2C11%201.5%2C11%20L7%2C11%20C7.55228475%2C11%208%2C11.4477153%208%2C12%20C8%2C12.5522847%207.55228475%2C13%207%2C13%20L1.5%2C13%20C0.94771525%2C13%200.5%2C12.5522847%200.5%2C12%20Z%22%20id%3D%22Rectangle-2%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",alignment:n.MessageListAlignment.standard,showAvatar:!0,datePattern:n.DatePatterns.time,timestampAlignment:n.TimestampAlignment.bottom,DateSeparatorPattern:n.DatePatterns.DayDate,hideDateSeparator:!1,templates:[],messagesRequestBuilder:void 0,newMessageIndicatorText:"",scrollToBottomOnNewMessages:!1,thresholdValue:1e3,onThreadRepliesClick:()=>{},headerView:null,footerView:null,avatarStyle:{borderRadius:"24px",width:"36px",height:"36px"},dateSeparatorStyle:void 0,messageListStyle:{nameTextFont:"600 15px Inter, sans-serif",nameTextColor:"white",TimestampTextFont:"",TimestampTextColor:"",threadReplySeparatorColor:"",threadReplyTextFont:"",threadReplyIconTint:"",threadReplyTextColor:"",emptyStateTextFont:"700 22px Inter, sans-serif",emptyStateTextColor:"#bcbcbc",errorStateTextFont:"700 22px Inter, sans-serif",errorStateTextColor:"#bcbcbc",loadingIconTint:"grey"},onError:e=>{console.log(e)},hideError:!1,messageInformationConfiguration:new t.MessageInformationConfiguration({}),reactionsConfiguration:new t.ReactionsConfiguration({}),disableReactions:!1,emojiKeyboardStyle:{},threadIndicatorIcon:"data:image/svg+xml,%3Csvg%20width%3D%2215%22%20height%3D%2215%22%20viewBox%3D%220%200%2015%2015%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20clip-path%3D%22url%28%23clip0_10800_33104%29%22%3E%3Cpath%20d%3D%22M13.9906%201.69617C13.824%204.12358%2012.7401%206.39667%2010.959%208.05423C9.17776%209.71179%206.83266%2010.6296%204.39955%2010.6215C4.23748%2010.6215%203.84965%2010.6297%203.68799%2010.6215H1.03645%22%20stroke%3D%22%23A1A5AC%22%20stroke-width%3D%221.875%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M4.2041%207.43042L1.0094%2010.6251L4.2041%2013.8198%22%20stroke%3D%22%23A1A5AC%22%20stroke-width%3D%221.875%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fg%3E%3Cdefs%3E%3CclipPath%20id%3D%22clip0_10800_33104%22%3E%3Crect%20width%3D%2215%22%20height%3D%2215%22%20fill%3D%22white%22%20transform%3D%22matrix%28-1%200%200%201%2015%200%29%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E",disableMentions:!1,textFormatters:[]},Il=e=>{const{parentMessageId:i,user:a,group:l,emptyStateText:c,errorStateText:C,emptyStateView:d,errorStateView:u,loadingStateView:p,disableReceipt:h,disableSoundForMessages:m,customSoundForMessages:A,readIcon:x,deliveredIcon:b,sentIcon:y,waitIcon:f,errorIcon:w,loadingIconURL:D,alignment:E,showAvatar:v,datePattern:S,timestampAlignment:F,DateSeparatorPattern:k,hideDateSeparator:M,templates:B,messagesRequestBuilder:L,newMessageIndicatorText:R,scrollToBottomOnNewMessages:U,thresholdValue:P,onThreadRepliesClick:O,headerView:j,footerView:G,avatarStyle:V,dateSeparatorStyle:H,messageListStyle:Q,onError:N,hideError:K,messageInformationConfiguration:z,reactionsConfiguration:_,disableReactions:J,emojiKeyboardStyle:Y,threadIndicatorIcon:W,disableMentions:Z,textFormatters:X}=e,[q,$]=r.useState([]),[ee,te]=r.useState(!1),[ne,oe]=r.useState(!0),[re,se]=r.useState(n.States.loading),[ie,ae]=r.useState(!1),[le,ce]=r.useState(!1),[ue,he]=r.useState(null),[me,Ae]=r.useState(!1),[xe,be]=r.useState(!1),[ye,fe]=r.useState(null),[we,De]=ge(null),Ee=r.useRef({}),[ve,Ie]=r.useState(null),Fe=r.useRef(null),ke=r.useRef({prevMessageId:0,nextMessageId:0}),Te=r.useRef(0),Me=r.useRef([]),Be=r.useRef(""),Le=r.useRef(!1),{theme:Re}=r.useContext(T),Ue=r.useRef(null),Pe=Ce(a),Oe=Ce(l),je=r.useRef(null),Ge=de(N),[Ve,He]=r.useState(!1),Qe=r.useRef(!1),Ne=r.useRef(!1);let Ke=!0,ze=n.TimestampAlignment,_e=!1,Je=n.MessageBubbleAlignment.left;const Ye=r.useMemo((()=>B&&B.length>0?B:I.getDataSource().getAllMessageTemplates(Re,{disableMentions:Z,textFormatters:X})),[B,Re]),We=r.useMemo((()=>{let e={};return Ye.forEach((t=>{e[t.category+"_"+t.type]=t})),e}),[Ye]),Ze=r.useCallback((e=>{const t=e?.getReceiverId(),o=e?.getReceiverType();if(!i){if(e.getParentMessageId())return!1;if(a){if(o===n.CometChatUIKitConstants.MessageReceiverType.user&&t===a.getUid())return!0}else if(l&&o===n.CometChatUIKitConstants.MessageReceiverType.group&&t===l.getGuid())return!0;return!1}if(e.getParentMessageId()===i)return!0}),[i,a,l]),Xe=r.useCallback((e=>{const t=e?.getReceiverId(),o=e?.getReceiverType(),r=e?.getSender()?.getUid();if(!i){if(e.getParentMessageId())return!1;if(a){if(o===n.CometChatUIKitConstants.MessageReceiverType.user&&(t===a.getUid()||r===a.getUid()))return!0}else if(l&&o===n.CometChatUIKitConstants.MessageReceiverType.group&&t===l.getGuid())return!0;return!1}if(e.getParentMessageId()===i)return!0}),[l,i,a]),qe=r.useCallback((e=>{if(!e.getParentMessageId())return!1;const t=e?.getReceiverId();if(a){if(t===a.getUid())return!0}else if(l&&t===l.getGuid())return!0;return!1}),[l,a]),$e=r.useCallback((e=>{if(!e.getParentMessageId())return!1;const t=e?.getReceiverId(),n=e?.getSender()?.getUid();if(a){if(t===a.getUid()||n===a.getUid())return!0}else if(l&&t===l.getGuid())return!0;return!1}),[l,a]),et=r.useCallback((e=>{try{Ne.current=!1,oe(!1),O&&O(e,Bn)}catch(e){Ge(e)}}),[O,Ge,Ne]),tt=r.useCallback((e=>{try{Ne.current=!1,oe(!1),(e=>{he(e),ce(!0)})(e)}catch(e){Ge(e)}}),[Ge,Ne]),nt=r.useCallback((e=>{try{return q.find((t=>t?.getId()?.toString()===e?.toString()))}catch(e){Ge(e)}}),[q,Ge]),ot=r.useCallback((e=>{try{let t=nt(e);et(t)}catch(e){Ge(e)}}),[nt,et,Ge]),rt=r.useCallback((e=>{try{let t=nt(e);tt(t)}catch(e){Ge(e)}}),[nt,tt,Ge]),st=r.useCallback((e=>{void 0!==e&&(Ne.current=e,void 0!==we&&e&&we?.click())}),[Ne,we]),it=r.useCallback((e=>{try{let t=nt(e).getSender();n.CometChatUIEvents.ccOpenChat.next({user:t})}catch(e){Ge(e)}}),[nt,Ge]),at=r.useCallback((e=>{try{$((t=>t.map(((t,n)=>t?.getId()===e?.getId()?e:t)))),e.getParentMessageId()||(Te.current-=1)}catch(e){Ge(e)}}),[Ge,Te]),lt=r.useCallback((e=>{try{const t=e.getId();s.CometChat.deleteMessage(t).then((e=>{at(e),n.CometChatMessageEvents.ccMessageDeleted.next(e)}),(e=>{Ge(e)}))}catch(e){Ge(e)}}),[at,Ge]),ct=r.useCallback((e=>{try{let t=nt(e);t&&lt(t)}catch(e){Ge(e)}}),[Ge,lt,nt]),Ct=r.useCallback((e=>{try{n.CometChatMessageEvents.ccMessageEdited.next({message:e,status:n.MessageStatus.inprogress})}catch(e){Ge(e)}}),[Ge]),gt=r.useCallback((e=>{try{let t=nt(e);t&&Ct(t)}catch(e){Ge(e)}}),[nt,Ct,Ge]),dt=r.useCallback((e=>{try{let t=e.getText();!Z&&e.getMentionedUsers()&&e.getMentionedUsers().length&&(t=(e=>{const t=/<@uid:(.*?)>/g;let n=e.getText(),o=e.getText(),r=t.exec(n),s=e.getMentionedUsers();for(;null!==r;){let e;for(let t=0;t<s.length;t++)r[1]===s[t].getUid()&&(e=s[t]);e&&(o=o.replace(r[0],"@"+e.getName())),r=t.exec(n)}return o})(e)),navigator?.clipboard?.writeText(t)}catch(e){Ge(e)}}),[Ge]),ut=r.useCallback((e=>{try{let t=nt(e);t&&dt(t)}catch(e){Ge(e)}}),[nt,dt,Ge]),pt=r.useCallback((e=>{try{$((t=>t.map((t=>t.getMuid()===e.getMuid()?e:t))))}catch(e){Ge(e)}}),[Ge]),ht=r.useCallback((e=>{try{oe(!1),$((t=>t.map((t=>t?.getId()===e?.getId()?e:t))))}catch(e){Ge(e)}}),[Ge]),mt=r.useCallback(((e,t=!1)=>{try{t?(oe(!0),pt(e)):(oe(!1),ht(e))}catch(e){Ge(e)}}),[pt,ht,Ge,oe]),At=r.useCallback(((e,n)=>{const o=n?.getId(),r=nt(o),i=r?.getReactions()||[],a=i?.find((t=>t?.reaction===e));if(a&&a?.getReactedByMe()){const n=[];i.forEach((t=>{if(t?.getReaction()===e){if(1===t?.getCount())return;t.setCount(t?.getCount()-1),t.setReactedByMe(!1),n.push(t)}else n.push(t)}));const a=t.CometChatUIKitUtility.clone(r);a.setReactions(n),mt(a),s.CometChat.removeReaction(o,e).then((e=>{})).catch((e=>{mt(r),console.log(e)}))}else{const n=[],a=i.find((t=>t?.getReaction()===e));if(i.forEach((t=>{t?.getReaction()===e?(t.setCount(t?.getCount()+1),t.setReactedByMe(!0),n.push(t)):n.push(t)})),!a){const t=new s.CometChat.ReactionCount(e,1,!0);n.push(t)}const l=t.CometChatUIKitUtility.clone(r);l.setReactions(n),mt(l),s.CometChat.addReaction(o,e).then((e=>{})).catch((e=>{console.log(e),mt(r)}))}}),[nt,mt]),xt=r.useCallback((e=>{let t=Y,n=new o.EmojiKeyboardStyle({width:t?.width||"320px",height:t?.height||"300px",border:t?.border||"1px solid #e0e0e0",borderRadius:t?.borderRadius||"8px",activeIconTint:t?.activeIconTint,background:t?.background,iconTint:t?.iconTint,textColor:t?.textColor,textFont:t?.textFont});const r=nt(e);return e=>g.jsx(El,{emojiKeyboardStyle:n,style:{zIndex:"100"},onEmojiClick:t=>{e(t),At(t?.detail?.id,r)}})}),[Y,nt,At]),bt=r.useCallback(((e,t)=>{try{return e.forEach((e=>{switch(e.id){case n.CometChatUIKitConstants.MessageOption.deleteMessage:e.onClick||(e.onClick=ct);break;case n.CometChatUIKitConstants.MessageOption.editMessage:e.onClick||(e.onClick=gt);break;case n.CometChatUIKitConstants.MessageOption.copyMessage:e.onClick||(e.onClick=ut);break;case n.CometChatUIKitConstants.MessageOption.replyInThread:e.onClick||(e.onClick=ot);break;case n.CometChatUIKitConstants.MessageOption.messageInformation:e.onClick||(e.onClick=rt);break;case n.CometChatUIKitConstants.MessageOption.sendMessagePrivately:e.onClick||(e.onClick=it);break;case n.CometChatUIKitConstants.MessageOption.reactToMessage:e.onClick&&e.customView||(e.customView=xt(t))}})),e}catch(t){return Ge(t),e}}),[Ge,ct,gt,ot,ut,rt,it,xt]),yt=r.useCallback((e=>J?e.filter((e=>e.id!==n.CometChatUIKitConstants.MessageOption.reactToMessage)):e),[J]),ft=r.useCallback((e=>{let t=[];if(!e.getId())return t;try{return Ye&&Ye.length>0&&!e.getDeletedAt()&&e.getType()!==n.CometChatUIKitConstants.MessageTypes.groupMember&&e?.getCategory()!==n.CometChatUIKitConstants.MessageCategory.call&&Ye.forEach((n=>{n.type===e.getType()&&n.category===e.getCategory()&&(t=bt(n?.options?.(ve,e,Re,l),e?.getId()))})),t=yt(t),t}catch(e){return Ge(e),t}}),[Ye,yt,bt,ve,Re,l,Ge]),wt=r.useCallback((e=>{let t=n.MessageBubbleAlignment.center;try{return t=E===n.MessageListAlignment.left?n.MessageBubbleAlignment.left:e.type===n.CometChatUIKitConstants.MessageTypes.groupMember||e?.getCategory()==n.CometChatUIKitConstants.MessageCategory.call?n.MessageBubbleAlignment.center:!e.sender||e?.sender?.uid===ve?.getUid()&&e.type!==n.CometChatUIKitConstants.MessageTypes.groupMember?n.MessageBubbleAlignment.right:n.MessageBubbleAlignment.left,t}catch(e){return Ge(e),t}}),[E,Ge,ve]),Dt=r.useCallback((e=>{try{let t=wt(e);return We[e.category+"_"+e.type]&&We[e.category+"_"+e.type]?.contentView?We[e.category+"_"+e.type]?.contentView(e,t):null}catch(e){return Ge(e),null}}),[We,Ge,wt]),Et=r.useCallback((e=>{try{let t=wt(e);return We[e.category+"_"+e.type]&&We[e.category+"_"+e.type]?.bottomView?We[e.category+"_"+e.type]?.bottomView(e,t):null}catch(e){return Ge(e),null}}),[We,Ge,wt]),vt=r.useCallback((e=>{try{let t=null;return We[e.category+"_"+e.type]&&We[e.category+"_"+e.type]?.headerView&&(t=We[e.category+"_"+e.type]?.headerView(e)),t}catch(e){return Ge(e),null}}),[We,Ge]),St=r.useCallback((e=>{try{let t=null;return We[e.category+"_"+e.type]&&We[e.category+"_"+e.type]?.footerView&&(t=We[e.category+"_"+e.type]?.footerView(e)),t}catch(e){return Ge(e),null}}),[We,Ge]),It=r.useCallback((e=>{let t=null;try{return We[e.category+"_"+e.type]&&We[e.category+"_"+e.type].bubbleView&&(t=We[e.category+"_"+e.type].bubbleView(e)),t}catch(e){return Ge(e),t}}),[We,Ge]),Ft=r.useCallback((()=>{try{$(Ke?e=>e.slice(-30):e=>e.slice(0,30))}catch(e){Ge(e)}}),[Ge,Ke]),kt=r.useCallback((e=>new Promise(((t,o)=>{try{$((t=>[...e,...t])),Te.current=Te.current+e.length,se(n.States.loaded),Te.current>P&&(Ke=!1,Ft()),t(!0)}catch(e){q?.length<=0&&se(n.States.error),Ge(e),o(e)}}))),[P,Ft,Ge,Te]),Tt=r.useCallback((()=>new Promise((async(o,r)=>{try{se(n.States.loading);let a=0;if(Pe?.current){const e=await s.CometChat.getUnreadMessageCountForUser(Pe.current?.getUid());a=e[Pe.current?.getUid()]||0}if(Oe?.current){const e=await s.CometChat.getUnreadMessageCountForGroup(Oe.current?.getGuid());a=e[Oe.current?.getGuid()]||0}_e?o(!0):(_e=!0,Fe.current.previous||(Fe.current.previous=new wl(L,Pe.current,Oe.current,ke.current.prevMessageId,i)),Fe?.current.previous.fetchPreviousMessages().then((i=>{if(i&&i.length>0&&(i=i.map((e=>e.getCategory()===n.CometChatUIKitConstants.MessageCategory.interactive?t.InteractiveMessageUtils.convertInteractiveMessage(e):e))),Ve&&(n.CometChatUIEvents.ccActiveChatChanged.next({user:Pe.current,group:Oe.current,message:i.length>0?i[i.length-1]:void 0,unreadMessageCount:a}),He(!1),wl.attachConnectionListener((()=>{Qe.current=!0,Bt().then((()=>{Lt().then((e=>{o(e),Qe.current=!1}),(e=>{r(e)})).catch((t=>{e.onError&&e.onError(t)}))}))}))),_e=!1,i&&i.length>0){let e=i[i.length-1],t=e?.getSender().getUid()==ve?.getUid();e.getDeliveredAt()||h||t||s.CometChat.markAsDelivered(e).then((()=>{i.forEach((n=>(n?.getId()<=e?.getId()&&!t&&!n.getDeliveredAt()&&n.setDeliveredAt((new Date).getTime()),n)))})),e.getReadAt()||t||(h?Me.current=[]:s.CometChat.markAsRead(e).then((()=>{i.forEach((n=>(n?.getId()<=e?.getId()&&!t&&!n.getReadAt()&&n.setReadAt((new Date).getTime()),n))),n.CometChatMessageEvents.ccMessageRead.next(e)}))),kt(i).then((e=>{o(e)}),(e=>{r(e)}))}else 0===i.length&&0===Te.current&&se(n.States.empty),o(!0)}),(e=>{_e=!1,q?.length<=0&&se(n.States.error),Ge(e),r(e)})))}catch(e){Ge(e)}}))),[h,Ge,kt,ve,Te,Me,Ve]),Mt=r.useCallback((e=>new Promise(((t,o)=>{try{$((t=>[...t,..."string"==typeof e?Array.from(e):e])),Te.current=Te.current+e.length;let o=e[e.length-1]?.getId();if(o&&ke.current.prevMessageId!==o&&(ke.current.nextMessageId=o),U)setTimeout((()=>{oe(!0),Ne.current=!0}),100);else{if(Qe.current){oe(Ne.current);let t=e[e?.length-1];Ne.current&&t&&t.getSender().getUid()!=ve?.getUid()&&!t.getReadAt()&&s.CometChat.markAsRead(t).then((()=>{Me.current=[],n.CometChatMessageEvents.ccMessageRead.next(t)}))}else oe(!1);let t=R||(Me.current.length>1?n.localize("NEW_MESSAGES"):n.localize("NEW_MESSAGE"));Me.current.push(...e),Be.current=" ↓ "+Me.current.length+" "+t,Le.current=!0}se(n.States.loaded),Te.current>P&&(Ke=!0,Ft()),t(!0)}catch(e){q?.length<=0&&se(n.States.error),Ge(e),o(e)}}))),[P,Ft,Ge,Te,Ne]),Bt=()=>new Promise(((e,t)=>{let o=(new s.CometChat.MessagesRequestBuilder).setType(n.CometChatUIKitConstants.MessageCategory.message).setCategory(n.CometChatUIKitConstants.MessageCategory.action).setMessageId(ke.current.nextMessageId).setLimit(30);a?o.setUID(a.getUid()):l&&o.setGUID(l.getGuid()),o.build().fetchNext().then((t=>t&&t.length>0?(t.forEach((e=>{zt(e.getActionOn())})),e(!0)):e(!0))).catch((e=>(N&&N(e),q?.length<=0&&se(n.States.error),t(e))))})),Lt=r.useCallback((()=>new Promise(((e,o)=>{try{ke.current.nextMessageId?(Fe.current.next||(Fe.current.next=new wl(L,Pe.current,Oe.current,ke.current.nextMessageId,i)),se(n.States.loading),Fe?.current.next.fetchNextMessages().then((r=>{r&&r.length>0&&(r=r.map((e=>e.getCategory()===n.CometChatUIKitConstants.MessageCategory.interactive?t.InteractiveMessageUtils.convertInteractiveMessage(e):e))),r?0===r.length?(0===Te.current?se(n.States.empty):se(n.States.loaded),e(!0)):Mt(r).then((t=>{e(t)}),(e=>{o(e)})):e(!0)}),(e=>{q?.length<=0&&se(n.States.error),Ge(e),o(e)}))):e(!0)}catch(e){Ge(e)}}))),[Mt,Ge,Te,Oe,q?.length,L,Pe]),Rt=r.useCallback((e=>{try{$((t=>t.map((t=>t?.getId()===e.getParentMessageId()?(t.getReplyCount()?t.setReplyCount(t.getReplyCount()+1):t.setReplyCount(1),t):t))))}catch(e){Ge(e)}}),[Ge]),Ut=r.useCallback((t=>{try{$((e=>{let n=[...e],o=n.findIndex((e=>e.getId()===t.getParentMessageId()));if(o>-1){const t=n[o];n.splice(o,1,t),e=[...n]}return e}))}catch(t){e.onError&&new s.CometChat.CometChatException({message:t.message})}}),[e]),Pt=r.useCallback((e=>{try{Te.current+=1,Te.current>0&&re!=n.States.loaded&&se(n.States.loaded),$((t=>[...t,e])),Te.current>P&&(Ke=!0,Ft())}catch(e){Ge(e)}}),[P,Ge,i,Te]),Ot=r.useCallback((e=>{try{return t.MessageReceiptUtils.getReceiptStatus(e)}catch(e){Ge(e)}}),[Ge]);r.useCallback((e=>{try{h||e.getSender().getUid()===ve?.getUid()||e.getDeliveredAt()||s.CometChat.markAsDelivered(e).then((()=>{}),(e=>{Ge(e)}))}catch(e){Ge(e)}}),[h,Ge,ve]);const jt=r.useCallback((()=>{try{m||(A?t.CometChatSoundManager.play(t.CometChatSoundManager.Sound.incomingMessage,A):t.CometChatSoundManager.play(t.CometChatSoundManager.Sound.incomingMessage))}catch(e){Ge(e)}}),[m,A,Ge]),Gt=r.useCallback((e=>{s.CometChat.markAsRead(e).then((()=>{n.CometChatMessageEvents.ccMessageRead.next(e)}),(e=>{Ge(e)}))}),[Ge]),Vt=r.useCallback((e=>{h||e.getSender().getUid()===ve?.getUid()||Gt(e)}),[h,ve,Gt]),Ht=r.useCallback((e=>{let t=R||(Me.current.length>1?n.localize("NEW_MESSAGES"):n.localize("NEW_MESSAGE"));Me.current.push(e),Be.current=" ↓ "+Me.current.length+" "+t,Le.current=!0}),[R]),Qt=r.useCallback((e=>{try{$((t=>t.map((t=>(parseInt(t?.getId()?.toString())<=parseInt(e.getMessageId())&&t.getSender().getUid()===ve?.getUid()&&!t.getDeliveredAt()&&t.setDeliveredAt(e.getDeliveredAt()),t)))))}catch(e){Ge(e)}}),[Ge,ve]),Nt=r.useCallback((e=>{try{const t=[];$((o=>{const r=o.map((n=>(parseInt(n?.getId()?.toString())<=parseInt(e.getMessageId())&&n.getSender().getUid()===ve?.getUid()&&!n.getReadAt()&&(n.setReadAt(e.getReadAt()),parseInt(n?.getId()?.toString())===parseInt(e.getMessageId())&&t.push(n)),n)));return t.forEach((e=>{n.CometChatMessageEvents.ccMessageRead.next(e)})),r}))}catch(e){Ge(e)}}),[Ge,ve]),Kt=r.useCallback((e=>{try{e.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user&&e.getSender().getUid()===Pe.current?.getUid()&&e.getReceiver()===ve?.getUid()&&("delivery"===e.getReceiptType()?Qt(e):Nt(e))}catch(e){Ge(e)}}),[Qt,Nt,Ge,ve,Pe]),zt=r.useCallback((e=>{try{Xe(e)&&ht(e)}catch(e){Ge(e)}}),[ht,Ge,Xe]),_t=r.useCallback((e=>{ve.getUid()===e.getSender().getUid()&&$((n=>n.map((n=>{if(String(n.getId())===String(e.getMessageId())){const o=e.getInteractions();return n.setInteractions(o),t.InteractiveMessageUtils.convertInteractiveMessage(n)}return n}))))}),[ve]),Jt=r.useCallback(((e=!1)=>{(e||U)&&setTimeout((()=>{oe(!0),Ne.current=!0,Me.current=[]}),100)}),[U]),Yt=r.useCallback((e=>{try{Xe(e)?(Pt(e),U?(Jt(),Vt(e)):Ne.current?(Jt(!0),Vt(e)):(oe(!1),Ht(e))):$e(e)&&(Rt(e),Ut(e)),jt()}catch(e){Ge(e)}}),[Xe,$e,jt,Pt,U,Jt,Vt,Ht,Rt,Ut,Ge]),Wt=r.useCallback(((e,t)=>{try{t?.getGuid()===Oe?.current?.getGuid()&&(Pt(e),Ne.current?Jt(!0):U?Jt():(oe(!1),Ht(e)))}catch(e){Ge(e)}}),[Oe,Pt,U,Jt,Ht,Ge]),Zt=r.useCallback((e=>{const t=e?.getReceiverId(),o=e?.getReceiverType(),r=e?.getReaction()?.getReactedBy()?.getUid(),s=e?.getParentMessageId(),i=s&&String(s);if(i)return s===i;if(e.getParentMessageId())return!1;if(a){if(o===n.CometChatUIKitConstants.MessageReceiverType.user&&(t===a?.getUid()||r===a?.getUid()))return!0}else if(l&&o===n.CometChatUIKitConstants.MessageReceiverType.group&&t===l?.getGuid())return!0;return!1}),[l,a]),Xt=r.useCallback(((e,n)=>{if(!Zt(e))return!1;$((o=>{const r=o.findIndex((t=>t.getId().toString()===e.getReaction()?.getMessageId().toString()));if(-1===r)return o;const i=o[r];let a;a=n?s.CometChat.REACTION_ACTION.REACTION_ADDED:s.CometChat.REACTION_ACTION.REACTION_REMOVED;const l=s.CometChat.CometChatHelper.updateMessageWithReactionInfo(i,e.getReaction(),a);return o.map((e=>e.getId().toString()===l?.getId().toString()?t.CometChatUIKitUtility.clone(l):e))}))}),[Zt]),qt=r.useCallback((e=>{try{Xe(e)&&I.names.includes("calling")&&(Pt(e),Ne.current?Jt(!0):U?Jt():(oe(!1),Ht(e)))}catch(e){Ge(e)}}),[Xe,Pt,U,Jt,Ht,Ge]),$t=r.useCallback(((e="",t=null,o=null)=>{try{switch(e){case n.CometChatUIKitConstants.messages.TEXT_MESSAGE_RECEIVED:case n.CometChatUIKitConstants.messages.MEDIA_MESSAGE_RECEIVED:case n.CometChatUIKitConstants.messages.CUSTOM_MESSAGE_RECEIVED:case n.CometChatUIKitConstants.messages.INTERACTIVE_MESSAGE_RECEIVED:Yt(t);break;case n.CometChatUIKitConstants.messages.MESSAGE_DELIVERED:case n.CometChatUIKitConstants.messages.MESSAGE_READ:h||Kt(t);break;case n.CometChatUIKitConstants.messages.MESSAGE_DELETED:case n.CometChatUIKitConstants.messages.MESSAGE_EDITED:zt(t);break;case n.CometChatUIKitConstants.messages.MESSAGE_REACTION_ADDED:Xt(t,!0);break;case n.CometChatUIKitConstants.messages.MESSAGE_REACTION_REMOVED:Xt(t,!1);break;case n.CometChatUIKitConstants.groupMemberAction.SCOPE_CHANGE:case n.CometChatUIKitConstants.groupMemberAction.JOINED:case n.CometChatUIKitConstants.groupMemberAction.LEFT:case n.CometChatUIKitConstants.groupMemberAction.ADDED:case n.CometChatUIKitConstants.groupMemberAction.KICKED:case n.CometChatUIKitConstants.groupMemberAction.BANNED:case n.CometChatUIKitConstants.groupMemberAction.UNBANNED:o&&Wt(t,o);break;case n.CometChatUIKitConstants.messages.TRANSIENT_MESSAGE_RECEIVED:{let e=t,o=e.getData();(e.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user&&Pe.current&&e?.getSender().getUid()===Pe.current.getUid()&&e.getReceiverId()===ve?.getUid()&&"live_reaction"==o.type||e.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group&&Oe.current&&e.getReceiverId()===Oe.current.getGuid()&&e?.getSender().getUid()!==ve?.getUid()&&"live_reaction"==o.type)&&n.CometChatMessageEvents.ccLiveReaction.next(o.reaction);break}case n.CometChatUIKitConstants.messages.INTERACTION_GOAL_COMPLETED:_t(t);break;case"incoming":case"cancelled":case"rejected":case"accepted":qt(t)}}catch(e){Ge(e)}}),[Xt,_t,Yt,h,Kt,zt,Wt,Pe,ve,Oe,qt,Ge]),en=r.useCallback((()=>{we&&we?.click();const e=q[q.length-1];return Vt(e),new Promise(((e,t)=>{try{oe(!1),Ne.current=!0,Fe.current&&Fe.current.previous&&(Fe.current.previous=null),Lt().then((t=>{e(t)}),(e=>{t(e)}))}catch(e){Ge(e)}}))}),[we,q,Vt,Lt,Ge]),tn=r.useCallback((()=>new Promise(((e,t)=>{try{oe(!1),Ne.current=!1,Fe.current&&Fe.current.next&&(Fe.current.next=null),Tt().then((t=>{e(t)}),(e=>{t(e)}))}catch(e){Ge(e)}}))),[Tt,Ge,Ne]),nn=r.useCallback((e=>{Ee.current[e.getId()].current?.scrollIntoView({block:"center"})}),[Ee]),on=r.useCallback((()=>{try{Ne.current=!0,oe(!0);const e=Me.current[Me.current.length-1];e&&Gt(e),Me.current=[],Be.current&&(Be.current=""),Le.current&&(Le.current=!1)}catch(e){Ge(e)}}),[Gt,Ge]),rn=r.useCallback((e=>{$((e=>e.map((e=>(e?.getId(),e)))))}),[]),sn=r.useCallback((()=>{try{const e=n.CometChatUIEvents.ccShowOngoingCall.subscribe((e=>{ae(!0),fe(e.child)})),t=n.CometChatCallEvents.ccCallEnded.subscribe((e=>{ae(!1),fe(null),qt(e)})),o=n.CometChatCallEvents.ccCallRejected.subscribe((e=>{qt(e)})),r=n.CometChatCallEvents.ccOutgoingCall.subscribe((e=>{qt(e)})),s=n.CometChatCallEvents.ccCallAccepted.subscribe((e=>{qt(e)})),i=n.CometChatMessageEvents.ccMessageRead.subscribe((e=>{$e(e)&&rn(e.getParentMessageId())})),a=n.CometChatUIEvents.ccShowDialog.subscribe((e=>{Ue.current=e.child,Ae(!0)})),l=n.CometChatUIEvents.ccHideDialog.subscribe((()=>{Ue.current=null,Ae(!1)})),c=n.CometChatUIEvents.ccShowPanel.subscribe((e=>{e.position===n.PanelAlignment.messageListFooter&&(je.current=e.child,be(!0))})),C=n.CometChatUIEvents.ccHidePanel.subscribe((e=>{e===n.PanelAlignment.messageListFooter&&(je.current=null,be(!1),Le.current=!1)})),g=n.CometChatGroupEvents.ccGroupMemberAdded.subscribe((e=>{e.messages.map((t=>{Wt(t,e.userAddedIn)}))})),d=n.CometChatGroupEvents.ccGroupMemberBanned.subscribe((e=>{Wt(e.message,e.kickedFrom)})),u=n.CometChatGroupEvents.ccGroupMemberKicked.subscribe((e=>{Wt(e.message,e.kickedFrom)})),p=n.CometChatGroupEvents.ccGroupMemberScopeChanged.subscribe((e=>{Wt(e.message,e.group)})),h=n.CometChatGroupEvents.ccGroupLeft.subscribe((e=>{Wt(e.message,e.leftGroup)})),m=n.CometChatMessageEvents.ccMessageEdited.subscribe((e=>{e?.status===n.MessageStatus.success&&Ze(e.message)&&mt(e.message,!1)})),A=n.CometChatMessageEvents.ccMessageTranslated.subscribe((e=>{e?.status===n.MessageStatus.success&&Xe(e.message)&&(mt(e.message,!1),setTimeout((()=>{nn(e.message)}),100))})),x=n.CometChatMessageEvents.ccMessageSent.subscribe((e=>{let{message:t,status:o}=e;switch(o){case n.MessageStatus.inprogress:Ze(t)&&Pt(t);break;case n.MessageStatus.success:Ze(t)&&mt(t,!0),qe(t)&&Rt(t)}})),b=n.CometChatMessageEvents.onTextMessageReceived.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.TEXT_MESSAGE_RECEIVED,e)})),y=n.CometChatMessageEvents.onMediaMessageReceived.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.MEDIA_MESSAGE_RECEIVED,e)})),f=n.CometChatMessageEvents.onCustomMessageReceived.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.CUSTOM_MESSAGE_RECEIVED,e)})),w=n.CometChatMessageEvents.onFormMessageReceived.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.INTERACTIVE_MESSAGE_RECEIVED,e)})),D=n.CometChatMessageEvents.onSchedulerMessageReceived.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.INTERACTIVE_MESSAGE_RECEIVED,e)})),E=n.CometChatMessageEvents.onCardMessageReceived.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.INTERACTIVE_MESSAGE_RECEIVED,e)})),v=n.CometChatMessageEvents.onCustomInteractiveMessageReceived.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.INTERACTIVE_MESSAGE_RECEIVED,e)})),S=n.CometChatMessageEvents.onMessagesDelivered.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.MESSAGE_DELIVERED,e)})),I=n.CometChatMessageEvents.onMessagesRead.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.MESSAGE_READ,e)})),F=n.CometChatMessageEvents.onMessageDeleted.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.MESSAGE_DELETED,e)})),k=n.CometChatMessageEvents.onMessageEdited.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.MESSAGE_EDITED,e)})),T=n.CometChatMessageEvents.onTransientMessageReceived.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.TRANSIENT_MESSAGE_RECEIVED,e)})),M=n.CometChatMessageEvents.onInteractionGoalCompleted.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.INTERACTION_GOAL_COMPLETED,e)}));let B,L;return J||(B=n.CometChatMessageEvents.onMessageReactionAdded.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.MESSAGE_REACTION_ADDED,e)})),L=n.CometChatMessageEvents.onMessageReactionRemoved.subscribe((e=>{$t(n.CometChatUIKitConstants.messages.MESSAGE_REACTION_REMOVED,e)}))),()=>{try{m?.unsubscribe(),x?.unsubscribe(),g?.unsubscribe(),d?.unsubscribe(),u?.unsubscribe(),p?.unsubscribe(),h?.unsubscribe(),e?.unsubscribe(),r?.unsubscribe(),t?.unsubscribe(),o?.unsubscribe(),s?.unsubscribe(),a?.unsubscribe(),l?.unsubscribe(),c?.unsubscribe(),C?.unsubscribe(),A?.unsubscribe(),i?.unsubscribe(),b?.unsubscribe(),y?.unsubscribe(),f?.unsubscribe(),w?.unsubscribe(),D?.unsubscribe(),E?.unsubscribe(),v?.unsubscribe(),S?.unsubscribe(),I?.unsubscribe(),F?.unsubscribe(),k?.unsubscribe(),T?.unsubscribe(),M?.unsubscribe(),J||(B?.unsubscribe(),L?.unsubscribe())}catch(e){Ge(e)}}}catch(e){Ge(e)}}),[rn,J,qt,$e,mt,Wt,Ze,nn,Pt,qe,Rt,$t,Ge]);!function(e,t,n,o,i,a,l,c,C,g,d,u,p,h,m,A,x,b,y,f,w){r.useEffect((()=>{s.CometChat.getLoggedinUser().then((e=>{w(!0),e&&n(e)}),(e=>{h(e)}))}),[h,w,n]),r.useEffect((()=>{let e;return t&&(o.current={previous:new wl(l,c,C)},wl.attachListeners(a),e=g(),m([]),A(!0),y.current=!0,i(),b(!1),x.current=null),()=>{wl?.removeListeners?.(),e?.()}}),[c,C,t]),r.useEffect((()=>{u.current=p.length,p?.length>0&&(d.current.prevMessageId=p[0].id,d.current.nextMessageId=p[p.length-1].id)}),[p,d,u]),r.useEffect((()=>{p.forEach((t=>{e?.current[t.getId()]||(e.current[t.getId()]=r.createRef())}))}),[p,e])}(Ee,ve,Ie,Fe,Tt,$t,L,a,l,sn,ke,Te,q,Ge,$,oe,je,be,Ne,0,He);const an=r.useCallback(((e,t)=>{try{let n,o;return n=new Date(1e3*e),o=new Date(1e3*t),n.getDate()!==o.getDate()||n.getMonth()!==o.getMonth()||n.getFullYear()!==o.getFullYear()}catch(e){Ge(e)}}),[Ge]),ln=r.useMemo((()=>p?g.jsx("div",{className:"cc__messagelist__loadingview",children:g.jsx("span",{className:"cc__messagelist__customview--loading",children:p})}):g.jsx("div",{className:"cc__messagelist__loadingview",children:g.jsx("cometchat-loader",{iconURL:D,loaderStyle:JSON.stringify(tl(Q,Re))})})),[p,D,Q,Re]),cn=r.useMemo((()=>u?g.jsx("div",{className:"cc__messagelist__errorview",children:g.jsx("span",{className:"cc__messagelist__customview--error",children:u})}):g.jsx("div",{className:"cc__messagelist__errorview",children:g.jsx("cometchat-label",{labelStyle:JSON.stringify(nl(Q,Re)),text:C})})),[u,C,Q,Re]),Cn=r.useMemo((()=>d?g.jsx("div",{className:"cc__messagelist__emptyview",children:g.jsx("span",{className:"cc__messagelist__customview--empty",children:d})}):void 0),[d,c,Q,Re]),gn=r.useCallback((e=>E===n.MessageListAlignment.left||!(!Oe.current||e?.getCategory()===n.CometChatUIKitConstants.MessageCategory.action||!e?.getSender()||e?.getSender()?.getUid()===ve?.getUid()||E!==n.MessageListAlignment.standard)),[E,ve,Oe]),dn=r.useCallback((e=>e?.getCategory()!==n.CometChatUIKitConstants.MessageCategory.action&&e?.getCategory()!==n.CometChatUIKitConstants.MessageCategory.call&&v&&gn(e)?g.jsx("cometchat-avatar",{name:e?.getSender()?.getName(),avatarStyle:JSON.stringify(ol(V,Re)),image:e?.getSender()?.getAvatar()}):null),[v,V,gn,Re]),un=r.useCallback((e=>g.jsx(g.Fragment,{children:g.jsx("cometchat-date",{timestamp:e.getSentAt(),dateStyle:JSON.stringify(Xa(Q,Re)),pattern:S})})),[Q,S,Re]),pn=r.useCallback((e=>g.jsx(g.Fragment,{children:g.jsx("cometchat-label",{text:e?.getSender()?.getName(),labelStyle:JSON.stringify(qa(Re))})})),[Re]),hn=r.useCallback((e=>vt(e)?vt(e):e?.getCategory()!==n.CometChatUIKitConstants.MessageCategory.action&&e?.getCategory()!==n.CometChatUIKitConstants.MessageCategory.call&&(gn(e)||F===ze.top)?g.jsxs(g.Fragment,{children:[gn(e)?pn(e):null,F===ze.top?un(e):null]}):null),[F,un,gn,vt,pn,ze.top]),mn=r.useCallback((e=>F===ze.bottom&&e?.getCategory()!==n.CometChatUIKitConstants.MessageCategory.action&&e?.getCategory()!==n.CometChatUIKitConstants.MessageCategory.call?g.jsx("cometchat-date",{timestamp:e.getSentAt(),dateStyle:JSON.stringify(Xa(Q,Re)),pattern:S}):null),[F,Q,S,Re,ze.bottom]),An=r.useCallback((e=>h||e?.getSender()&&ve?.getUid()!==e?.getSender()?.getUid()||e?.getCategory()===n.CometChatUIKitConstants.MessageCategory.action||e?.getCategory()===n.CometChatUIKitConstants.MessageCategory.call?null:g.jsx("cometchat-receipt",{receiptStyle:JSON.stringify(Ya(Re,e)),receipt:Ot(e),waitIcon:f,sentIcon:y,deliveredIcon:b,readIcon:x,errorIcon:w})),[h,f,y,b,x,w,Ot,ve,Re]),xn=r.useCallback((()=>{const e=_?.reactionListConfiguration||{},r=(e=>new o.AvatarStyle({borderRadius:"50%",width:"35px",height:"35px",border:"none",backgroundColor:e.palette.getAccent700(),nameTextColor:e.palette.getAccent900(),backgroundSize:"cover",nameTextFont:n.fontHelper(e.typography.subtitle1),outerViewBorderWidth:"0",outerViewBorderRadius:"0",outerViewBorderColor:"",outerViewBorderSpacing:"0"}))(Re),s=(e=>new o.ListItemStyle({activeBackground:e.palette.getBackground(),hoverBackground:e.palette.getBackground(),titleFont:n.fontHelper(e.typography.subtitle1),titleColor:e.palette.getAccent(),separatorColor:e.palette.getAccent100()}))(Re),i=(e=>new t.ReactionListStyle({width:"320px",height:"300px",borderRadius:"12px",background:e.palette.getBackground(),border:"none",errorIconTint:e.palette.getAccent400(),loadingIconTint:e.palette.getAccent400(),sliderEmojiCountFont:n.fontHelper(e.typography.subtitle2),sliderEmojiFont:n.fontHelper(e.typography.subtitle1),subtitleTextColor:e.palette.getAccent500(),subtitleTextFont:n.fontHelper(e.typography.subtitle2),tailViewFont:n.fontHelper(e.typography.title1),dividerTint:e.palette.getAccent100(),sliderEmojiCountColor:e.palette.getAccent500(),activeEmojiBackground:e.palette.getAccent100()}))(Re);return new t.ReactionListConfiguration({avatarStyle:{...r,...e?.avatarStyle},errorIconURL:e?.errorIconURL||"",listItemStyle:{...s,...e?.listItemStyle},loadingIconURL:e?.loadingIconURL||"",reactionListStyle:{...i,...e?.reactionListStyle},reactionItemClicked:e?.reactionItemClicked||((e,t)=>{e?.getReactedBy()?.getUid()===ve?.getUid()&&At(e?.getReaction(),t)}),reactionsRequestBuilder:e?.reactionsRequestBuilder||void 0})}),[ve,_,At,Re]),bn=r.useCallback((()=>{const e=_?.reactionInfoConfiguration||{},o=((e,o)=>new t.ReactionInfoStyle({background:o?.reactionInfoStyle?.background||e.palette.getAccent(),border:o?.reactionInfoStyle?.border||"none",borderRadius:o?.reactionInfoStyle?.borderRadius||"12px",errorIconTint:o?.reactionInfoStyle?.errorIconTint||e.palette.getBackground(),loadingIconTint:o?.reactionInfoStyle?.loadingIconTint||e.palette.getBackground(),namesColor:o?.reactionInfoStyle?.namesColor||e.palette.getBackground(),namesFont:o?.reactionInfoStyle?.namesFont||n.fontHelper(e.typography.subtitle2),reactedTextColor:o?.reactionInfoStyle?.reactedTextColor||e.palette.getAccent700("dark"),reactedTextFont:o?.reactionInfoStyle?.reactedTextFont||n.fontHelper(e.typography.subtitle2),reactionFontSize:o?.reactionInfoStyle?.reactionFontSize||"37px"}))(Re,e);return new t.ReactionInfoConfiguration({reactionInfoStyle:o,reactionsRequestBuilder:e?.reactionsRequestBuilder||void 0,errorIconURL:e?.errorIconURL||"",loadingIconURL:e?.loadingIconURL||""})}),[_,Re]),yn=r.useCallback((e=>{const o=e?.getReactions()||[],r=wt(e);if(o&&o.length>0&&!J){const o=((e={},o)=>new t.ReactionsStyle({height:e?.height||"100%",width:e?.width||"fit-content",border:e?.border||"none",borderRadius:e?.borderRadius||"0",background:e?.background||"transparent",activeReactionBackground:e?.activeReactionBackground||o.palette.getPrimary150(),reactionBackground:e?.reactionBackground||o.palette.getAccent100(),reactionBorder:e?.reactionBorder||"none",activeReactionBorder:e?.activeReactionBorder||`1px solid ${o.palette.getPrimary500()}`,reactionBorderRadius:e?.reactionBorderRadius||"20px",activeReactionCountTextColor:e?.activeReactionCountTextColor||o.palette.getAccent(),activeReactionCountTextFont:e?.activeReactionCountTextFont||n.fontHelper(o.typography.caption1),reactionCountTextFont:e?.reactionCountTextFont||n.fontHelper(o.typography.caption1),reactionCountTextColor:e?.reactionCountTextColor||o.palette.getAccent(),reactionBoxShadow:e?.reactionBoxShadow||"rgba(0, 0, 0, 0.1) 0px 4px 12px",reactionEmojiFont:e?.reactionEmojiFont||n.fontHelper(o.typography.subtitle1),baseReactionBackground:e?.baseReactionBackground||o.palette.getBackground()}))(_?.reactionsStyle,Re);return g.jsx(Dl,{messageObject:e,alignment:r,reactionsStyle:o,hoverDebounceTime:500,reactionClick:(e,t)=>{_?.reactionClick?_?.reactionClick(e,t):At(e?.getReaction(),t)},reactionListConfiguration:xn(),reactionInfoConfiguration:bn(),style:{width:"100%",padding:"5px 0px",boxSizing:"border-box",display:"flex",marginTop:"-9px",justifyContent:r===n.MessageBubbleAlignment.left?"flex-start":"flex-end"}})}return null}),[J,bn,xn,At,_,wt,Re]),fn=r.useCallback((e=>St(e)?g.jsx("div",{className:"cc-message-bubble__footer",style:Za(wt(e)),children:St(e)}):g.jsx("div",{className:"cc-message-bubble__footer",style:Za(wt(e)),children:yn(e)})),[yn,St,wt]),wn=r.useCallback((e=>{if(e?.getReplyCount()&&!e?.getDeletedAt()){const t=wt(e),o=W;return g.jsx("div",{className:"cc-message-bubble__thread-replies",children:g.jsx(vl,{text:Mn(e),hoverText:Mn(e),buttonStyle:za(e,Re,ve,Q),mirrorIcon:t===n.MessageBubbleAlignment.left,iconURL:o,buttonClick:()=>{et(e)}})})}}),[wt,W,Re,ve,Q,et]),Dn=e=>{const t=e?.getType();return[n.CometChatUIKitConstants.MessageTypes.image,n.CometChatUIKitConstants.MessageTypes.video].includes(t)},En=r.useCallback((e=>{try{let t=wt(e);return We[e.category+"_"+e.type]&&We[e.category+"_"+e.type]?.statusInfoView?We[e.category+"_"+e.type]?.statusInfoView(e,t):e?.getDeletedAt()||e instanceof s.CometChat.Action||e instanceof s.CometChat.Call?null:g.jsx("div",{style:{position:"relative",display:"flex",justifyContent:"flex-end"},children:g.jsxs("div",{className:"cc-message-bubble__statusInfo",style:Wa(Dn(e),Re,e,wt(e)),children:[mn(e),An(e)]})})}catch(e){return Ge(e),null}}),[mn,An,We,Ge,wt]),vn=r.useCallback(((e,t)=>g.jsx(Se,{setRef:t=>{Ee.current[e.getId()]=t},leadingView:dn(e),headerView:hn(e),footerView:fn(e),contentView:Dt(e),bottomView:Et(e),id:e?.getId()||e?.getMuid(),options:ft(e),messageBubbleStyle:Ja(e,Re,E,ve),alignment:wt(e),replyView:null,threadView:wn(e),statusInfoView:En(e)})),[dn,hn,fn,Dt,E,wt,wn,En,ft,ve,Et,Re]),Sn=r.useCallback(((e,t)=>0===t||an(q[t-1]?.getSentAt(),e?.getSentAt())?g.jsx("div",{className:"cc-message-list__date-container",style:{display:"flex",justifyContent:"center",width:"100%",marginBottom:"16px"},children:g.jsx("cometchat-date",{timestamp:e.getSentAt(),pattern:k,dateStyle:JSON.stringify($a(H,Re))})},`${e.getId()}-${e.getSentAt()}`):null),[k,q,H,an,Re]),In=r.useCallback(((e,t)=>{let n=wt(e);return g.jsxs(g.Fragment,{children:[M?g.jsx(g.Fragment,{}):Sn(e,t),g.jsx("div",{className:"cc-message-list__bubble",style:rl(n),children:It(e)?It(e):vn(e,t)},e.getId())]})}),[It,Sn,vn,wt]),Fn=r.useCallback(((e,t)=>g.jsx(Se,{leadingView:dn(e),headerView:hn(e),footerView:null,contentView:Dt(e),bottomView:null,statusInfoView:null,id:e?.getId()||e?.getMuid(),options:[],messageBubbleStyle:Ja(e,Re,E,ve),alignment:wt(e),replyView:null,threadView:null})),[dn,hn,Dt,E,wt,ve,Re]),kn=r.useCallback(((e,t)=>g.jsx("div",{className:"cc__messagelist__bubble",style:sl,children:It(e)?It(e):Fn(e,t)},e.getId())),[It,Sn,vn,Fn]),Tn=r.useCallback((()=>g.jsxs(g.Fragment,{children:[je.current?je.current:null,G&&!je.current?G:null]})),[je.current,G,ee,on]),Mn=e=>{const t=e?.getReplyCount()||0;return`${t} ${1===t?n.localize("REPLY"):n.localize("REPLIES")}`},Bn=r.useCallback((e=>g.jsx(g.Fragment,{children:It(e)?It(e):g.jsx(Se,{leadingView:dn(e),headerView:hn(e),footerView:null,contentView:Dt(e),bottomView:Et(e),statusInfoView:En(e),id:e?.getId()||e?.getMuid(),messageBubbleStyle:Ja(e,Re,E,ve),alignment:Je,replyView:null,threadView:null,options:[]})})),[dn,hn,fn,Dt,E,ft,It,ve,Et,Re,Je]),Ln=r.useMemo((()=>function(e,t){return In(e,t)}),[In]),Rn=r.useCallback((()=>re),[re,Te]);return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"cc-message-list__wrapper",style:Ka(Q,Re),children:[g.jsx("div",{className:"cc-message-list__header-view",style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",width:"100%",height:"auto"},children:j||null}),g.jsxs("div",{className:"cc-message-list",style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",overflowX:"hidden",boxSizing:"border-box"},children:[g.jsx(pe,{scrolledUpCallback:st,title:"",hideSearch:!0,showSectionHeader:!1,list:q,listItem:Ln,onScrolledToBottom:en,onScrolledToTop:tn,listItemKey:"getMuid",state:Rn(),loadingView:ln,loadingIconURL:D,hideError:K,errorStateView:cn,errorStateText:C,emptyStateView:Cn,emptyStateText:void 0,scrollToBottom:ne,theme:Re,listStyle:new t.ListStyle({height:"100%",width:"100%",background:"inherit"})}),Le.current&&Me.current&&Me.current.length>0&&!Ne.current?g.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:g.jsx("div",{className:"cc-message-list__message-indicator",style:{height:"25px",width:"150px"},children:g.jsx("cometchat-button",{ref:De,text:Be.current,buttonStyle:JSON.stringify(_a(Re)),onClick:on})})}):null]}),g.jsx("div",{className:"cc-message-list__footer-view",style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",width:"100%",height:"auto"},children:Tn()})]}),ie?ye:null,me&&Ue.current?Ue.current:null,le&&null!==ue&&g.jsx(yl,{message:ue,bubbleView:z?.bubbleView||kn,onClose:z?.onClose||(()=>{ce(!1)}),template:(Un=ue,We[Un?.getCategory()+"_"+Un?.getType()]),loadingStateView:z?.loadingStateView,errorStateView:z?.errorStateView,listItemStyle:z?.listItemStyle,emptyStateView:z?.emptyStateView,loadingIconURL:z?.loadingIconURL,readIcon:z?.readIcon,deliveredIcon:z?.deliveredIcon,onError:z?.onError,subtitleView:z?.subtitleView,listItemView:z?.listItemView,messageInformationStyle:z?.messageInformationStyle,closeIconURL:z?.closeIconURL||"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",receiptDatePattern:z?.receiptDatePattern})]});var Un};Il.defaultProps=Sl;const Fl=e=>({height:"36px",padding:"8px 16px",boxSizing:"border-box",border:`1px solid ${e.palette.getAccent100()}`}),kl=e=>({height:"100%",width:"100%",border:"0 none",borderRadius:"0",background:`${e.palette.getBackground()}`,buttonTextFont:`${n.fontHelper(e.typography.subtitle1)}`,buttonTextColor:`${e.palette.getAccent600()}`});var Tl="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";const Ml={width:"100%",height:"100%",background:"white",borderRadius:"none",border:"1px solid rgba(20, 20, 20, 0.1)",titleColor:"rgba(20, 20, 20)",titleFont:"700 22px Inter",closeIconTint:"#3399FF"},Bl={textFont:"700 22px Inter",textColor:"black",background:"transparent"},Ll={height:"24px",width:"24px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:"#7dbfff"},Rl=e=>{const{parentMessage:o,title:i=n.localize("THREAD"),closeIconURL:a=Tl,bubbleView:l=null,messageActionView:c=null,onError:C,onClose:d=(()=>{}),threadedMessagesStyle:u=Ml,messageListConfiguration:p=new t.MessageListConfiguration({}),messageComposerConfiguration:h=new t.MessageComposerConfiguration({})}=e,{theme:m}=r.useContext(T),[A,x]=r.useState(o),[b,y]=r.useState(0),f=r.useRef(u);let w=new t.ThreadedMessagesStyle({width:"100%",height:"100%",background:m.palette.getBackground(),borderRadius:"none",border:"none",titleColor:m.palette.getAccent(),titleFont:n.fontHelper(m.typography.title1),closeIconTint:m.palette.getPrimary()});f.current={...w,...u},Bl.textFont=f?.current?.titleFont||n.fontHelper(m.typography.title1),Bl.textColor=f?.current?.titleColor||m.palette.getAccent(),Bl.background="transparent",Ll.buttonIconTint=f?.current?.closeIconTint||m.palette.getPrimary();const[D,E]=r.useState(null),v=de(C),S=r.useMemo((()=>{if(D&&o?.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.user)return o?.getSender()?.getUid()===D?.getUid()?o?.getReceiver():o?.getSender()}),[o,D]),F=r.useMemo((()=>{if(D&&o?.getReceiverType()===n.CometChatUIKitConstants.MessageReceiverType.group)return o?.getReceiver()}),[D,o]),k=A.getId(),M=r.useMemo((()=>(new s.CometChat.MessagesRequestBuilder).setCategories(I.getDataSource().getAllMessageCategories()).setTypes(I.getDataSource().getAllMessageTypes()).hideReplies(!0).setLimit(20).setParentMessageId(k)),[k]),B=r.useCallback((e=>{try{Number(e?.getMessageId())===k&&(e?.getReadAt()?x((n=>{const o=t.CometChatUIKitUtility.clone(n);return o?.setReadAt(e?.getReadAt()),o})):e?.getDeliveredAt()&&x((n=>{const o=t.CometChatUIKitUtility.clone(n);return o?.setReadAt(e?.getDeliveredAt()),o})))}catch(e){v(e)}}),[k,x,v]),L=r.useCallback((e=>{try{k===e?.getId()&&x((n=>t.CometChatUIKitUtility.clone(e)))}catch(e){v(e)}}),[k,x,v]),R=r.useCallback((()=>{const e=n.CometChatMessageEvents.onMessagesDelivered.subscribe((e=>{B(e)})),t=n.CometChatMessageEvents.onMessagesRead.subscribe((e=>{B(e)})),r=n.CometChatMessageEvents.onMessageDeleted.subscribe((e=>{L(e)})),s=n.CometChatMessageEvents.onMessageEdited.subscribe((e=>{L(e)})),i=n.CometChatMessageEvents.onTextMessageReceived.subscribe((e=>{e?.getParentMessageId()&&e.getParentMessageId()==o.getId()&&y((e=>e+1))})),a=n.CometChatMessageEvents.onMediaMessageReceived.subscribe((e=>{e?.getParentMessageId()&&e.getParentMessageId()==o.getId()&&y((e=>e+1))})),l=n.CometChatMessageEvents.onCustomMessageReceived.subscribe((e=>{e?.getParentMessageId()&&e.getParentMessageId()==o.getId()&&y((e=>e+1))})),c=n.CometChatMessageEvents.onFormMessageReceived.subscribe((e=>{e?.getParentMessageId()&&e.getParentMessageId()==o.getId()&&y((e=>e+1))})),C=n.CometChatMessageEvents.onSchedulerMessageReceived.subscribe((e=>{e?.getParentMessageId()&&e.getParentMessageId()==o.getId()&&y((e=>e+1))})),g=n.CometChatMessageEvents.onCardMessageReceived.subscribe((e=>{e?.getParentMessageId()&&e.getParentMessageId()==o.getId()&&y((e=>e+1))})),d=n.CometChatMessageEvents.onCustomInteractiveMessageReceived.subscribe((e=>{e?.getParentMessageId()&&e.getParentMessageId()==o.getId()&&y((e=>e+1))}));return()=>{e?.unsubscribe(),t?.unsubscribe(),r?.unsubscribe(),s?.unsubscribe(),i?.unsubscribe(),a?.unsubscribe(),l?.unsubscribe(),c?.unsubscribe(),C?.unsubscribe(),g?.unsubscribe(),d?.unsubscribe()}}),[B,L,o]),U=r.useCallback((()=>{try{const e=n.CometChatMessageEvents.ccMessageSent.subscribe((({status:e,message:t})=>{e===n.MessageStatus.success&&t?.getParentMessageId()===A?.getId()&&y((e=>e+1))})),o=n.CometChatMessageEvents.ccMessageEdited.subscribe((({status:e,message:o})=>{e===n.MessageStatus.success&&o?.getId()===A?.getId()&&x((e=>t.CometChatUIKitUtility.clone(o)))})),r=n.CometChatMessageEvents.ccMessageDeleted.subscribe((e=>{e?.getId()===A?.getId()&&x((n=>t.CometChatUIKitUtility.clone(e)))})),s=n.CometChatMessageEvents.ccMessageRead.subscribe((e=>{e?.getId()===A?.getId()&&x((n=>{const o=t.CometChatUIKitUtility.clone(n);return o?.setReadAt(e?.getReadAt()),o}))}));return()=>{try{r?.unsubscribe(),o?.unsubscribe(),s?.unsubscribe(),e?.unsubscribe()}catch(e){v(e)}}}catch(e){v(e)}}),[A,x,v]),P=r.useCallback((()=>{d()}),[d]),O=r.useCallback((()=>{try{const e=b||0;return`${e} ${1===e?n.localize("REPLY"):n.localize("REPLIES")}`}catch(e){v(e)}}),[v,b]),j=r.useCallback((()=>l&&A?l(A):null),[A,l]);return function(e,t,n,o,i,a,l){r.useEffect((()=>{s.CometChat.getLoggedinUser().then((e=>{t(e)}),(e=>{i(e)}))}),[t,i]),r.useEffect((()=>{if(e){const e=n(),t=o();return()=>{e(),t()}}}),[e,n,o]),r.useEffect((()=>{void 0===a?.getReplyCount()?l(0):l(a?.getReplyCount())}),[a,l])}(D,E,R,U,v,o,y),g.jsxs("div",{className:"cc-threaded-messages__wrapper",style:{background:f?.current?.background||m.palette.getBackground(),height:f?.current?.height,width:f?.current?.width,border:f?.current?.border,borderRadius:f?.current?.borderRadius,display:"flex",flexDirection:"column",height:"100%",boxSizing:"border-box"},children:[g.jsxs("div",{className:"cc-threaded-messages__header",style:{padding:"16px",width:"100%",display:"flex",boxSizing:"border-box"},children:[g.jsx("div",{className:"cc-threaded-messages__title",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"calc(100% - 24px)"},children:g.jsx("cometchat-label",{text:i,labelStyle:JSON.stringify(Bl)})}),g.jsx("div",{className:"cc-threaded-messages__close",style:{display:"flex",alignItems:"center",width:"24px"},children:g.jsx("cometchat-button",{iconURL:a,buttonStyle:JSON.stringify(Ll),onClick:P})})]}),g.jsxs("div",{className:"cc-threaded-messages",style:{width:"100%",height:"calc(100% - 156px)",display:"flex",flexDirection:"column"},children:[g.jsx("div",{className:"cc-threaded-messages__bubbleview",style:{width:"100%",height:"fit-content",padding:"8px 16px",boxSizing:"border-box",maxHeight:"20em",overflow:"hidden scroll"},children:j()}),g.jsx("div",{className:"cc-threaded-messages__actionview",style:Fl(m),children:c||g.jsx("cometchat-button",{text:O(),buttonStyle:JSON.stringify(kl(m))})}),g.jsx("div",{className:"cc-threaded-messages__list",style:{height:"100%",overflow:"hidden",width:"100%"},children:g.jsx(Il,{parentMessageId:A?.getId(),user:S,group:F,emptyStateView:p?.emptyStateView,loadingStateView:p?.loadingStateView,errorStateView:p?.errorStateView,disableReceipt:p?.disableReceipt,readIcon:p?.readIcon,deliveredIcon:p?.deliveredIcon,sentIcon:p?.sentIcon,waitIcon:p?.waitIcon,errorIcon:p?.errorIcon,alignment:p?.alignment,showAvatar:p?.showAvatar,datePattern:p?.datePattern,timestampAlignment:p?.timestampAlignment,DateSeparatorPattern:p?.DateSeparatorPattern,templates:p?.templates,messagesRequestBuilder:p?.messagesRequestBuilder||M,thresholdValue:p?.thresholdValue,onThreadRepliesClick:p?.onThreadRepliesClick,headerView:p?.headerView,footerView:p?.footerView,avatarStyle:p?.avatarStyle,dateSeparatorStyle:p?.dateSeparatorStyle,messageListStyle:p?.messageListStyle,onError:p?.onError,disableMentions:p?.disableMentions,hideDateSeparator:p?.hideDateSeparator,reactionsConfiguration:p?.reactionsConfiguration,disableReactions:p?.disableReactions,emojiKeyboardStyle:p?.emojiKeyboardStyle,threadIndicatorIcon:p?.threadIndicatorIcon,textFormatters:p?.textFormatters})})]}),g.jsx("div",{className:"cc-threaded-messages__composer",style:{height:"fit-content",width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",minHeight:"90px"},children:g.jsx(Ua,{parentMessageId:A?.getId(),user:S,group:F,text:h?.text,headerView:h?.headerView,onTextChange:h?.onTextChange,attachmentIconURL:h?.attachmentIconURL,attachmentOptions:h?.attachmentOptions,secondaryButtonView:h?.secondaryButtonView,auxiliaryButtonView:h?.auxilaryButtonView,auxiliaryButtonAlignment:h?.auxiliaryButtonsAlignment,sendButtonView:h?.sendButtonView,hideLiveReaction:h?.hideLiveReaction,LiveReactionIconURL:h?.LiveReactionIconURL,messageComposerStyle:h?.messageComposerStyle,onSendButtonClick:h?.onSendButtonClick,onError:h?.onError,hideVoiceRecording:h?.hideVoiceRecording,voiceRecordingStartIconURL:h?.voiceRecordingStartIconURL,voiceRecordingCloseIconURL:h?.voiceRecordingCloseIconURL,voiceRecordingStopIconURL:h?.voiceRecordingStopIconURL,voiceRecordingSubmitIconURL:h?.voiceRecordingSubmitIconURL,AIOptionsStyle:h?.AIOptionsStyle,AIIconURL:h?.AIIconURL,userMemberWrapperConfiguration:h?.userMemberWrapperConfiguration,textFormatters:h.textFormatters||[],disableMentions:h?.disableMentions,mentionsWarningText:h?.mentionsWarningText,mentionsWarningStyle:h?.mentionsWarningStyle})})]})};const Ul={user:void 0,group:void 0,hideMessageComposer:!1,disableTyping:!1,messageHeaderConfiguration:new t.MessageHeaderConfiguration({}),messageListConfiguration:new t.MessageListConfiguration({}),messageComposerConfiguration:new t.MessageComposerConfiguration({}),threadedMessagesConfiguration:new t.ThreadedMessagesConfiguration({}),detailsConfiguration:new t.DetailsConfiguration({}),customSoundForIncomingMessages:"",customSoundForOutgoingMessages:"",disableSoundForMessages:!1,messagesStyle:new t.MessagesStyle({width:"100%",height:"100%",background:"white",borderRadius:"none",border:"1px solid rgba(20, 20, 20, 0.1)",messageTextColor:"rgba(20, 20, 20, 0.33)",messageTextFont:"700 22px Inter"}),messageHeaderView:null,messageComposerView:null,messageListView:null,hideMessageHeader:!1,hideDetails:!1,auxiliaryMenu:null},Pl={height:"24px",width:"24px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:"#3399FF",padding:0},Ol=e=>{const{theme:t}=r.useContext(T),{user:o,group:i,hideMessageComposer:a,disableTyping:l,messageHeaderConfiguration:c,messageListConfiguration:C,messageComposerConfiguration:d,threadedMessagesConfiguration:u,detailsConfiguration:p,customSoundForIncomingMessages:h,customSoundForOutgoingMessages:m,disableSoundForMessages:A,messagesStyle:x,messageHeaderView:b,messageComposerView:y,messageListView:f,hideMessageHeader:w,hideDetails:D,auxiliaryMenu:E}=e,[v,S]=r.useState(null),[F,k]=r.useState(o),[M,B]=r.useState(i),L=r.useRef(null),R=r.useRef(null),U=r.useRef(null),[P,O]=r.useState(!1),[j,G]=r.useState(!1),[V,H]=r.useState(!1),[Q,N]=r.useState(!1),K=r.useRef(null);let z=r.useMemo((()=>o?(new s.CometChat.MessagesRequestBuilder).setUID(o.getUid()).setCategories(I.getDataSource().getAllMessageCategories()).setTypes(I.getDataSource().getAllMessageTypes()).setLimit(20).hideReplies(!0):i?(new s.CometChat.MessagesRequestBuilder).setGUID(i.getGuid()).setCategories(I.getDataSource().getAllMessageCategories()).setTypes(I.getDataSource().getAllMessageTypes()).setLimit(20).hideReplies(!0):void 0),[o,i]),_="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FInfo%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FInfo%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22streamline-icon-information-circle%4024x24%22%20transform%3D%22translate%282.000000%2C%202.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M12%2C14%20L11.3333333%2C14%20C10.5969537%2C14%2010%2C13.4030463%2010%2C12.6666667%20L10%2C9.33333333%20C10%2C8.9651435%209.70152317%2C8.66666667%209.33333333%2C8.66666667%20L8.66666667%2C8.66666667%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9.66666667%2C5.33333333%20C9.48257175%2C5.33333333%209.33333333%2C5.48257175%209.33333333%2C5.66666667%20C9.33333333%2C5.85076158%209.48257175%2C6%209.66666667%2C6%20C9.85076158%2C6%2010%2C5.85076158%2010%2C5.66666667%20C10%2C5.48257175%209.85076158%2C5.33333333%209.66666667%2C5.33333333%20L9.66666667%2C5.33333333%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%2C10%20C0%2C15.5228475%204.4771525%2C20%2010%2C20%20C15.5228475%2C20%2020%2C15.5228475%2020%2C10%20C20%2C4.4771525%2015.5228475%2C0%2010%2C0%20C4.4771525%2C0%200%2C4.4771525%200%2C10%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";const J=r.useCallback((e=>{P?O(!1):(O(!0),setTimeout((()=>{O(!1)}),1500))}),[P,O]),Y=r.useCallback((()=>{try{const e=n.CometChatMessageEvents.ccLiveReaction.subscribe((e=>{e&&"heart"===e&&J(e)})),t=n.CometChatGroupEvents.ccGroupDeleted.subscribe((e=>{M&&M.getGuid()===i?.getGuid()&&(G(!1),H(!1),B(e))})),o=n.CometChatGroupEvents.ccGroupLeft.subscribe((e=>{M?.getGuid()===e.leftGroup.getGuid()&&(v?.getUid()===e?.userLeft.getUid()&&(G(!1),H(!1)),B(e.leftGroup))})),r=n.CometChatUserEvents.ccUserBlocked.subscribe((e=>{F?.getUid()===e.getUid()&&(e.setBlockedByMe(!0),k(e))})),s=n.CometChatUserEvents.ccUserUnblocked.subscribe((e=>{F?.getUid()===e.getUid()&&(e.setBlockedByMe(!1),k(e))})),a=n.CometChatUIEvents.ccShowPanel.subscribe((e=>{e.position===n.PanelAlignment.messages&&(K.current=e.child,N(!0))})),l=n.CometChatUIEvents.ccHidePanel.subscribe((e=>{e===n.PanelAlignment.messages&&(K.current=null,N(!1))}));return()=>{try{e?.unsubscribe(),t?.unsubscribe(),o?.unsubscribe(),r?.unsubscribe(),s?.unsubscribe(),a?.unsubscribe(),l?.unsubscribe()}catch(e){console.log("error",e)}}}catch(e){console.log("error",e)}}),[J,G,H,M,F,v,i]),W=(e,t)=>{R.current=e,U.current=t,H(!0)},Z=()=>G(!0),X=()=>{G(!1)},q=()=>{R.current=null,U.current=null,H(!1)};function $(){if(e.detailsConfiguration?.data)return e.detailsConfiguration?.data(e.user,e.group)}const ee=r.useCallback((()=>{if(c?.menu)return c.menu(F,M);const e=I.getDataSource().getAuxiliaryHeaderMenu(F,M);return g.jsxs(g.Fragment,{children:[E||e.map((e=>e)),D?null:g.jsx("div",{className:"cc-messages__header-menu-wrapper",style:{height:"100%",width:"100%",border:"none",background:"transparent",borderRadius:0,marginLeft:"16px"},children:g.jsx("cometchat-button",{iconURL:_,buttonStyle:JSON.stringify(Pl),ref:L,onClick:Z})})]})}),[c,F,M,E,D,_]);return function(e,t,n,o,i,a,l,c,C,g,d){r.useEffect((()=>{s.CometChat.getLoggedinUser().then((e=>{e&&t(e)}))}),[t]),r.useEffect((()=>{const e=o.current;if(!e)return;const t=e=>{i(!0)};return a?.menu?e.removeEventListener("cc-menu-clicked",t):e.addEventListener("cc-menu-clicked",t),()=>{e.removeEventListener("cc-menu-clicked",t)}}),[a,o,i]),r.useEffect((()=>{l&&(g(null),c((e=>(e?.getUid()!==l?.getUid()&&(i(!1),d(!1)),l))))}),[l,c,g,i,d]),r.useEffect((()=>{C&&(c(null),g((e=>(e?.getGuid()!==C?.getGuid()&&(i(!1),d(!1)),C))))}),[C,c,g,i,d]),r.useEffect((()=>{let t;return e&&(t=n()),()=>{t?.()}}),[e,n])}(v,S,Y,L,G,C,o??null,k,i??null,B,H),F||M?g.jsxs("div",{className:"cc-messages-wrapper",style:Os(x,t),children:[Q&&K.current?g.jsxs("div",{className:"cc-messages-wrapper__panel",style:_s,children:[K.current," "]}):null,g.jsxs("div",{className:"cc-messages",style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",position:"relative",boxSizing:"border-box",justifyContent:"space-between",borderRadius:"inherit"},children:[w?null:g.jsx("div",{className:"cc-messages__header",style:Vs,children:b||g.jsx(Na,{user:F,group:M,subtitleView:c?.subtitleView,disableUsersPresence:c?.disableUsersPresence,protectedGroupIcon:c?.protectedGroupIcon,privateGroupIcon:c?.privateGroupIcon,menu:ee(),avatarStyle:c?.avatarStyle,statusIndicatorStyle:c?.statusIndicatorStyle,messageHeaderStyle:Qs(c),listItemStyle:c?.listItemStyle,backButtonIconURL:c?.backButtonIconURL,hideBackButton:c?.hideBackButton,listItemView:c?.listItemView,onError:c?.onError,onBack:c?.onBack,disableTyping:l})}),f||g.jsx("div",{className:"cc-messages__list",style:Hs,children:g.jsx(Il,{loadingIconURL:C?.loadingIconURL,user:F,group:M,emptyStateView:C?.emptyStateView,errorStateView:C?.errorStateView,loadingStateView:C?.loadingStateView,disableSoundForMessages:A,customSoundForMessages:h,disableReceipt:C?.disableReceipt,readIcon:C?.readIcon,deliveredIcon:C?.deliveredIcon,sentIcon:C?.sentIcon,waitIcon:C?.waitIcon,errorIcon:C?.errorIcon,alignment:C?.alignment,showAvatar:C?.showAvatar,scrollToBottomOnNewMessages:C?.scrollToBottomOnNewMessages,datePattern:C?.datePattern,timestampAlignment:C?.timestampAlignment,DateSeparatorPattern:C?.DateSeparatorPattern,templates:C?.templates,messagesRequestBuilder:C?.messagesRequestBuilder||z,thresholdValue:C?.thresholdValue,onThreadRepliesClick:C?.onThreadRepliesClick||W,headerView:C?.headerView,footerView:C?.footerView,avatarStyle:C?.avatarStyle,dateSeparatorStyle:C?.dateSeparatorStyle,messageListStyle:Ns(C),onError:C?.onError,disableMentions:C?.disableMentions,hideDateSeparator:C?.hideDateSeparator,reactionsConfiguration:C?.reactionsConfiguration,disableReactions:C?.disableReactions,emojiKeyboardStyle:C?.emojiKeyboardStyle,threadIndicatorIcon:C?.threadIndicatorIcon,textFormatters:C?.textFormatters,messageInformationConfiguration:C?.messageInformationConfiguration})}),a?null:y||g.jsx("div",{className:"cc-messages__composer",style:{width:"100%",display:"flex"},children:V||a?null:g.jsx(Ua,{sendButtonIconURL:d?.sendButtonIconURL,user:F,group:M,text:d?.text,headerView:d?.headerView,onTextChange:d?.onTextChange,attachmentIconURL:d?.attachmentIconURL,attachmentOptions:d?.attachmentOptions,secondaryButtonView:d?.secondaryButtonView,auxiliaryButtonView:d?.auxilaryButtonView,auxiliaryButtonAlignment:d?.auxiliaryButtonsAlignment,sendButtonView:d?.sendButtonView,emojiIconURL:d?.emojiIconURL,hideLiveReaction:d?.hideLiveReaction,LiveReactionIconURL:d?.LiveReactionIconURL,hideLayoutMode:d?.hideLayoutMode,actionSheetStyle:d?.actionSheetStyle,messageComposerStyle:Ks(d),onSendButtonClick:d?.onSendButtonClick,onError:d?.onError,disableSoundForMessages:A,customSoundForMessage:m,hideVoiceRecording:d?.hideVoiceRecording,voiceRecordingStartIconURL:d?.voiceRecordingStartIconURL,voiceRecordingCloseIconURL:d?.voiceRecordingCloseIconURL,voiceRecordingStopIconURL:d?.voiceRecordingStopIconURL,voiceRecordingSubmitIconURL:d?.voiceRecordingSubmitIconURL,AIOptionsStyle:d?.AIOptionsStyle,AIIconURL:d?.AIIconURL,userMemberWrapperConfiguration:d?.userMemberWrapperConfiguration,textFormatters:d?.textFormatters||[],disableMentions:d?.disableMentions,mentionsWarningText:d?.mentionsWarningText,mentionsWarningStyle:d?.mentionsWarningStyle,mediaRecorderStyle:d?.mediaRecorderStyle})})]}),V&&R.current?g.jsx("div",{className:"cc-messages__threaded",style:js,children:V&&R.current?g.jsx(Rl,{parentMessage:R.current,onClose:u?.onClose||q,onError:u?.onError,closeIconURL:u?.closeIconURL,bubbleView:u?.bubbleView||U.current,messageActionView:u?.messageActionView,messageListConfiguration:u?.messageListConfiguration,messageComposerConfiguration:u?.messageComposerConfiguration,threadedMessagesStyle:u?.threadedMessagesStyle}):null}):null,P?g.jsx("div",{className:"cc-messages__live-reaction",style:{position:"absolute",bottom:"50px",right:"16px",width:"50%",height:"100%"},children:g.jsx("cometchat-live-reaction",{reactionIconURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg=="})}):null,j?g.jsx("div",{className:"cc-messages__details",style:Gs,children:g.jsx(Qi,{user:F,group:M,closeButtonIconURL:p?.closeButtonIconURL||"./assets/close2x.svg",hideProfile:p?.hideProfile,subtitleView:p?.subtitleView,customProfileView:p?.customProfileView,data:$(),disableUsersPresence:p?.disableUsersPresence,privateGroupIcon:p?.privateGroupIcon,protectedGroupIcon:p?.protectedGroupIcon,onError:p?.onError,onClose:p?.onClose||X,leaveDialogStyle:p?.leaveDialogStyle,statusIndicatorStyle:p?.statusIndicatorStyle,avatarStyle:p?.avatarStyle,detailsStyle:zs(p),listItemStyle:p?.listItemStyle,groupMembersConfiguration:p?.groupMembersConfiguration,addMembersConfiguration:p?.addMembersConfiguration,bannedMembersConfiguration:p?.bannedMembersConfiguration,transferOwnershipConfiguration:p?.transferOwnershipConfiguration})}):null]}):null};Ol.defaultProps=Ul;const jl={user:void 0,group:void 0,isMobileView:!1,messageText:"",conversationsWithMessagesStyle:{},messagesConfiguration:new t.MessagesConfiguration({}),conversationsConfiguration:new t.ConversationsConfiguration({}),onError:e=>{console.log(e)},startConversationConfiguration:new t.ContactsConfiguration({}),startConversationIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FNew%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FNew%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%201.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M10.9288822%2C11.8990317%20L7.62932866%2C12.3710104%20L8.10043948%2C9.07071466%20L16.5857676%2C0.585763632%20C17.3668205%2C-0.195254544%2018.6331574%2C-0.195254544%2019.4142103%2C0.585763632%20C20.1952632%2C1.36678181%2020.1952632%2C2.63306247%2019.4142103%2C3.41408064%20L10.9288822%2C11.8990317%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%2215.6426571%22%20y1%3D%221.52883225%22%20x2%3D%2218.4710998%22%20y2%3D%224.35714926%22%20id%3D%22Path%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16%2C12.0003604%20L16%2C18.6667267%20C16%2C19.4030732%2015.4030369%2C20%2014.6666577%2C20%20L1.33333252%2C20%20C0.596953301%2C20%200%2C19.4030732%200%2C18.6667267%20L0%2C5.33399414%20C0%2C4.59764765%200.596953301%2C4.00072088%201.33333252%2C4.00072088%20L8%2C4.00072088%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E"},Gl=e=>{const{theme:o}=r.useContext(T),{user:i,group:a,isMobileView:l,messageText:c,conversationsWithMessagesStyle:C,messagesConfiguration:d,conversationsConfiguration:u,startConversationConfiguration:p,onError:h,startConversationIconURL:m}=e,[A,x]=r.useState(null),[b,y]=r.useState(null),[f,w]=r.useState(i??null),[D,E]=r.useState(a??null),[v,S]=r.useState(!1),I=r.useRef(null),F=de(h);I.current=b;const[k,M]=ge(null),B=r.useCallback((async()=>{try{let e=f?n.CometChatUIKitConstants.MessageReceiverType.user:n.CometChatUIKitConstants.MessageReceiverType.group,t=f?f?.getUid():D?.getGuid();"string"==typeof t&&y(await s.CometChat.getConversation(t,e))}catch(e){F(e)}}),[f,D,y,F]),L=()=>{w(null),E(null),y(null)},R=e=>{try{if(I.current=e,y(e),e.getConversationType()&&e.getConversationType()===n.CometChatUIKitConstants.MessageReceiverType.user)E(null),w(e.getConversationWith());else{if(!e.getConversationType()||e.getConversationType()!==n.CometChatUIKitConstants.MessageReceiverType.group)return;w(null),E(e.getConversationWith())}}catch(e){F(e)}},U=r.useCallback(((e,t,n)=>{const o=I.current,r=A||n,i=r?.getUid()===t.getUid(),a=e.getActionFor()instanceof s.CometChat.Group;if(i&&o&&o.getConversationWith()instanceof s.CometChat.Group){let t=o.getConversationWith();if(a){e.getActionFor().getGuid()===t.getGuid()&&(y(null),E(null),w(null))}}}),[A,x,f,D,I]),P=r.useCallback((e=>{try{const t=e.getConversationType(),o=e.getConversationWith();if(t===n.CometChatUIKitConstants.MessageReceiverType.user&&f&&f.getUid()===o.getUid())w(null);else{if(t!==n.CometChatUIKitConstants.MessageReceiverType.group||!D||D.getGuid()!==o.getGuid())return;E(null)}}catch(e){F(e)}}),[D,E,f,w,F]),O=r.useCallback((()=>{try{const e=n.CometChatConversationEvents.ccConversationDeleted.subscribe((e=>{P(e)})),o=n.CometChatGroupEvents.ccGroupDeleted.subscribe((e=>{D&&D.getGuid()===e.getGuid()&&(y(null),E(null))})),r=n.CometChatGroupEvents.ccGroupMemberAdded.subscribe((e=>{D&&D.getGuid()===e?.userAddedIn.getGuid()&&E(e?.userAddedIn)})),i=n.CometChatGroupEvents.ccGroupMemberBanned.subscribe((e=>{D&&D.getGuid()===e?.kickedFrom.getGuid()&&E(e?.kickedFrom)})),a=n.CometChatGroupEvents.ccGroupMemberJoined.subscribe((e=>{D&&D.getGuid()===e?.joinedGroup.getGuid()&&E(e?.joinedGroup)})),l=n.CometChatGroupEvents.ccGroupMemberKicked.subscribe((e=>{D&&D.getGuid()===e?.kickedFrom.getGuid()&&E(e?.kickedFrom)})),c=n.CometChatGroupEvents.ccOwnershipChanged.subscribe((e=>{D&&D.getGuid()===e?.group.getGuid()&&(E(e?.group),y((n=>{if(n){let o=t.CometChatUIKitUtility.clone(n);return o.setConversationWith(e?.group),o}return n})))})),C=n.CometChatGroupEvents.ccGroupLeft.subscribe((e=>{D&&D.getGuid()===e?.leftGroup.getGuid()&&A?.getUid()===e?.userLeft?.getUid()&&(E(null),y(null))})),g=n.CometChatUIEvents.ccOpenChat.subscribe((e=>{const t=e.user?.getUid();t&&s.CometChat.getConversation(t,n.CometChatUIKitConstants.MessageReceiverType.user).then((e=>{R(e)}))}));return()=>{try{e?.unsubscribe(),o?.unsubscribe(),r?.unsubscribe(),i?.unsubscribe(),a?.unsubscribe(),l?.unsubscribe(),c?.unsubscribe(),C?.unsubscribe(),g?.unsubscribe()}catch(e){F(e)}}}catch(e){F(e)}}),[D,y,E,P,F,A]),j=()=>S(!1),G=v?null:g.jsx("cometchat-button",{ref:M,iconURL:m,buttonStyle:JSON.stringify(As(v,o)),children:" "}),V=(e,t)=>{e?(E(null),w(e),j()):t&&(w(null),E(t),j())};return function(e,t,n,o,i,a,l,c,C,g,d,u,p,h){r.useEffect((()=>{let e;s.CometChat.getLoggedinUser().then((n=>(h&&(e=h(n)),t(n),()=>{e&&e()})),(e=>{o(e)}))}),[t,o]),r.useEffect((()=>{let t;return e&&(t=n(),i()),()=>{t?.()}}),[e,a,l,i,n]),r.useEffect((()=>{if(!c)return;async function e(){g?d():C()}const t="cc-button-clicked";return c.addEventListener(t,e),()=>{c.removeEventListener(t,e)}}),[c,C,d,g]),r.useEffect((()=>{u(a)}),[a,u]),r.useEffect((()=>{p(l)}),[l,p])}(A,x,O,F,B,i,a,k,(()=>S(!0)),v,j,w,E,(e=>{const t="ConversationWithMessages_Group_"+String(Date.now());return s.CometChat.addGroupListener(t,new s.CometChat.GroupListener({onGroupMemberKicked:(t,n)=>{U(t,n,e)},onGroupMemberBanned:(t,n)=>{U(t,n,e)}})),()=>s.CometChat.removeGroupListener(t)})),g.jsxs("div",{className:"cc-conversations-with-messages__wrapper",style:os(C,o),children:[g.jsx("div",{className:"cc-conversations-with-messages__sidebar",style:rs(C,o,l,f,D),children:g.jsx(Zr,{activeConversation:b??void 0,onItemClick:u?.onItemClick||R,conversationsStyle:gs(u),subtitleView:u?.subtitleView,options:u?.options??void 0,disableUsersPresence:u?.disableUsersPresence,disableReceipt:u?.disableReceipt,disableTyping:u?.disableTyping,deliveredIcon:u?.deliveredIcon,readIcon:u?.readIcon,waitIcon:u?.waitIcon,errorIcon:u?.errorIcon,datePattern:u?.datePattern,receiptStyle:u?.receiptStyle,sentIcon:u?.sentIcon,privateGroupIcon:u?.privateGroupIcon,protectedGroupIcon:u?.protectedGroupIcon,customSoundForMessages:u?.customSoundForMessages,conversationsRequestBuilder:u?.conversationsRequestBuilder,emptyStateView:u?.emptyStateView,onSelect:u?.onSelect,loadingIconURL:u?.loadingIconURL,errorStateView:u?.errorStateView,loadingStateView:u?.loadingStateView,titleAlignment:u?.titleAlignment,listItemView:u?.listItemView,menus:u?.menu||G,hideSeparator:u?.hideSeparator,hideError:u?.hideError,selectionMode:u?.selectionMode,disableSoundForMessages:u?.disableSoundForMessages,deleteConversationDialogStyle:u?.deleteConversationDialogStyle,avatarStyle:u?.avatarStyle,statusIndicatorStyle:u?.statusIndicatorStyle,badgeStyle:u?.badgeStyle,dateStyle:u?.dateStyle,listItemStyle:u?.listItemStyle,backdropStyle:ms(C,u),disableMentions:u?.disableMentions,textFormatters:u?.textFormatters})}),v||!f&&!D?null:g.jsx("div",{className:"cc-conversations-with-messages__main",style:as(C,l,f,D),children:g.jsx(Ol,{auxiliaryMenu:d?.messageHeaderConfiguration.menu,user:f??void 0,group:D??void 0,messageHeaderConfiguration:{...d?.messageHeaderConfiguration,onBack:d?.messageHeaderConfiguration?.onBack||L,hideBackButton:!l,messageHeaderStyle:{...ds(C,d,l),...d?.messageHeaderConfiguration?.messageHeaderStyle}},messageListConfiguration:d?.messageListConfiguration,messageComposerConfiguration:{...d?.messageComposerConfiguration,messageComposerStyle:{...us(C,d,l),...d?.messageComposerConfiguration?.messageComposerStyle}},messagesStyle:ps(d?.messagesStyle,C),customSoundForIncomingMessages:d?.customSoundForIncomingMessages,customSoundForOutgoingMessages:d?.customSoundForOutgoingMessages,detailsConfiguration:d?.detailsConfiguration,disableSoundForMessages:d?.disableSoundForMessages,disableTyping:d?.disableTyping,hideMessageComposer:d?.hideMessageComposer,hideMessageHeader:d?.hideMessageHeader,messageComposerView:d?.messageComposerView,messageHeaderView:d?.messageHeaderView,messageListView:d?.messageListView,hideDetails:d?.hideDetails,threadedMessagesConfiguration:d?.threadedMessageConfiguration})}),v||f||D?null:(()=>{const e=c||n.localize("NO_CHATS_SELECTED");return g.jsx("div",{className:"cc-decorator-message--empty",style:hs(l,f,D),children:g.jsx("cometchat-label",{text:e,labelStyle:JSON.stringify(Cs(C,o))})})})(),v&&g.jsx(Ps,{title:n.localize("NEW_CHAT"),usersTabTitle:n.localize("USERS"),groupsTabTitle:n.localize("GROUPS"),closeIconURL:p?.closeIconURL?p?.closeIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FClose%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FClose%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%285.000000%2C%205.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%2214%22%20y2%3D%2214%22%20id%3D%22Path-9%22%20transform%3D%22translate%287.000000%2C%207.000000%29%20scale%28-1%2C%201%29%20translate%28-7.000000%2C%20-7.000000%29%20%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",onItemClick:V,onClose:p?.onClose?p?.onClose:j,tabVisibility:p?.tabVisibility,usersConfiguration:p?.usersConfiguration,groupsConfiguration:p?.groupsConfiguration,contactsStyle:p?.contactsStyle})]})};Gl.defaultProps=jl;const Vl={height:"100%",width:"100%",background:"transparent",border:"none",borderRadius:"0",textFont:"700 22px Inter, sans-serif",textColor:"rgba(20, 20, 20, 0.33)"},Hl={display:"flex",height:"100%",width:"100%",boxSizing:"border-box",position:"relative"},Ql={width:"calc(100% - 280px)",height:"100%"},Nl={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},Kl={display:"flex",justifyContent:"center",alignItems:"center",background:"inherit",border:"none",borderRadius:"inherit",width:"100%",height:"auto"},zl={width:"280px",height:"100%",position:"relative"},_l=(e,t)=>({...Hl,width:"100%",height:"100%",border:`1px solid ${t.palette.getAccent100()}`,borderRadius:"0",background:t.palette.getBackground(),...e}),Jl=(e,t,n,o)=>n?Yl(o):Wl(e,t),Yl=e=>({...e?{visibility:"hidden"}:{visibility:"visible"},...Nl,borderRadius:"inherit"}),Wl=(e,t)=>{const n=e?.borderRadius||0;return{...zl,borderRight:e?.border||`1px solid ${t.palette.getAccent100()}`,borderRadius:`${n} 0 0 ${n}`}},Zl=(e,t,n)=>t?Xl(n):ql(e),Xl=e=>({...e?{visibility:"visible"}:{visibility:"hidden"},...Nl,borderRadius:"inherit"}),ql=e=>{const t=e?.borderRadius||0;return{...Ql,borderRadius:`0 ${t} ${t} 0`}},$l=(e,t)=>({...Vl,textFont:e?.messageTextFont||n.fontHelper(t.typography.title1),textColor:e?.messageTextColor||t.palette.getAccent600()}),ec=e=>{const t=e?.groupsStyle;return{width:"100%",height:"100%",border:"0 none",borderRadius:"inherit",background:"inherit",...t}},tc=(e,t,n)=>{const o=e?.borderRadius;return{borderRadius:n?`${o} ${o} 0 0`:`0px ${o} 0px 0px`,...t?.messageHeaderConfiguration?.messageHeaderStyle}},nc=(e,t,n)=>{const o=e?.borderRadius;return{borderRadius:n?`0 0 ${o} ${o}`:`0px 0 ${o} 0px`,...t?.messageComposerConfiguration?.messageComposerStyle}},oc=(e,t)=>{let n={visibility:"hidden"};return t||e||(n={visibility:"visible"}),{...Kl,...n,width:"calc(100% - 280px)"}},rc=e=>e?{...Nl,background:"inherit",borderRadius:"inherit"}:{width:"calc(100% - 280px)",background:"inherit",borderRadius:"inherit"},sc=(e,t)=>{const o=e?.joinGroupStyle;return{width:o?.width||"100%",height:o?.height||"100%",boxShadow:o?.boxShadow||"none",background:o?.background||"transparent",border:o?.border||"0",borderRadius:o?.borderRadius||"inherit",titleTextFont:o?.titleTextFont||n.fontHelper(t.typography.heading),titleTextColor:o?.titleTextFont||t.palette.getAccent700(),passwordInputPlaceholderTextFont:o?.passwordInputPlaceholderTextFont||n.fontHelper(t.typography.subtitle1),passwordInputPlaceholderTextColor:o?.passwordInputPlaceholderTextColor||t.palette.getAccent600(),passwordInputBackground:o?.passwordInputBackground||t.palette.getAccent50(),passwordInputBorder:o?.passwordInputBorder||"none",passwordInputBorderRadius:o?.passwordInputBorderRadius||"8px",passwordInputBoxShadow:o?.passwordInputBoxShadow||`${t.palette.getAccent50()} 0 0 0 1px`,passwordInputTextFont:o?.passwordInputTextFont||n.fontHelper(t.typography.subtitle1),passwordInputTextColor:o?.passwordInputTextColor||t.palette.getAccent(),joinButtonTextFont:o?.joinButtonTextFont||n.fontHelper(t.typography.title2),joinButtonTextColor:o?.joinButtonTextColor||t.palette.getBackground(),joinButtonBackground:o?.joinButtonBackground||t.palette.getPrimary(),joinButtonBorderRadius:o?.joinButtonBorderRadius||"8px",joinButtonBorder:o?.joinButtonBorder||"none"}},ic=(e,t,o)=>{const r=t?.messageHeaderStyle;return{background:r?.background||"inherit",border:"none",borderRadius:r?.borderRadius||e?.borderRadius||"inherit",onlineStatusColor:r?.onlineStatusColor||o.palette.getSuccess(),privateGroupIconBackground:r?.privateGroupIconBackground||o.palette.getSuccess(),passwordGroupIconBackground:r?.passwordGroupIconBackground||"RGB(247, 165, 0)",backButtonIconTint:r?.backButtonIconTint||o.palette.getPrimary(),subtitleTextColor:r?.subtitleTextColor||o.palette.getAccent600(),subtitleTextFont:r?.subtitleTextFont||n.fontHelper(o.typography.subtitle2),typingIndicatorTextColor:r?.typingIndicatorTextColor||o.palette.getPrimary(),typingIndicatorTextFont:r?.typingIndicatorTextFont||n.fontHelper(o.typography.subtitle1)}},ac=(e,t)=>{const o=e?.listItemStyle;return{width:o?.width||"100%",height:o?.height||"45px",background:o?.background||"inherit",hoverBackground:o?.hoverBackground||"transparent",activeBackground:o?.activeBackground||"transparent",borderRadius:o?.borderRadius||"0",titleFont:o?.titleFont||n.fontHelper(t.typography.title2),titleColor:o?.titleColor||t.palette.getAccent(),border:o?.border||"none",separatorColor:o?.separatorColor||""}},lc=e=>({height:e?.height,width:e?.width,position:"absolute"}),cc=e=>{if(e)return{...Nl,background:"inherit",borderRadius:"inherit"}},Cc=(e,t,o)=>{let r="360px",s="500px";o&&(r="100%",s="100%");const i=e?.createGroupStyle;return{width:i?.width||r,height:i?.height||s,border:i?.border||"0 none",borderRadius:i?.borderRadius||"0",background:i?.background||t.palette.getBackground(),boxShadow:i?.boxShadow||`${t.palette.getAccent100()} 4px 16px 32px 4px`,titleTextFont:i?.titleTextFont||n.fontHelper(t.typography.heading),titleTextColor:i?.titleTextColor||t.palette.getAccent(),groupTypeTextFont:i?.groupTypeTextFont||n.fontHelper(t.typography.text3),groupTypeBorder:i?.groupTypeBorder||"0 none",groupTypeBorderRadius:i?.groupTypeBorderRadius||"0px",groupTypeTextColor:i?.groupTypeTextColor||t.palette.getAccent(),groupTypeTextBackground:i?.groupTypeTextBackground||"inherit",groupTypeBackground:i?.groupTypeBackground||t.palette.getAccent100(),groupTypeBoxShadow:i?.groupTypeBoxShadow||"",activeGroupTypeTextFont:i?.activeGroupTypeTextFont||n.fontHelper(t.typography.text3),activeGroupTypeTextColor:i?.activeGroupTypeTextColor||t.palette.getAccent(),activeGroupTypeBackground:i?.activeGroupTypeBackground||t.palette.getAccent900(),activeGroupTypeBoxShadow:i?.activeGroupTypeBoxShadow||`${t.palette.getAccent200()} 0 3px 8px 0`,activeGroupTypeBorderRadius:i?.activeGroupTypeBorderRadius||"8px",activeGroupTypeBorder:i?.activeGroupTypeBorder||"none",groupTypeTextBoxShadow:i?.groupTypeTextBoxShadow||"none",groupTypeTextBorderRadius:i?.groupTypeTextBorderRadius||"7px",closeIconTint:i?.closeIconTint||t.palette.getPrimary(),errorTextFont:i?.errorTextFont||n.fontHelper(t.typography.text2),errorTextBackground:i?.errorTextBackground||t.palette.getError(),errorTextBorderRadius:i?.errorTextBorderRadius||"8px",errorTextBorder:i?.errorTextBorder||"none",errorTextColor:i?.errorTextColor||t.palette.getError(),nameInputPlaceholderTextFont:i?.nameInputPlaceholderTextFont||n.fontHelper(t.typography.subtitle1),nameInputPlaceholderTextColor:i?.nameInputPlaceholderTextColor||t.palette.getAccent600(),nameInputBackground:i?.nameInputBackground||t.palette.getAccent100(),nameInputTextFont:i?.nameInputTextFont||n.fontHelper(t.typography.subtitle1),nameInputTextColor:i?.nameInputTextColor||t.palette.getAccent(),nameInputBorder:i?.nameInputBorder||"none",nameInputBorderRadius:i?.nameInputBorderRadius||"8px",nameInputBoxShadow:i?.nameInputBoxShadow||`${t.palette.getAccent100()} 0 0 0 1px`,passwordInputPlaceholderTextFont:i?.passwordInputPlaceholderTextFont||n.fontHelper(t.typography.subtitle1),passwordInputPlaceholderTextColor:i?.passwordInputPlaceholderTextColor||t.palette.getAccent600(),passwordInputBackground:i?.passwordInputBackground||t.palette.getAccent100(),passwordInputBorder:i?.passwordInputBorder||"none",passwordInputBorderRadius:i?.passwordInputBorderRadius||"8px",passwordInputBoxShadow:i?.passwordInputBoxShadow||`${t.palette.getAccent100()} 0 0 0 1px`,passwordInputTextFont:i?.passwordInputTextFont||n.fontHelper(t.typography.subtitle1),passwordInputTextColor:i?.passwordInputTextColor||t.palette.getAccent(),createGroupButtonTextFont:i?.createGroupButtonTextFont||n.fontHelper(t.typography.title2),createGroupButtonTextColor:i?.createGroupButtonTextColor||t.palette.getAccent("dark"),createGroupButtonBackground:i?.createGroupButtonBackground||t.palette.getPrimary(),createGroupButtonBorderRadius:i?.createGroupButtonBorderRadius||"8px",createGroupButtonBorder:i?.createGroupButtonBorder||"none"}},gc=e=>({height:"24px",width:"24px",border:"none",borderRadius:"0",background:"transparent",buttonIconTint:`${e.palette.getPrimary()}`,padding:"0"});const dc={group:void 0,isMobileView:!1,messageText:"",groupsWithMessagesStyle:{},messagesConfiguration:new t.MessagesConfiguration({}),groupsConfiguration:new t.GroupsConfiguration({}),createGroupConfiguration:new t.CreateGroupConfiguration({}),joinGroupConfiguration:new t.JoinGroupConfiguration({}),onError:e=>{console.log(e)}},uc=e=>{const{theme:t}=r.useContext(T),{group:o,isMobileView:i,messageText:a,groupsWithMessagesStyle:l,messagesConfiguration:c,groupsConfiguration:C,createGroupConfiguration:d,joinGroupConfiguration:u,onError:p}=e,h=d?.createClick,m=u?.onError,A=u?.joinClick,[x,b]=r.useState(null),[y,f]=ge(null),[w,D]=ge(null),E=r.useRef(null),[v,S]=r.useState(!1),[I,F]=r.useState(!1),[k,M]=r.useState(void 0),[B,L]=r.useState(o??void 0),[R,U]=r.useState(null),P=de(p),O=r.useCallback((()=>{S(!1)}),[]),j=()=>{F(!1)},G=e=>{try{if(U(null),F(!1),e.getHasJoined())return void L(e);if(e.getType()===n.CometChatUIKitConstants.GroupTypes.password)return L(void 0),M(e),void F(!0);s.CometChat.joinGroup(e).then((e=>{L(e)}),(e=>{P(e)}))}catch(e){P(e)}},V=r.useCallback((e=>{try{let t=e?.detail?.response;F(!1),M(void 0),t&&L(t)}catch(e){P(e)}}),[L,M,F,P]),H=r.useCallback((()=>{try{const e=n.CometChatGroupEvents.ccGroupDeleted.subscribe((e=>{B&&B.getGuid()===e.getGuid()&&L(void 0)})),t=n.CometChatGroupEvents.ccGroupCreated.subscribe((e=>{e&&(L(e),S(!1))})),o=n.CometChatGroupEvents.ccGroupMemberAdded.subscribe((e=>{B&&B.getGuid()===e?.userAddedIn.getGuid()&&(L(e?.userAddedIn),S(!1))})),r=n.CometChatGroupEvents.ccGroupMemberBanned.subscribe((e=>{B&&B.getGuid()===e?.kickedFrom.getGuid()&&L(e?.kickedFrom)})),s=n.CometChatGroupEvents.ccGroupMemberJoined.subscribe((e=>{B&&B.getGuid()===e?.joinedGroup.getGuid()&&L(e?.joinedGroup)})),i=n.CometChatGroupEvents.ccGroupMemberKicked.subscribe((e=>{B&&B.getGuid()===e?.kickedFrom.getGuid()&&L(e?.kickedFrom)})),a=n.CometChatGroupEvents.ccOwnershipChanged.subscribe((e=>{B&&B.getGuid()===e?.group.getGuid()&&L(e?.group)})),l=n.CometChatGroupEvents.ccGroupLeft.subscribe((e=>{B&&B.getGuid()===e?.leftGroup.getGuid()&&x?.getUid()===e?.userLeft?.getUid()&&L(e?.leftGroup)})),c=n.CometChatUIEvents.ccOpenChat.subscribe((e=>{const t=e.user;t&&(L(void 0),U(t))}));return()=>{e.unsubscribe(),o.unsubscribe(),r.unsubscribe(),s.unsubscribe(),i.unsubscribe(),a.unsubscribe(),l.unsubscribe(),t.unsubscribe(),c.unsubscribe()}}catch(e){P(e)}}),[B,L,U,S,P,x]),Q=r.useCallback((e=>{if(!i)return null;let n=u?.messageHeaderConfiguration;return g.jsx("div",{slot:"headerView",style:{position:"absolute",top:"0",left:"0"},children:g.jsx(Na,{group:e,subtitleView:n?.subtitleView,disableUsersPresence:n?.disableUsersPresence,protectedGroupIcon:n?.protectedGroupIcon,privateGroupIcon:n?.privateGroupIcon,menu:n?.menu,messageHeaderStyle:ic(l,n,t),backButtonIconURL:n?.backButtonIconURL,hideBackButton:n?.hideBackButton||!1,onError:n?.onError,onBack:n?.onBack||j,listItemStyle:ac(n,t),statusIndicatorStyle:n?.statusIndicatorStyle,avatarStyle:n?.avatarStyle})})}),[l,i,u?.messageHeaderConfiguration,t]),N=()=>g.jsx("cometchat-create-group",{createGroupStyle:JSON.stringify(Cc(d,t,i)),closeButtonIconURL:d?.closeButtonIconURL,ref:f});const K=r.useCallback((()=>g.jsx("cometchat-icon-button",{iconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FPlus%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FPlus%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%283.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%229%22%20y1%3D%220%22%20x2%3D%229%22%20y2%3D%2218%22%20id%3D%22Path-10%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cline%20x1%3D%220%22%20y1%3D%229%22%20x2%3D%2218%22%20y2%3D%229%22%20id%3D%22Path-11%22%3E%3C%2Fline%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",hoverText:n.localize("CREATE_GROUP"),buttonStyle:JSON.stringify(gc(t)),ref:E})),[t]);return function(e,t,n,o,i,a,l,c,C,g,d,u,p,h,m,A,x,b,y){r.useEffect((()=>{s.CometChat.getLoggedinUser().then((e=>{t(e)}),(e=>{o(e)}))}),[t,o]),r.useEffect((()=>{if(e)return n()}),[e,n]),r.useEffect((()=>{const e=u.current;if(!e)return;const t=()=>{p()};return e.addEventListener("cc-button-clicked",t),()=>{e.removeEventListener("cc-button-clicked",t)}}),[p,u]),r.useEffect((()=>{i?(C?.messageHeaderConfiguration&&(C.messageHeaderConfiguration.hideBackButton=!1),a?.messageHeaderConfiguration&&(a.messageHeaderConfiguration.hideBackButton=!1)):(C?.messageHeaderConfiguration&&(C.messageHeaderConfiguration.hideBackButton=!0),a?.messageHeaderConfiguration&&(a.messageHeaderConfiguration.hideBackButton=!0))}),[i,a,C]),r.useEffect((()=>{c(l)}),[l,c]),r.useEffect((()=>{C?.messageHeaderConfiguration?.onBack||C?.messageHeaderConfiguration&&(C.messageHeaderConfiguration.onBack=g)}),[C,g]),r.useEffect((()=>{if(!m)return;const e="cc-joingroup-joined",t=e=>A(e);return m.addEventListener(e,t),()=>{m.removeEventListener(e,t)}}),[m,A]),r.useEffect((()=>{if(!d)return;const e="cc-creategroup-close-clicked",t=()=>h();return d.addEventListener(e,t),()=>{d.removeEventListener(e,t)}}),[d,h]),r.useEffect((()=>{if(d)return x?(d.createClick=x,()=>{d.createClick=null}):void 0}),[x,d]),r.useEffect((()=>{if(m)return y?(m.joinClick=y,()=>{m.joinClick=null}):void 0}),[y,m]),r.useEffect((()=>{if(m)return b?(m.onError=b,()=>{m.onError=null}):void 0}),[b,m])}(x,b,H,P,i,u,o,L,c,(()=>{U(null),L(void 0)}),y,E,(()=>S(!0)),O,w,V,h,m,A),g.jsx(g.Fragment,{children:g.jsxs("div",{className:"cc-groups-with-messages__wrapper",style:_l(l,t),children:[g.jsx("div",{className:"cc-groups-with-messages__sidebar",style:Jl(l,t,i,B),children:g.jsx(Rs,{activeGroup:B??void 0,hideSearch:C?.hideSearch,searchIconURL:C?.searchIconURL,searchRequestBuilder:C?.searchRequestBuilder,onItemClick:C?.onItemClick||G,groupsStyle:ec(C),subtitleView:C?.subtitleView,options:C?.options??void 0,privateGroupIcon:C?.privateGroupIcon,passwordGroupIcon:C?.protectedGroupIcon,groupsRequestBuilder:C?.groupsRequestBuilder,emptyStateView:C?.emptyStateView,onSelect:C?.onSelect,loadingIconURL:C?.loadingIconURL,errorStateView:C?.errorStateView,loadingStateView:C?.loadingStateView,titleAlignment:C?.titleAlignment,listItemView:C?.listItemView,menus:C?.menu||K(),hideSeparator:C?.hideSeparator,hideError:C?.hideError,selectionMode:C?.selectionMode,listItemStyle:C?.listItemStyle,avatarStyle:C?.avatarStyle,statusIndicatorStyle:C?.statusIndicatorStyle})}),B||R?g.jsx("div",{className:"cc-groups-with-messages__main",style:Zl(l,i,B),children:g.jsx(Ol,{user:R||void 0,group:B||void 0,messageHeaderConfiguration:{...c?.messageHeaderConfiguration,onBack:c?.messageHeaderConfiguration?.onBack||j,hideBackButton:c?.messageHeaderConfiguration?.hideBackButton||!i,messageHeaderStyle:{...tc(l,c,i),...c?.messageHeaderConfiguration?.messageHeaderStyle}},messageListConfiguration:c?.messageListConfiguration,messageComposerConfiguration:{...c?.messageComposerConfiguration,messageComposerStyle:{...nc(l,c,i),...c?.messageComposerConfiguration?.messageComposerStyle}},messagesStyle:(z=c?.messagesStyle,_=l,{background:_?.background,...z}),customSoundForIncomingMessages:c?.customSoundForIncomingMessages,customSoundForOutgoingMessages:c?.customSoundForOutgoingMessages,detailsConfiguration:c?.detailsConfiguration,disableSoundForMessages:c?.disableSoundForMessages,disableTyping:c?.disableTyping,hideMessageComposer:c?.hideMessageComposer,hideMessageHeader:c?.hideMessageHeader,messageComposerView:c?.messageComposerView,messageHeaderView:c?.messageHeaderView,messageListView:c?.messageListView,hideDetails:c?.hideDetails,threadedMessagesConfiguration:c?.threadedMessageConfiguration})}):null,B||R||I||k?null:(()=>{const e=a||n.localize("SELECT__GROUP");return g.jsx("div",{className:"cc-decorator-message--empty",style:oc(i,B),children:g.jsx("cometchat-label",{text:e,labelStyle:JSON.stringify($l(l,t))})})})(),I&&!R&&!B&&k?g.jsx("div",{className:"cc-withmessages__joingroup",style:rc(i),children:g.jsx("cometchat-join-group",{group:k,joinGroupStyle:JSON.stringify(sc(u,t)),ref:D,children:Q(k)})}):null,v?i?g.jsx("div",{className:"cc-withmessages__creategroup",style:cc(i),children:N()}):g.jsx("cometchat-backdrop",{backdropStyle:JSON.stringify(lc(l)),children:N()}):null]})});var z,_};uc.defaultProps=dc;const pc={height:"100%",width:"100%",background:"transparent",border:"none",borderRadius:"0",textFont:"700 22px Inter, sans-serif",textColor:"rgba(20, 20, 20, 0.33)"},hc={display:"flex",height:"100%",width:"100%",boxSizing:"border-box",position:"relative"},mc={width:"calc(100% - 280px)",height:"100%"},Ac={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},xc={display:"flex",justifyContent:"center",alignItems:"center",background:"inherit",border:"none",borderRadius:"inherit",width:"100%",height:"auto"},bc={width:"280px",height:"100%",position:"relative"},yc=(e,t)=>({...hc,width:"100%",height:"100%",border:`1px solid ${t.palette.getAccent100()}`,borderRadius:"0",background:t.palette.getBackground(),...e}),fc=(e,t,n,o)=>n?wc(o):Dc(e,t),wc=e=>({...e?{visibility:"hidden"}:{visibility:"visible"},...Ac,borderRadius:"inherit"}),Dc=(e,t)=>{const n=e?.borderRadius||0;return{...bc,borderRight:e?.border||`1px solid ${t.palette.getAccent100()}`,borderRadius:`${n} 0 0 ${n}`}},Ec=(e,t,n)=>t?vc(n):Sc(e),vc=e=>({...e?{visibility:"visible"}:{visibility:"hidden"},...Ac,borderRadius:"inherit"}),Sc=e=>{const t=e?.borderRadius||0;return{...mc,borderRadius:`0 ${t} ${t} 0`}},Ic=(e,t)=>({...pc,textFont:e?.messageTextFont||n.fontHelper(t.typography.title1),textColor:e?.messageTextColor||t.palette.getAccent600()}),Fc=e=>{const t=e?.usersStyle;return{width:"100%",height:"100%",border:"0 none",borderRadius:"inherit",background:"inherit",...t}},kc=(e,t,n)=>{const o=e?.borderRadius;return{borderRadius:n?`${o} ${o} 0 0`:`0px ${o} 0px 0px`,...t?.messageHeaderConfiguration?.messageHeaderStyle}},Tc=(e,t,n)=>{const o=e?.borderRadius;return{borderRadius:n?`0 0 ${o} ${o}`:`0px 0 ${o} 0px`,...t?.messageComposerConfiguration?.messageComposerStyle}},Mc=(e,t)=>{let n={visibility:"hidden"};return t||e||(n={visibility:"visible"}),{...xc,...n,width:"calc(100% - 280px)"}};const Bc={user:void 0,isMobileView:!1,messageText:"",usersWithMessagesStyle:{},messagesConfiguration:new t.MessagesConfiguration({}),usersConfiguration:new t.UsersConfiguration({}),onError:e=>{console.log(e)}},Lc=e=>{const{theme:t}=r.useContext(T),{user:o,isMobileView:i,messageText:a,usersWithMessagesStyle:l,messagesConfiguration:c,usersConfiguration:C,onError:d}=e,[u,p]=r.useState(o??void 0),h=()=>p(void 0),m=r.useCallback((e=>{if(e instanceof s.CometChat.CometChatException)d(e);else{let t={code:e?.code,name:e?.name,message:e?.message,details:e?.details},n=new s.CometChat.CometChatException(t);d(n)}}),[d]),A=e=>p(e),x=r.useCallback((()=>{try{const e=n.CometChatUserEvents.ccUserBlocked.subscribe((e=>{u&&u.getUid()===e.getUid()&&p(e)})),t=n.CometChatUserEvents.ccUserUnblocked.subscribe((e=>{u&&u.getUid()===e.getUid()&&p(e)}));return()=>{try{e?.unsubscribe(),t?.unsubscribe()}catch(e){m(e)}}}catch(e){m(e)}}),[u,p,m]);return function(e,t,n){r.useEffect((()=>e()),[e]),r.useEffect((()=>{n(t)}),[t,n])}(x,o,p),g.jsxs("div",{className:"cc-users-with-messages__wrapper",style:yc(l,t),children:[g.jsx("div",{className:"cc-users-with-messages__sidebar",style:fc(l,t,i,u),children:g.jsx(ir,{activeUser:u??void 0,hideSearch:C?.hideSearch,searchIconURL:C?.searchIconURL,searchRequestBuilder:C?.searchRequestBuilder,onItemClick:C?.onItemClick||A,usersStyle:Fc(C),subtitleView:C?.subtitleView,options:C?.options??void 0,usersRequestBuilder:C?.usersRequestBuilder,emptyStateView:C?.emptyStateView,onSelect:C?.onSelect,loadingIconURL:C?.loadingIconURL,errorStateView:C?.errorStateView,loadingStateView:C?.loadingStateView,tileAlignment:C?.titleAlignment,showSectionHeader:C?.showSectionHeader,listItemView:C?.listItemView,menus:C?.menu,hideSeparator:C?.hideSeparator,hideError:C?.hideError,selectionMode:C?.selectionMode,listItemStyle:C?.listItemStyle,disableUsersPresence:C?.disableUsersPresence,statusIndicatorStyle:C?.statusIndicatorStyle,avatarStyle:C?.avatarStyle})}),u?g.jsx("div",{className:"cc-users-with-messages__main",style:Ec(l,i,u),children:g.jsx(Ol,{user:u,messageHeaderConfiguration:{...c?.messageHeaderConfiguration,onBack:c?.messageHeaderConfiguration?.onBack||h,hideBackButton:c?.messageHeaderConfiguration?.hideBackButton||!i,messageHeaderStyle:{...kc(l,c,i),...c?.messageHeaderConfiguration?.messageHeaderStyle}},messageListConfiguration:c?.messageListConfiguration,messageComposerConfiguration:{...c?.messageComposerConfiguration,messageComposerStyle:{...Tc(l,c,i),...c?.messageComposerConfiguration?.messageComposerStyle}},messagesStyle:(b=c?.messagesStyle,y=l,{background:y?.background,...b}),customSoundForIncomingMessages:c?.customSoundForIncomingMessages,customSoundForOutgoingMessages:c?.customSoundForOutgoingMessages,detailsConfiguration:c?.detailsConfiguration,disableSoundForMessages:c?.disableSoundForMessages,disableTyping:c?.disableTyping,hideMessageComposer:c?.hideMessageComposer,hideMessageHeader:c?.hideMessageHeader,messageComposerView:c?.messageComposerView,messageHeaderView:c?.messageHeaderView,messageListView:c?.messageListView,hideDetails:c?.hideDetails,threadedMessagesConfiguration:c?.threadedMessageConfiguration})}):null,g.jsx(g.Fragment,{children:u?null:(()=>{const e=a||n.localize("SELECT__USER");return g.jsx("div",{className:"cc-decorator-message--empty",style:Mc(i,u),children:g.jsx("cometchat-label",{text:e,labelStyle:JSON.stringify(Ic(l,t))})})})()})]});var b,y};Lc.defaultProps=Bc;class Rc extends t.BaseStyle{constructor(e){super({}),this.tabListHeight="100%",this.tabListWidth="100%",this.tabListBorder="0 none",this.tabListBorderRadius="0",this.tabListBackground="transparent",this.tabListBoxShadow="0",this.tabListPadding="0",this.tabPaneWidth="100%",this.tabPaneHeight="100%",Object.assign(this,e)}}Object.defineProperty(exports,"ActionSheetStyle",{enumerable:!0,get:function(){return o.ActionSheetStyle}}),Object.defineProperty(exports,"AvatarStyle",{enumerable:!0,get:function(){return o.AvatarStyle}}),Object.defineProperty(exports,"BackdropStyle",{enumerable:!0,get:function(){return o.BackdropStyle}}),Object.defineProperty(exports,"BadgeStyle",{enumerable:!0,get:function(){return o.BadgeStyle}}),Object.defineProperty(exports,"ButtonGroupStyle",{enumerable:!0,get:function(){return o.ButtonGroupStyle}}),Object.defineProperty(exports,"CallscreenStyle",{enumerable:!0,get:function(){return o.CallscreenStyle}}),Object.defineProperty(exports,"CardStyle",{enumerable:!0,get:function(){return o.CardStyle}}),Object.defineProperty(exports,"ChangeScopeStyle",{enumerable:!0,get:function(){return o.ChangeScopeStyle}}),Object.defineProperty(exports,"CheckboxStyle",{enumerable:!0,get:function(){return o.CheckboxStyle}}),Object.defineProperty(exports,"CometChatActionItem",{enumerable:!0,get:function(){return o.CometChatActionItem}}),Object.defineProperty(exports,"CometChatActionSheet",{enumerable:!0,get:function(){return o.CometChatActionSheet}}),Object.defineProperty(exports,"CometChatAvatar",{enumerable:!0,get:function(){return o.CometChatAvatar}}),Object.defineProperty(exports,"CometChatBackdrop",{enumerable:!0,get:function(){return o.CometChatBackdrop}}),Object.defineProperty(exports,"CometChatBadge",{enumerable:!0,get:function(){return o.CometChatBadge}}),Object.defineProperty(exports,"CometChatButton",{enumerable:!0,get:function(){return o.CometChatButton}}),Object.defineProperty(exports,"CometChatButtonGroup",{enumerable:!0,get:function(){return o.CometChatButtonGroup}}),Object.defineProperty(exports,"CometChatCallscreenWrapper",{enumerable:!0,get:function(){return o.CometChatCallscreenWrapper}}),Object.defineProperty(exports,"CometChatCard",{enumerable:!0,get:function(){return o.CometChatCard}}),Object.defineProperty(exports,"CometChatChangeScope",{enumerable:!0,get:function(){return o.CometChatChangeScope}}),Object.defineProperty(exports,"CometChatCheckbox",{enumerable:!0,get:function(){return o.CometChatCheckbox}}),Object.defineProperty(exports,"CometChatConfirmDialog",{enumerable:!0,get:function(){return o.CometChatConfirmDialog}}),Object.defineProperty(exports,"CometChatContextMenu",{enumerable:!0,get:function(){return o.CometChatContextMenu}}),Object.defineProperty(exports,"CometChatCreateGroup",{enumerable:!0,get:function(){return o.CometChatCreateGroup}}),Object.defineProperty(exports,"CometChatDate",{enumerable:!0,get:function(){return o.CometChatDate}}),Object.defineProperty(exports,"CometChatDivider",{enumerable:!0,get:function(){return o.CometChatDivider}}),Object.defineProperty(exports,"CometChatDocumentBubble",{enumerable:!0,get:function(){return o.CometChatDocumentBubble}}),Object.defineProperty(exports,"CometChatDraggable",{enumerable:!0,get:function(){return o.CometChatDraggable}}),Object.defineProperty(exports,"CometChatDropdown",{enumerable:!0,get:function(){return o.CometChatDropdown}}),Object.defineProperty(exports,"CometChatEmoji",{enumerable:!0,get:function(){return o.CometChatEmoji}}),Object.defineProperty(exports,"CometChatEmojiKeyboard",{enumerable:!0,get:function(){return o.CometChatEmojiKeyboard}}),Object.defineProperty(exports,"CometChatFullScreenViewer",{enumerable:!0,get:function(){return o.CometChatFullScreenViewer}}),Object.defineProperty(exports,"CometChatIcon",{enumerable:!0,get:function(){return o.CometChatIcon}}),Object.defineProperty(exports,"CometChatIconButton",{enumerable:!0,get:function(){return o.CometChatIconButton}}),Object.defineProperty(exports,"CometChatInput",{enumerable:!0,get:function(){return o.CometChatInput}}),Object.defineProperty(exports,"CometChatJoinGroup",{enumerable:!0,get:function(){return o.CometChatJoinGroup}}),Object.defineProperty(exports,"CometChatLabel",{enumerable:!0,get:function(){return o.CometChatLabel}}),Object.defineProperty(exports,"CometChatListItem",{enumerable:!0,get:function(){return o.CometChatListItem}}),Object.defineProperty(exports,"CometChatLiveReaction",{enumerable:!0,get:function(){return o.CometChatLiveReaction}}),Object.defineProperty(exports,"CometChatLoader",{enumerable:!0,get:function(){return o.CometChatLoader}}),Object.defineProperty(exports,"CometChatMediaRecorder",{enumerable:!0,get:function(){return o.CometChatMediaRecorder}}),Object.defineProperty(exports,"CometChatMenuList",{enumerable:!0,get:function(){return o.CometChatMenuList}}),Object.defineProperty(exports,"CometChatMessageInput",{enumerable:!0,get:function(){return o.CometChatMessageInput}}),Object.defineProperty(exports,"CometChatModal",{enumerable:!0,get:function(){return o.CometChatModal}}),Object.defineProperty(exports,"CometChatPopover",{enumerable:!0,get:function(){return o.CometChatPopover}}),Object.defineProperty(exports,"CometChatPreview",{enumerable:!0,get:function(){return o.CometChatPreview}}),Object.defineProperty(exports,"CometChatQuickView",{enumerable:!0,get:function(){return o.CometChatQuickView}}),Object.defineProperty(exports,"CometChatRadioButton",{enumerable:!0,get:function(){return o.CometChatRadioButton}}),Object.defineProperty(exports,"CometChatReceipt",{enumerable:!0,get:function(){return o.CometChatReceipt}}),Object.defineProperty(exports,"CometChatSearchInput",{enumerable:!0,get:function(){return o.CometChatSearchInput}}),Object.defineProperty(exports,"CometChatSingleSelect",{enumerable:!0,get:function(){return o.CometChatSingleSelect}}),Object.defineProperty(exports,"CometChatStatusIndicator",{enumerable:!0,get:function(){return o.CometChatStatusIndicator}}),Object.defineProperty(exports,"CometChatTextInput",{enumerable:!0,get:function(){return o.CometChatTextInput}}),Object.defineProperty(exports,"ConfirmDialogStyle",{enumerable:!0,get:function(){return o.ConfirmDialogStyle}}),Object.defineProperty(exports,"ContextMenuStyle",{enumerable:!0,get:function(){return o.ContextMenuStyle}}),Object.defineProperty(exports,"CreateGroupStyle",{enumerable:!0,get:function(){return o.CreateGroupStyle}}),Object.defineProperty(exports,"DateStyle",{enumerable:!0,get:function(){return o.DateStyle}}),Object.defineProperty(exports,"DocumentBubbleStyle",{enumerable:!0,get:function(){return o.DocumentBubbleStyle}}),Object.defineProperty(exports,"DropdownStyle",{enumerable:!0,get:function(){return o.DropdownStyle}}),Object.defineProperty(exports,"EmojiKeyboardStyle",{enumerable:!0,get:function(){return o.EmojiKeyboardStyle}}),Object.defineProperty(exports,"Emojis",{enumerable:!0,get:function(){return o.Emojis}}),Object.defineProperty(exports,"FileBubbleStyle",{enumerable:!0,get:function(){return o.FileBubbleStyle}}),Object.defineProperty(exports,"FullScreenViewerStyle",{enumerable:!0,get:function(){return o.FullScreenViewerStyle}}),Object.defineProperty(exports,"IconStyle",{enumerable:!0,get:function(){return o.IconStyle}}),Object.defineProperty(exports,"ImageBubbleStyle",{enumerable:!0,get:function(){return o.ImageBubbleStyle}}),Object.defineProperty(exports,"InputStyle",{enumerable:!0,get:function(){return o.InputStyle}}),Object.defineProperty(exports,"JoinGroupStyle",{enumerable:!0,get:function(){return o.JoinGroupStyle}}),Object.defineProperty(exports,"LabelStyle",{enumerable:!0,get:function(){return o.LabelStyle}}),Object.defineProperty(exports,"ListItemStyle",{enumerable:!0,get:function(){return o.ListItemStyle}}),Object.defineProperty(exports,"LoaderStyle",{enumerable:!0,get:function(){return o.LoaderStyle}}),Object.defineProperty(exports,"MediaRecorderStyle",{enumerable:!0,get:function(){return o.MediaRecorderStyle}}),Object.defineProperty(exports,"MenuListStyle",{enumerable:!0,get:function(){return o.MenuListStyle}}),Object.defineProperty(exports,"MessageInputStyle",{enumerable:!0,get:function(){return o.MessageInputStyle}}),Object.defineProperty(exports,"ModalStyle",{enumerable:!0,get:function(){return o.ModalStyle}}),Object.defineProperty(exports,"PopoverStyle",{enumerable:!0,get:function(){return o.PopoverStyle}}),Object.defineProperty(exports,"PreviewStyle",{enumerable:!0,get:function(){return o.PreviewStyle}}),Object.defineProperty(exports,"QuickViewStyle",{enumerable:!0,get:function(){return o.QuickViewStyle}}),Object.defineProperty(exports,"RadioButtonStyle",{enumerable:!0,get:function(){return o.RadioButtonStyle}}),Object.defineProperty(exports,"ReceiptStyle",{enumerable:!0,get:function(){return o.ReceiptStyle}}),Object.defineProperty(exports,"SearchInputStyle",{enumerable:!0,get:function(){return o.SearchInputStyle}}),Object.defineProperty(exports,"SingleSelectStyle",{enumerable:!0,get:function(){return o.SingleSelectStyle}}),Object.defineProperty(exports,"TextBubbleStyle",{enumerable:!0,get:function(){return o.TextBubbleStyle}}),Object.defineProperty(exports,"TextInputStyle",{enumerable:!0,get:function(){return o.TextInputStyle}}),Object.defineProperty(exports,"auxiliaryButtonAlignmentEnum",{enumerable:!0,get:function(){return o.auxiliaryButtonAlignmentEnum}}),Object.defineProperty(exports,"layoutType",{enumerable:!0,get:function(){return o.layoutType}}),exports.AIAssistBotDecorator=Te,exports.AIAssistBotExtension=Me,exports.AIConversationStarterDecorator=He,exports.AIConversationStarterExtension=Qe,exports.AIConversationSummaryDecorator=We,exports.AIConversationSummaryExtension=Ze,exports.AIExtensionDataSource=F,exports.AISmartRepliesDecorator=it,exports.AISmartRepliesExtension=at,exports.CallingExtension=kt,exports.CallingExtensionDecorator=It,exports.ChatConfigurator=I,exports.CollaborativeDocumentConfiguration=class{constructor(e){let{style:t,iconURL:n,optionIconURL:o,optionStyle:r}=e;this.style=t,this.iconURL=n,this.optionIconURL=o,this.optionStyle=r}getDocumentBubbleStyle(){return this.style}getIconURL(){return this.iconURL}getOptionIconURL(){return this.optionIconURL}getOptionStyle(){return this.optionStyle}},exports.CollaborativeDocumentExtension=Lt,exports.CollaborativeDocumentExtensionDecorator=Bt,exports.CollaborativeWhiteBoardExtensionDecorator=Pt,exports.CollaborativeWhiteboardConfiguration=class{constructor(e){let{style:t,iconURL:n,optionIconURL:o,optionStyle:r}=e;this.style=t,this.iconURL=n,this.optionIconURL=o,this.optionStyle=r}getWhiteboardBubbleStyle(){return this.style}getIconURL(){return this.iconURL}getOptionIconURL(){return this.optionIconURL}getOptionStyle(){return this.optionStyle}},exports.CollaborativeWhiteboardExtension=Ot,exports.CometChatAddMembers=cr,exports.CometChatBannedMembers=Er,exports.CometChatCallButtons=Et,exports.CometChatCallLogDetails=jo,exports.CometChatCallLogHistory=Uo,exports.CometChatCallLogParticipants=uo,exports.CometChatCallLogRecordings=Do,exports.CometChatCallLogs=$n,exports.CometChatCallLogsWithDetails=Qo,exports.CometChatContacts=Ps,exports.CometChatConversations=Zr,exports.CometChatConversationsWithMessages=Gl,exports.CometChatDetails=Qi,exports.CometChatGroupMembers=ki,exports.CometChatGroups=Rs,exports.CometChatGroupsWithMessages=uc,exports.CometChatIncomingCall=e=>{const{call:o,disableSoundForCalls:i=!1,customSoundForCalls:a="",onAccept:l,onDecline:c,acceptButtonText:C=n.localize("ACCEPT"),declineButtonText:d=n.localize("DECLINE"),subtitleView:u=null,listItemStyle:p={height:"100%",width:"100%"},avatarStyle:h={borderRadius:"16px",width:"38px",height:"38px"},incomingCallStyle:m={width:"fit-content",height:"fit-content"},onError:A=(e=>{console.log(e)})}=e,{theme:x}=r.useContext(T),[b,y]=r.useState(null),[f,w]=r.useState(!1),[D,E]=r.useState(!1),v=r.useRef(null),S=r.useRef(null),I=r.useRef(null),F=r.useRef(null),k=r.useRef(""),M=r.useRef(null),B=r.useRef(null);S.current={...Bn(x),...h},I.current={...Ln(x),...m},v.current={...Rn(I?.current,x),...p};const L=r.useRef({});L.current=(e=>({border:e?.acceptButtonBorder,borderRadius:e?.acceptButtonBorderRadius,background:e?.acceptButtonBackground,buttonTextFont:e?.acceptButtonTextFont,buttonTextColor:e?.acceptButtonTextColor,...Mn}))(I?.current);const R=r.useRef({});R.current=(e=>({border:e?.declineButtonBorder,borderRadius:e?.declineButtonBorderRadius,background:e?.declineButtonBackground,buttonTextFont:e?.declineButtonTextFont,buttonTextColor:e?.declineButtonTextColor,...Mn}))(I?.current);const U=r.useRef({});U.current={...Un(x)};const P=r.useRef(null);P.current=(e=>({height:"16px",width:"16px",iconTint:e?.subtitleTextColor||"RGBA(20, 20, 20, 0.68)"}))(I?.current);let O="incomingcall_"+(new Date).getTime(),j=n.localize("INCOMING_CALL");const G=r.useCallback((e=>{if(e instanceof s.CometChat.CometChatException)A(e);else{let t={code:e?.code,name:e?.name,message:e?.message,details:e?.details},n=new s.CometChat.CometChatException(t);A(n)}}),[A]),V=r.useCallback((()=>{try{a?t.CometChatSoundManager.play(t.CometChatSoundManager.Sound.incomingCall,a):t.CometChatSoundManager.play(t.CometChatSoundManager.Sound.incomingCall)}catch(e){G(e)}}),[a,G]),H=r.useCallback((e=>{let o=!1;try{if(t.StorageUtils.getItem(n.CometChatUIKitConstants.calls.activecall)){let r=t.StorageUtils.getItem(n.CometChatUIKitConstants.calls.activecall);o=!(!r||r.sessionId!==e.getSessionId())}else o=!1;return o}catch(e){return G(e),o}}),[G]),Q=r.useCallback(((e=n.CometChatUIKitConstants.calls.rejected)=>{try{t.CometChatSoundManager.pause(),c?c():"string"==typeof F?.current?.getSessionId()&&s.CometChat.rejectCall(F?.current?.getSessionId(),e).then((e=>{t.StorageUtils.setItem(n.CometChatUIKitConstants.calls.activecall,e),n.CometChatCallEvents.ccCallRejected.next(e),w(!1),F.current=null}),(e=>{G(e)}))}catch(e){G(e)}}),[c,G]),N=r.useCallback((e=>{try{!H(e)&&b?.getUid()!==e?.getSender()?.getUid()&&F.current?(i||setTimeout((()=>{V()}),100),w(!0)):(t.CometChatSoundManager.pause(),Q(n.CometChatUIKitConstants.calls.busy))}catch(e){G(e)}}),[H,i,V,Q,G,b]),K=r.useCallback((e=>{if(e?.key===n.CometChatUIKitConstants.calls.activecall&&(e.newValue||e.oldValue)){let n;e.newValue?n=JSON.parse(e.newValue):e.oldValue&&(n=JSON.parse(e.oldValue)),F.current?.getSessionId()===n?.sessionId&&(t.CometChatSoundManager.pause(),F.current=null,w(!1))}}),[]),z=()=>{E(!1),F.current=null,k.current=""},_=r.useCallback((()=>{try{const e=n.CometChatCallEvents.ccCallEnded.subscribe((e=>{z()}));return()=>{try{e?.unsubscribe()}catch(e){G(e)}}}catch(e){G(e)}}),[G]),J=r.useCallback((()=>{try{t.StorageUtils.attachChangeDetection(K),s.CometChat.addCallListener(O,new s.CometChat.CallListener({onIncomingCallReceived:e=>{F.current=e,N(e)},onIncomingCallCancelled:e=>{t.CometChatSoundManager.pause(),F.current=null,w(!1)}}))}catch(e){G(e)}}),[K,N,G,O]),Y=r.useCallback((()=>{try{t.StorageUtils.detachChangeDetection(K),s.CometChat.removeCallListener(O)}catch(e){G(e)}}),[K,G,O]),W=r.useCallback((()=>{try{let e=s.CometChat.getActiveCall();return new Promise(((t,n)=>{if(!e)return t({success:!0});let o=e?.getSessionId();s.CometChat.endCall(o).then((e=>t(e)),(e=>n(e)))}))}catch(e){G(e)}}),[G]),Z=r.useCallback((()=>{try{t.CometChatSoundManager.pause(),l?l():W()?.then((e=>{s.CometChat.acceptCall(F.current.getSessionId()).then((e=>{n.CometChatCallEvents.ccCallAccepted.next(e),t.StorageUtils.setItem(n.CometChatUIKitConstants.calls.activecall,e),E(!0),F.current=e,k.current=e?.getSessionId(),w(!1)}),(e=>{G(e)}))}),(e=>{G(e)}))}catch(e){}}),[W,G,l]);return function(e,t,o,i,a,l,c,C,g,d,u,p,h){r.useEffect((()=>{s.CometChat.getLoggedinUser().then((e=>{e&&t(e)}))}),[t]),r.useEffect((()=>{let t;return e&&(t=i(),a()),()=>{l(),t?.()}}),[e,a,l,i]),r.useEffect((()=>{o&&(d.current=o,g(d.current))}),[o,d,g]),r.useEffect((()=>{const e=c?.current,t=C?.current;if(!e&&!t)return;const o=()=>{u()},r=()=>{p(n.CometChatUIKitConstants.calls.rejected)};return h?(e?.addEventListener("cc-button-clicked",o),t?.addEventListener("cc-button-clicked",r)):(e?.removeEventListener("cc-button-clicked",o),t?.removeEventListener("cc-button-clicked",r)),()=>{e?.removeEventListener("cc-button-clicked",o),t?.removeEventListener("cc-button-clicked",r)}}),[h,u,p,c,C])}(b,y,o,_,J,Y,B,M,N,F,Z,Q,f),g.jsxs(g.Fragment,{children:[F.current&&f?g.jsxs("div",{className:"cc-incomingcall__wrapper",style:vn(I?.current),children:[g.jsx("div",{className:"cc-incomingcall__listitem",style:Fn,children:g.jsxs("cometchat-list-item",{title:F.current?.getSender()?.getName(),listItemStyle:JSON.stringify(v.current),hideSeparator:!0,children:[u?g.jsx("div",{slot:"subtitleView",className:"cc-incomingcall__subtitleview",children:u}):g.jsxs("div",{slot:"subtitleView",className:"cc-incomingcall__subtitleview",style:Sn,children:[g.jsx("div",{className:"cc-call__icon",children:g.jsx("cometchat-icon",{iconStyle:JSON.stringify(P.current),URL:F.current?.getType()===n.CometChatUIKitConstants.MessageTypes.audio?"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2216px%22%20height%3D%2216px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FCall%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FCall%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22streamline-icon-phone-actions-voice-mail%4024x24%22%20transform%3D%22translate%283.000000%2C%203.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0.0679824131%2C6.18726899%20L1.15322891%2C7.27252708%20C1.71745406%2C7.8368527%202.48276427%2C8.15389548%203.28076591%2C8.15389548%20C4.07876755%2C8.15389548%204.84407776%2C7.8368527%205.40830291%2C7.27252708%20L7.00415829%2C5.67746515%20C7.28631808%2C5.39534955%207.44483777%2C5.01269036%207.44483777%2C4.61368527%20C7.44483777%2C4.21468018%207.28631808%2C3.83202099%207.00415829%2C3.5499054%20L3.90079098%2C0.446504908%20C3.59388219%2C0.136593264%203.16773676%2C-0.025114152%202.73249452%2C0.00317689658%20C2.29725227%2C0.0314679452%201.89562592%2C0.246981102%201.63141818%2C0.594015717%20C-1.61783738%2C5.00961401%200.349222543%2C9.660257%204.34493966%2C13.6552063%20C8.34065677%2C17.6501557%2012.9904395%2C19.6180471%2017.4059906%2C16.3687568%20C17.7530215%2C16.1045463%2017.9685324%2C15.7029156%2017.9968231%2C15.2676687%20C18.0251139%2C14.8324218%2017.8634082%2C14.4062718%2017.5534999%2C14.0993598%20L14.450943%2C10.9959593%20C14.1688305%2C10.7137965%2013.7861754%2C10.5552751%2013.3871745%2C10.5552751%20C12.9881737%2C10.5552751%2012.6055186%2C10.7137965%2012.323406%2C10.9959593%20L10.7275507%2C12.5918317%20C10.1632311%2C13.1560629%209.8461917%2C13.9213813%209.8461917%2C14.7193915%20C9.8461917%2C15.5174016%2010.1632311%2C16.28272%2010.7275507%2C16.8469512%20L11.8249545%2C17.9443668%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E":"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2216px%22%20height%3D%2216px%22%20viewBox%3D%220%200%2024%2024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3EIcons%2F24%2FVideo%402x%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22Icons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icons%2F24%2FVideo%22%20stroke%3D%22%23000000%22%20stroke-width%3D%221.5%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%282.000000%2C%206.500000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M1.79471961%2C-7.25088203e-17%20L11.9552804%2C7.25088203e-17%20C12.5793435%2C-4.21297127e-17%2012.8056439%2C0.0649779267%2013.033792%2C0.186992889%20C13.2619401%2C0.309007852%2013.4409921%2C0.488059851%2013.5630071%2C0.716207995%20C13.6850221%2C0.94435614%2013.75%2C1.1706565%2013.75%2C1.79471961%20L13.75%2C9.20528039%20C13.75%2C9.8293435%2013.6850221%2C10.0556439%2013.5630071%2C10.283792%20C13.4409921%2C10.5119401%2013.2619401%2C10.6909921%2013.033792%2C10.8130071%20C12.8056439%2C10.9350221%2012.5793435%2C11%2011.9552804%2C11%20L1.79471961%2C11%20C1.1706565%2C11%200.94435614%2C10.9350221%200.716207995%2C10.8130071%20C0.488059851%2C10.6909921%200.309007852%2C10.5119401%200.186992889%2C10.283792%20C0.0649779267%2C10.0556439%209.39485689e-17%2C9.8293435%20-1.61693481e-16%2C9.20528039%20L4.83392135e-17%2C1.79471961%20C-2.80864751e-17%2C1.1706565%200.0649779267%2C0.94435614%200.186992889%2C0.716207995%20C0.309007852%2C0.488059851%200.488059851%2C0.309007852%200.716207995%2C0.186992889%20C0.94435614%2C0.0649779267%201.1706565%2C4.21297127e-17%201.79471961%2C-7.25088203e-17%20Z%22%20id%3D%22Rectangle%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.2599167%2C8.63041667%20L19.6304167%2C9.81475%20C19.8435282%2C9.92114296%2020.096526%2C9.90964554%2020.299109%2C9.78436146%20C20.5016921%2C9.65907738%2020.625%2C9.43785985%2020.625%2C9.19966667%20L20.625%2C1.80033333%20C20.625%2C1.56214015%2020.5016921%2C1.34092262%2020.299109%2C1.21563854%20C20.096526%2C1.09035446%2019.8435282%2C1.07885704%2019.6304167%2C1.18525%20L17.2599167%2C2.36958333%20C16.7940465%2C2.60259636%2016.4998441%2C3.07885646%2016.4999999%2C3.59975%20L16.4999999%2C7.40025%20C16.4998441%2C7.92114354%2016.7940465%2C8.39740364%2017.2599167%2C8.63041667%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E"})}),g.jsx("cometchat-label",{className:"cc-call__type",text:j,labelStyle:JSON.stringify(In(I?.current))})]}),g.jsx("div",{slot:"tailView",className:"cc-incomingcall__tailview",style:kn,children:g.jsx("div",{className:"tail__view",children:g.jsx("div",{className:"cc-incomingcall__avatar",children:g.jsx("cometchat-avatar",{avatarStyle:JSON.stringify(S.current),image:F.current?.getSender()?.getAvatar(),name:F.current?.getSender()?.getName()})})})})]})}),g.jsxs("div",{className:"cc-incomingcall-buttons",style:Tn,children:[g.jsx("cometchat-button",{ref:M,buttonStyle:JSON.stringify(R.current),text:d}),g.jsx("cometchat-button",{ref:B,buttonStyle:JSON.stringify(L.current),text:C})]})]}):null,D&&F.current&&!f?g.jsx(ct,{ongoingCallStyle:U.current,sessionID:k.current,callSettingsBuilder:function(){let e=F.current?.getType()===n.CometChatUIKitConstants.MessageTypes.audio;if(F.current?.getType()===n.CometChatUIKitConstants.calls.meeting)return;const o=(new t.CometChatUIKitCalls.CallSettingsBuilder).enableDefaultLayout(!0).setIsAudioOnlyCall(e).setCallListener(new t.CometChatUIKitCalls.OngoingCallListener({onCallEnded:()=>{t.CometChatUIKitCalls.endSession(),z()},onCallEndButtonPressed:()=>{s.CometChat.endCall(k.current).then((e=>{t.CometChatUIKitCalls.endSession(),n.CometChatCallEvents.ccCallEnded.next(e)})).catch((e=>{}))},onError:e=>{G(e)}})).build();return o}()}):null]})},exports.CometChatList=pe,exports.CometChatMessageBubble=Se,exports.CometChatMessageComposer=Ua,exports.CometChatMessageHeader=Na,exports.CometChatMessageInformation=yl,exports.CometChatMessageList=Il,exports.CometChatMessages=Ol,exports.CometChatOngoingCall=ct,exports.CometChatOutgoingCall=wt,exports.CometChatTabs=Dn,exports.CometChatThemeContext=T,exports.CometChatThreadedMessages=Rl,exports.CometChatTransferOwnership=Gi,exports.CometChatUIKit=hn,exports.CometChatUsers=ir,exports.CometChatUsersWithMessages=Lc,exports.DataSource=class{},exports.DataSourceDecorator=k,exports.ExtensionsDataSource=Ft,exports.ImageModerationConfiguration=class{constructor(e){this.style=e.style,this.confirmDialogStyle=e.confirmDialogStyle,this.backDropStyle=e.backDropStyle}getImageModerationStyle(){return this.style}getConfirmDialogSyle(){return this.confirmDialogStyle}getBackDropStyle(){return this.backDropStyle}},exports.ImageModerationExtension=Kt,exports.ImageModerationExtensionDecorator=Nt,exports.LinkPreviewConfiguration=class{constructor(e){this.style=e.style}getLinkPreviewStyle(){return this.style}},exports.LinkPreviewExtension=Yt,exports.LinkPreviewExtensionDecorator=Jt,exports.MessageTranslationConfiguration=class{constructor(e){let{style:t,optionIconURL:n,optionStyle:o}=e;this.style=t,this.optionIconURL=n,this.optionStyle=o}getMessageTranslationStyle(){return this.style}getOptionIconURL(){return this.optionIconURL}getOptionStyle(){return this.optionStyle}},exports.MessageTranslationExtension=qt,exports.MessageTranslationExtensionDecorator=Xt,exports.MessagesDataSource=S,exports.PollsConfiguration=En,exports.PollsExtension=nn,exports.PollsExtensionDecorator=tn,exports.SmartRepliesConfiguration=class{constructor(e){this.style=e.style}getSmartRepliesStyle(){return this.style}},exports.SmartReplyExtension=sn,exports.SmartReplyExtensionDecorator=rn,exports.StickersConfiguration=class{constructor(e){let{style:t,stickerIconURL:n,closeIconURL:o}=e;this.style=t,this.stickerIconURL=n,this.closeIconURL=o}getStickersStyle(){return this.style}getStickerIconURL(){return this.stickerIconURL}getCloseIconURL(){return this.closeIconURL}},exports.StickersExtension=Cn,exports.StickersExtensionDecorator=cn,exports.TabsStyle=Rc,exports.TextModeratorExtension=dn,exports.TextModeratorExtensionDecorator=gn,exports.ThumbnailGenerationExtension=pn,exports.ThumbnailGenerationExtensionDecorator=un,Object.keys(t).forEach((function(e){"default"===e||exports.hasOwnProperty(e)||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})})),Object.keys(n).forEach((function(e){"default"===e||exports.hasOwnProperty(e)||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})}));
//# sourceMappingURL=index.js.map
